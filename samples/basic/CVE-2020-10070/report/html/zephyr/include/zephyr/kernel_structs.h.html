
<html>
<head>
<title>zephyr/include/zephyr/kernel_structs.h</title>
<link rel="stylesheet" type="text/css" href="../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 /*</div><div id="2" class="line none">    2  * Copyright (c) 2016 Wind River Systems, Inc.</div><div id="3" class="line none">    3  *</div><div id="4" class="line none">    4  * SPDX-License-Identifier: Apache-2.0</div><div id="5" class="line none">    5  */</div><div id="6" class="line none">    6 </div><div id="7" class="line none">    7 /*</div><div id="8" class="line none">    8  * The purpose of this file is to provide essential/minimal kernel structure</div><div id="9" class="line none">    9  * definitions, so that they can be used without including kernel.h.</div><div id="10" class="line none">   10  *</div><div id="11" class="line none">   11  * The following rules must be observed:</div><div id="12" class="line none">   12  *  1. kernel_structs.h shall not depend on kernel.h both directly and</div><div id="13" class="line none">   13  *    indirectly (i.e. it shall not include any header files that include</div><div id="14" class="line none">   14  *    kernel.h in their dependency chain).</div><div id="15" class="line none">   15  *  2. kernel.h shall imply kernel_structs.h, such that it shall not be</div><div id="16" class="line none">   16  *    necessary to include kernel_structs.h explicitly when kernel.h is</div><div id="17" class="line none">   17  *    included.</div><div id="18" class="line none">   18  */</div><div id="19" class="line none">   19 </div><div id="20" class="line none">   20 #ifndef <a href="kernel_structs.h.html#21">ZEPHYR_KERNEL_INCLUDE_KERNEL_STRUCTS_H_</a></div><div id="21" class="line none">   21 #define <a href="kernel_structs.h.html#21">ZEPHYR_KERNEL_INCLUDE_KERNEL_STRUCTS_H_</a></div><div id="22" class="line none">   22 </div><div id="23" class="line none">   23 #if !defined(_ASMLANGUAGE)</div><div id="24" class="line none">   24 #include &lt;zephyr/sys/atomic.h&gt;</div><div id="25" class="line none">   25 #include &lt;zephyr/types.h&gt;</div><div id="26" class="line none">   26 #include &lt;zephyr/sys/dlist.h&gt;</div><div id="27" class="line none">   27 #include &lt;zephyr/sys/util.h&gt;</div><div id="28" class="line none">   28 #include &lt;zephyr/sys/<a href="sys/sys_heap.h.html#56">sys_heap</a>.h&gt;</div><div id="29" class="line none">   29 #include &lt;zephyr/<a href="kernel/thread.h.html#376">arch</a>/structs.h&gt;</div><div id="30" class="line none">   30 #include &lt;zephyr/kernel/stats.h&gt;</div><div id="31" class="line none">   31 #include &lt;zephyr/kernel/<a href="kernel.h.html#1475">obj_core</a>.h&gt;</div><div id="32" class="line none">   32 #include &lt;zephyr/sys/rb.h&gt;</div><div id="33" class="line none">   33 #endif</div><div id="34" class="line none">   34 </div><div id="35" class="line none">   35 #define <a href="kernel_structs.h.html#35">K_NUM_THREAD_PRIO</a> (CONFIG_NUM_PREEMPT_PRIORITIES + CONFIG_NUM_COOP_PRIORITIES + 1)</div><div id="36" class="line none">   36 #define <a href="kernel_structs.h.html#36">PRIQ_BITMAP_SIZE</a>  (DIV_ROUND_UP(<a href="kernel_structs.h.html#35">K_NUM_THREAD_PRIO</a>, BITS_PER_LONG))</div><div id="37" class="line none">   37 </div><div id="38" class="line none">   38 #ifdef __cplusplus</div><div id="39" class="line none">   39 extern "C" {</div><div id="40" class="line none">   40 #endif</div><div id="41" class="line none">   41 </div><div id="42" class="line none">   42 /*</div><div id="43" class="line none">   43  * Bitmask definitions for the struct k_thread.thread_state field.</div><div id="44" class="line none">   44  *</div><div id="45" class="line none">   45  * Must be before kernel_arch_data.h because it might need them to be already</div><div id="46" class="line none">   46  * defined.</div><div id="47" class="line none">   47  */</div><div id="48" class="line none">   48 </div><div id="49" class="line none">   49 /* states: common uses low bits, arch-specific use high bits */</div><div id="50" class="line none">   50 </div><div id="51" class="line none">   51 /* Not a real thread */</div><div id="52" class="line none">   52 #define <a href="kernel_structs.h.html#52">_THREAD_DUMMY</a> (BIT(0))</div><div id="53" class="line none">   53 </div><div id="54" class="line none">   54 /* Thread is waiting on an object */</div><div id="55" class="line none">   55 #define <a href="kernel_structs.h.html#55">_THREAD_PENDING</a> (BIT(1))</div><div id="56" class="line none">   56 </div><div id="57" class="line none">   57 /* Thread has not yet started */</div><div id="58" class="line none">   58 #define <a href="kernel_structs.h.html#58">_THREAD_PRESTART</a> (BIT(2))</div><div id="59" class="line none">   59 </div><div id="60" class="line none">   60 /* Thread has terminated */</div><div id="61" class="line none">   61 #define <a href="kernel_structs.h.html#61">_THREAD_DEAD</a> (BIT(3))</div><div id="62" class="line none">   62 </div><div id="63" class="line none">   63 /* Thread is suspended */</div><div id="64" class="line none">   64 #define <a href="kernel_structs.h.html#64">_THREAD_SUSPENDED</a> (BIT(4))</div><div id="65" class="line none">   65 </div><div id="66" class="line none">   66 /* Thread is in the process of aborting */</div><div id="67" class="line none">   67 #define <a href="kernel_structs.h.html#67">_THREAD_ABORTING</a> (BIT(5))</div><div id="68" class="line none">   68 </div><div id="69" class="line none">   69 /* Thread is in the process of suspending */</div><div id="70" class="line none">   70 #define <a href="kernel_structs.h.html#70">_THREAD_SUSPENDING</a> (BIT(6))</div><div id="71" class="line none">   71 </div><div id="72" class="line none">   72 /* Thread is present in the ready queue */</div><div id="73" class="line none">   73 #define <a href="kernel_structs.h.html#73">_THREAD_QUEUED</a> (BIT(7))</div><div id="74" class="line none">   74 </div><div id="75" class="line none">   75 /* end - states */</div><div id="76" class="line none">   76 </div><div id="77" class="line none">   77 #ifdef CONFIG_STACK_SENTINEL</div><div id="78" class="line none">   78 /* Magic value in lowest bytes of the stack */</div><div id="79" class="line none">   79 #define <a href="kernel_structs.h.html#79">STACK_SENTINEL</a> 0xF0F0F0F0</div><div id="80" class="line none">   80 #endif</div><div id="81" class="line none">   81 </div><div id="82" class="line none">   82 /* lowest value of _thread_base.preempt at which a thread is non-preemptible */</div><div id="83" class="line none">   83 #define <a href="kernel_structs.h.html#83">_NON_PREEMPT_THRESHOLD</a> 0x0080U</div><div id="84" class="line none">   84 </div><div id="85" class="line none">   85 /* highest value of _thread_base.preempt at which a thread is preemptible */</div><div id="86" class="line none">   86 #define <a href="kernel_structs.h.html#86">_PREEMPT_THRESHOLD</a> (<a href="kernel_structs.h.html#83">_NON_PREEMPT_THRESHOLD</a> - 1U)</div><div id="87" class="line none">   87 </div><div id="88" class="line none">   88 #if !defined(_ASMLANGUAGE)</div><div id="89" class="line none">   89 </div><div id="90" class="line none">   90 /* Two abstractions are defined here for "thread priority queues".</div><div id="91" class="line none">   91  *</div><div id="92" class="line none">   92  * One is a "dumb" list implementation appropriate for systems with</div><div id="93" class="line none">   93  * small numbers of threads and sensitive to code size.  It is stored</div><div id="94" class="line none">   94  * in sorted order, taking an O(N) cost every time a thread is added</div><div id="95" class="line none">   95  * to the list.  This corresponds to the way the original _wait_q_t</div><div id="96" class="line none">   96  * abstraction worked and is very fast as long as the number of</div><div id="97" class="line none">   97  * threads is small.</div><div id="98" class="line none">   98  *</div><div id="99" class="line none">   99  * The other is a balanced tree "fast" implementation with rather</div><div id="100" class="line none">  100  * larger code size (due to the data structure itself, the code here</div><div id="101" class="line none">  101  * is just stubs) and higher constant-factor performance overhead, but</div><div id="102" class="line none">  102  * much better O(logN) scaling in the presence of large number of</div><div id="103" class="line none">  103  * threads.</div><div id="104" class="line none">  104  *</div><div id="105" class="line none">  105  * Each can be used for either the wait_q or system ready queue,</div><div id="106" class="line none">  106  * configurable at build time.</div><div id="107" class="line none">  107  */</div><div id="108" class="line none">  108 </div><div id="109" class="line none">  109 struct <a href="kernel_structs.h.html#109">_priq_rb</a> {</div><div id="110" class="line none">  110         struct <a href="sys/rb.h.html#91">rbtree</a> <a href="kernel_structs.h.html#110">tree</a>;</div><div id="111" class="line none">  111         int <a href="kernel_structs.h.html#111">next_order_key</a>;</div><div id="112" class="line none">  112 };</div><div id="113" class="line none">  113 </div><div id="114" class="line none">  114 </div><div id="115" class="line none">  115 /* Traditional/textbook "multi-queue" structure.  Separate lists for a</div><div id="116" class="line none">  116  * small number (max 32 here) of fixed priorities.  This corresponds</div><div id="117" class="line none">  117  * to the original Zephyr scheduler.  RAM requirements are</div><div id="118" class="line none">  118  * comparatively high, but performance is very fast.  Won't work with</div><div id="119" class="line none">  119  * features like deadline scheduling which need large priority spaces</div><div id="120" class="line none">  120  * to represent their requirements.</div><div id="121" class="line none">  121  */</div><div id="122" class="line none">  122 struct <a href="kernel_structs.h.html#122">_priq_mq</a> {</div><div id="123" class="line none">  123         <a href="sys/dlist.h.html#50">sys_dlist_t</a> <a href="kernel_structs.h.html#123">queues</a>[<a href="kernel_structs.h.html#35">K_NUM_THREAD_PRIO</a>];</div><div id="124" class="line none">  124         unsigned long <a href="kernel_structs.h.html#124">bitmask</a>[<a href="kernel_structs.h.html#36">PRIQ_BITMAP_SIZE</a>];</div><div id="125" class="line none">  125 };</div><div id="126" class="line none">  126 </div><div id="127" class="line none">  127 struct <a href="kernel_structs.h.html#127">_ready_q</a> {</div><div id="128" class="line none">  128 #ifndef CONFIG_SMP</div><div id="129" class="line none">  129         /* always contains next thread to run: cannot be NULL */</div><div id="130" class="line none">  130         struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel_structs.h.html#130">cache</a>;</div><div id="131" class="line none">  131 #endif</div><div id="132" class="line none">  132 </div><div id="133" class="line none">  133 #if defined(CONFIG_SCHED_DUMB)</div><div id="134" class="line none">  134         <a href="sys/dlist.h.html#50">sys_dlist_t</a> <a href="kernel_structs.h.html#134">runq</a>;</div><div id="135" class="line none">  135 #elif defined(CONFIG_SCHED_SCALABLE)</div><div id="136" class="line none">  136         struct <a href="kernel_structs.h.html#109">_priq_rb</a> <a href="kernel_structs.h.html#134">runq</a>;</div><div id="137" class="line none">  137 #elif defined(CONFIG_SCHED_MULTIQ)</div><div id="138" class="line none">  138         struct <a href="kernel_structs.h.html#122">_priq_mq</a> <a href="kernel_structs.h.html#134">runq</a>;</div><div id="139" class="line none">  139 #endif</div><div id="140" class="line none">  140 };</div><div id="141" class="line none">  141 </div><div id="142" class="line none">  142 typedef struct <a href="kernel_structs.h.html#127">_ready_q</a> <a href="kernel_structs.h.html#142">_ready_q_t</a>;</div><div id="143" class="line none">  143 </div><div id="144" class="line none">  144 struct <a href="kernel_structs.h.html#144">_cpu</a> {</div><div id="145" class="line none">  145         /* nested interrupt count */</div><div id="146" class="line none">  146         uint32_t <a href="kernel_structs.h.html#146">nested</a>;</div><div id="147" class="line none">  147 </div><div id="148" class="line none">  148         /* interrupt stack pointer base */</div><div id="149" class="line none">  149         char *<a href="kernel_structs.h.html#149">irq_stack</a>;</div><div id="150" class="line none">  150 </div><div id="151" class="line none">  151         /* currently scheduled thread */</div><div id="152" class="line none">  152         struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel_structs.h.html#152">current</a>;</div><div id="153" class="line none">  153 </div><div id="154" class="line none">  154         /* one assigned idle thread per CPU */</div><div id="155" class="line none">  155         struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel_structs.h.html#155">idle_thread</a>;</div><div id="156" class="line none">  156 </div><div id="157" class="line none">  157 #ifdef CONFIG_SCHED_CPU_MASK_PIN_ONLY</div><div id="158" class="line none">  158         struct <a href="kernel_structs.h.html#127">_ready_q</a> <a href="kernel_structs.h.html#158">ready_q</a>;</div><div id="159" class="line none">  159 #endif</div><div id="160" class="line none">  160 </div><div id="161" class="line none">  161 #if (CONFIG_NUM_METAIRQ_PRIORITIES &gt; 0) &amp;&amp;                                                         \</div><div id="162" class="line none">  162         (CONFIG_NUM_COOP_PRIORITIES &gt; CONFIG_NUM_METAIRQ_PRIORITIES)</div><div id="163" class="line none">  163         /* Coop thread preempted by current metairq, or NULL */</div><div id="164" class="line none">  164         struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel_structs.h.html#164">metairq_preempted</a>;</div><div id="165" class="line none">  165 #endif</div><div id="166" class="line none">  166 </div><div id="167" class="line none">  167         uint8_t <a href="kernel_structs.h.html#167">id</a>;</div><div id="168" class="line none">  168 </div><div id="169" class="line none">  169 #if defined(CONFIG_FPU_SHARING)</div><div id="170" class="line none">  170         void *<a href="kernel_structs.h.html#170">fp_ctx</a>;</div><div id="171" class="line none">  171 #endif</div><div id="172" class="line none">  172 </div><div id="173" class="line none">  173 #ifdef CONFIG_SMP</div><div id="174" class="line none">  174         /* True when _current is allowed to context switch */</div><div id="175" class="line none">  175         uint8_t <a href="kernel_structs.h.html#175">swap_ok</a>;</div><div id="176" class="line none">  176 #endif</div><div id="177" class="line none">  177 </div><div id="178" class="line none">  178 #ifdef CONFIG_SCHED_THREAD_USAGE</div><div id="179" class="line none">  179         /*</div><div id="180" class="line none">  180          * [usage0] is used as a timestamp to mark the beginning of an</div><div id="181" class="line none">  181          * execution window. [0] is a special value indicating that it</div><div id="182" class="line none">  182          * has been stopped (but not disabled).</div><div id="183" class="line none">  183          */</div><div id="184" class="line none">  184 </div><div id="185" class="line none">  185         uint32_t <a href="kernel_structs.h.html#185">usage0</a>;</div><div id="186" class="line none">  186 </div><div id="187" class="line none">  187 #ifdef CONFIG_SCHED_THREAD_USAGE_ALL</div><div id="188" class="line none">  188         struct k_cycle_stats *<a href="kernel/thread.h.html#146">usage</a>;</div><div id="189" class="line none">  189 #endif</div><div id="190" class="line none">  190 #endif</div><div id="191" class="line none">  191 </div><div id="192" class="line none">  192 #ifdef CONFIG_OBJ_CORE_SYSTEM</div><div id="193" class="line none">  193         struct k_obj_core  <a href="kernel.h.html#1475">obj_core</a>;</div><div id="194" class="line none">  194 #endif</div><div id="195" class="line none">  195 </div><div id="196" class="line none">  196         /* Per CPU architecture specifics */</div><div id="197" class="line none">  197         struct _cpu_arch <a href="kernel/thread.h.html#376">arch</a>;</div><div id="198" class="line none">  198 };</div><div id="199" class="line none">  199 </div><div id="200" class="line none">  200 typedef struct <a href="kernel_structs.h.html#144">_cpu</a> <a href="kernel_structs.h.html#200">_cpu_t</a>;</div><div id="201" class="line none">  201 </div><div id="202" class="line none">  202 struct <a href="kernel_structs.h.html#202">z_kernel</a> {</div><div id="203" class="line none">  203         struct <a href="kernel_structs.h.html#144">_cpu</a> <a href="kernel_structs.h.html#203">cpus</a>[CONFIG_MP_MAX_NUM_CPUS];</div><div id="204" class="line none">  204 </div><div id="205" class="line none">  205 #ifdef CONFIG_PM</div><div id="206" class="line none">  206         int32_t <a href="kernel_structs.h.html#206">idle</a>; /* Number of ticks for kernel idling */</div><div id="207" class="line none">  207 #endif</div><div id="208" class="line none">  208 </div><div id="209" class="line none">  209         /*</div><div id="210" class="line none">  210          * ready queue: can be big, keep after small fields, since some</div><div id="211" class="line none">  211          * assembly (e.g. ARC) are limited in the encoding of the offset</div><div id="212" class="line none">  212          */</div><div id="213" class="line none">  213 #ifndef CONFIG_SCHED_CPU_MASK_PIN_ONLY</div><div id="214" class="line none">  214         struct <a href="kernel_structs.h.html#127">_ready_q</a> <a href="kernel_structs.h.html#158">ready_q</a>;</div><div id="215" class="line none">  215 #endif</div><div id="216" class="line none">  216 </div><div id="217" class="line none">  217 #ifdef CONFIG_FPU_SHARING</div><div id="218" class="line none">  218         /*</div><div id="219" class="line none">  219          * A 'current_sse' field does not exist in addition to the 'current_fp'</div><div id="220" class="line none">  220          * field since it's not possible to divide the IA-32 non-integer</div><div id="221" class="line none">  221          * registers into 2 distinct blocks owned by differing threads.  In</div><div id="222" class="line none">  222          * other words, given that the 'fxnsave/fxrstor' instructions</div><div id="223" class="line none">  223          * save/restore both the X87 FPU and XMM registers, it's not possible</div><div id="224" class="line none">  224          * for a thread to only "own" the XMM registers.</div><div id="225" class="line none">  225          */</div><div id="226" class="line none">  226 </div><div id="227" class="line none">  227         /* thread that owns the FP regs */</div><div id="228" class="line none">  228         struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel_structs.h.html#228">current_fp</a>;</div><div id="229" class="line none">  229 #endif</div><div id="230" class="line none">  230 </div><div id="231" class="line none">  231 #if defined(CONFIG_THREAD_MONITOR)</div><div id="232" class="line none">  232         struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel_structs.h.html#232">threads</a>; /* singly linked list of ALL threads */</div><div id="233" class="line none">  233 #endif</div><div id="234" class="line none">  234 #ifdef CONFIG_SCHED_THREAD_USAGE_ALL</div><div id="235" class="line none">  235         struct k_cycle_stats <a href="kernel/thread.h.html#146">usage</a>[CONFIG_MP_MAX_NUM_CPUS];</div><div id="236" class="line none">  236 #endif</div><div id="237" class="line none">  237 </div><div id="238" class="line none">  238 #ifdef CONFIG_OBJ_CORE_SYSTEM</div><div id="239" class="line none">  239         struct k_obj_core  <a href="kernel.h.html#1475">obj_core</a>;</div><div id="240" class="line none">  240 #endif</div><div id="241" class="line none">  241 </div><div id="242" class="line none">  242 #if defined(CONFIG_SMP) &amp;&amp; defined(CONFIG_SCHED_IPI_SUPPORTED)</div><div id="243" class="line none">  243         /* Identify CPUs to send IPIs to at the next scheduling point */</div><div id="244" class="line none">  244         <a href="sys/atomic_types.h.html#15">atomic_t</a> <a href="kernel_structs.h.html#244">pending_ipi</a>;</div><div id="245" class="line none">  245 #endif</div><div id="246" class="line none">  246 };</div><div id="247" class="line none">  247 </div><div id="248" class="line none">  248 typedef struct <a href="kernel_structs.h.html#202">z_kernel</a> <a href="kernel_structs.h.html#248">_kernel_t</a>;</div><div id="249" class="line none">  249 </div><div id="250" class="line none">  250 extern struct <a href="kernel_structs.h.html#202">z_kernel</a> _kernel;</div><div id="251" class="line none">  251 </div><div id="252" class="line none">  252 extern <a href="sys/atomic_types.h.html#15">atomic_t</a> _cpus_active;</div><div id="253" class="line none">  253 </div><div id="254" class="line none">  254 #ifdef CONFIG_SMP</div><div id="255" class="line none">  255 </div><div id="256" class="line none">  256 /* True if the current context can be preempted and migrated to</div><div id="257" class="line none">  257  * another SMP CPU.</div><div id="258" class="line none">  258  */</div><div id="259" class="line none">  259 bool z_smp_cpu_mobile(void);</div><div id="260" class="line none">  260 </div><div id="261" class="line none">  261 #define <a href="kernel_structs.h.html#261">_current_cpu</a> ({ __ASSERT_NO_MSG(!z_smp_cpu_mobile()); \</div><div id="262" class="line none">  262                         arch_curr_cpu(); })</div><div id="263" class="line none">  263 #define <a href="kernel_structs.h.html#263">_current</a> k_sched_current_thread_query()</div><div id="264" class="line none">  264 </div><div id="265" class="line none">  265 #else</div><div id="266" class="line none">  266 #define <a href="kernel_structs.h.html#261">_current_cpu</a> (&amp;_kernel.<a href="kernel_structs.h.html#203">cpus</a>[0])</div><div id="267" class="line none">  267 #define <a href="kernel_structs.h.html#263">_current</a> _kernel.<a href="kernel_structs.h.html#203">cpus</a>[0].<a href="kernel_structs.h.html#152">current</a></div><div id="268" class="line none">  268 #endif</div><div id="269" class="line none">  269 </div><div id="270" class="line none">  270 /* kernel wait queue record */</div><div id="271" class="line none">  271 #ifdef CONFIG_WAITQ_SCALABLE</div><div id="272" class="line none">  272 </div><div id="273" class="line none">  273 typedef struct {</div><div id="274" class="line none">  274         struct <a href="kernel_structs.h.html#109">_priq_rb</a> <a href="kernel_structs.h.html#274">waitq</a>;</div><div id="275" class="line none">  275 } <a href="kernel_structs.h.html#286">_wait_q_t</a>;</div><div id="276" class="line none">  276 </div><div id="277" class="line none">  277 /* defined in kernel/priority_queues.c */</div><div id="278" class="line none">  278 bool z_priq_rb_lessthan(struct <a href="sys/rb.h.html#58">rbnode</a> *a, struct <a href="sys/rb.h.html#58">rbnode</a> *b);</div><div id="279" class="line none">  279 </div><div id="280" class="line none">  280 #define <a href="kernel_structs.h.html#280">Z_WAIT_Q_INIT</a>(<a href="kernel.h.html#1455">wait_q</a>) { { { .<a href="sys/rb.h.html#95">lessthan_fn</a> = z_priq_rb_lessthan } } }</div><div id="281" class="line none">  281 </div><div id="282" class="line none">  282 #else</div><div id="283" class="line none">  283 </div><div id="284" class="line none">  284 typedef struct {</div><div id="285" class="line none">  285         <a href="sys/dlist.h.html#50">sys_dlist_t</a> <a href="kernel_structs.h.html#274">waitq</a>;</div><div id="286" class="line none">  286 } <a href="kernel_structs.h.html#286">_wait_q_t</a>;</div><div id="287" class="line none">  287 </div><div id="288" class="line none">  288 #define <a href="kernel_structs.h.html#280">Z_WAIT_Q_INIT</a>(<a href="kernel.h.html#1455">wait_q</a>) { <a href="sys/dlist.h.html#211">SYS_DLIST_STATIC_INIT</a>(&amp;(<a href="kernel.h.html#1455">wait_q</a>)-&gt;<a href="kernel_structs.h.html#274">waitq</a>) }</div><div id="289" class="line none">  289 </div><div id="290" class="line none">  290 #endif /* CONFIG_WAITQ_SCALABLE */</div><div id="291" class="line none">  291 </div><div id="292" class="line none">  292 /* kernel timeout record */</div><div id="293" class="line none">  293 struct <a href="kernel_structs.h.html#293">_timeout</a>;</div><div id="294" class="line none">  294 typedef void (*<a href="kernel_structs.h.html#294">_timeout_func_t</a>)(struct <a href="kernel_structs.h.html#293">_timeout</a> *t);</div><div id="295" class="line none">  295 </div><div id="296" class="line none">  296 struct <a href="kernel_structs.h.html#293">_timeout</a> {</div><div id="297" class="line none">  297         <a href="sys/dlist.h.html#54">sys_dnode_t</a> <a href="kernel.h.html#3883">node</a>;</div><div id="298" class="line none">  298         <a href="kernel_structs.h.html#294">_timeout_func_t</a> <a href="kernel_structs.h.html#298">fn</a>;</div><div id="299" class="line none">  299 #ifdef CONFIG_TIMEOUT_64BIT</div><div id="300" class="line none">  300         /* Can't use k_ticks_t for header dependency reasons */</div><div id="301" class="line none">  301         int64_t <a href="kernel_structs.h.html#301">dticks</a>;</div><div id="302" class="line none">  302 #else</div><div id="303" class="line none">  303         int32_t <a href="kernel_structs.h.html#301">dticks</a>;</div><div id="304" class="line none">  304 #endif</div><div id="305" class="line none">  305 };</div><div id="306" class="line none">  306 </div><div id="307" class="line none">  307 typedef void (*<a href="kernel_structs.h.html#307">k_thread_timeslice_fn_t</a>)(struct <a href="arch/arch_interface.h.html#43">k_thread</a> *<a href="kernel.h.html#4031">thread</a>, void *<a href="logging/log_msg.h.html#100">data</a>);</div><div id="308" class="line none">  308 </div><div id="309" class="line none">  309 #ifdef __cplusplus</div><div id="310" class="line none">  310 }</div><div id="311" class="line none">  311 #endif</div><div id="312" class="line none">  312 </div><div id="313" class="line none">  313 #endif /* _ASMLANGUAGE */</div><div id="314" class="line none">  314 </div><div id="315" class="line none">  315 #endif /* ZEPHYR_KERNEL_INCLUDE_KERNEL_STRUCTS_H_ */</div>
</div>
</body>
</html>
