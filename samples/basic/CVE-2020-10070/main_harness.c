#include <mqtt_decoder.c>
#include <mqtt_rx.c>
#include <mqtt.c>

void harness()
{

	struct mqtt_client client;
	mqtt_evt_cb_t evt_cb;
	client.evt_cb = &evt_cb;

	uint8_t type_and_flags;
	uint32_t var_length;
	struct buf_ctx buf;

	uint8_t size;
	uint8_t *buf_start = malloc(size);
	__CPROVER_assume(buf_start != NULL);
	buf.cur = buf_start;
	buf.end = size == 0 ? buf_start : buf_start + size - 1;

	int a = mqtt_handle_packet(&client, type_and_flags, var_length, &buf);
}

int main(void)
{

	harness();
	return 0;
}
