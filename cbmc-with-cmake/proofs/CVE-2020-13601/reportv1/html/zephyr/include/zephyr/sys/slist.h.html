
<html>
<head>
<title>zephyr/include/zephyr/sys/slist.h</title>
<link rel="stylesheet" type="text/css" href="../../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 /*</div><div id="2" class="line none">    2  * Copyright (c) 2016 Intel Corporation</div><div id="3" class="line none">    3  *</div><div id="4" class="line none">    4  * SPDX-License-Identifier: Apache-2.0</div><div id="5" class="line none">    5  */</div><div id="6" class="line none">    6 </div><div id="7" class="line none">    7  /**</div><div id="8" class="line none">    8   * @file</div><div id="9" class="line none">    9   * @defgroup single-linked-list_apis Single-linked list</div><div id="10" class="line none">   10   * @ingroup datastructure_apis</div><div id="11" class="line none">   11   *</div><div id="12" class="line none">   12   * @brief Single-linked list implementation.</div><div id="13" class="line none">   13   *</div><div id="14" class="line none">   14   * Single-linked list implementation using inline macros/functions.</div><div id="15" class="line none">   15   * This API is not thread safe, and thus if a list is used across threads,</div><div id="16" class="line none">   16   * calls to functions must be protected with synchronization primitives.</div><div id="17" class="line none">   17   * @{</div><div id="18" class="line none">   18   */</div><div id="19" class="line none">   19 </div><div id="20" class="line none">   20 #ifndef <a href="slist.h.html#21">ZEPHYR_INCLUDE_SYS_SLIST_H_</a></div><div id="21" class="line none">   21 #define <a href="slist.h.html#21">ZEPHYR_INCLUDE_SYS_SLIST_H_</a></div><div id="22" class="line none">   22 </div><div id="23" class="line none">   23 #include &lt;stddef.h&gt;</div><div id="24" class="line none">   24 #include &lt;stdbool.h&gt;</div><div id="25" class="line none">   25 #include "list_gen.h"</div><div id="26" class="line none">   26 </div><div id="27" class="line none">   27 #ifdef __cplusplus</div><div id="28" class="line none">   28 extern "C" {</div><div id="29" class="line none">   29 #endif</div><div id="30" class="line none">   30 </div><div id="31" class="line none">   31 </div><div id="32" class="line none">   32 /** @cond INTERNAL_HIDDEN */</div><div id="33" class="line none">   33 struct <a href="slist.h.html#33">_snode</a> {</div><div id="34" class="line none">   34         struct <a href="slist.h.html#33">_snode</a> *<a href="slist.h.html#34">next</a>;</div><div id="35" class="line none">   35 };</div><div id="36" class="line none">   36 /** @endcond */</div><div id="37" class="line none">   37 </div><div id="38" class="line none">   38 /** Single-linked list node structure. */</div><div id="39" class="line none">   39 typedef struct <a href="slist.h.html#33">_snode</a> <a href="slist.h.html#39">sys_snode_t</a>;</div><div id="40" class="line none">   40 </div><div id="41" class="line none">   41 /** @cond INTERNAL_HIDDEN */</div><div id="42" class="line none">   42 struct <a href="slist.h.html#42">_slist</a> {</div><div id="43" class="line none">   43         <a href="slist.h.html#39">sys_snode_t</a> *<a href="slist.h.html#43">head</a>;</div><div id="44" class="line none">   44         <a href="slist.h.html#39">sys_snode_t</a> *<a href="slist.h.html#44">tail</a>;</div><div id="45" class="line none">   45 };</div><div id="46" class="line none">   46 /** @endcond */</div><div id="47" class="line none">   47 </div><div id="48" class="line none">   48 /** Single-linked list structure. */</div><div id="49" class="line none">   49 typedef struct <a href="slist.h.html#42">_slist</a> <a href="slist.h.html#49">sys_slist_t</a>;</div><div id="50" class="line none">   50 </div><div id="51" class="line none">   51 /**</div><div id="52" class="line none">   52  * @brief Provide the primitive to iterate on a list</div><div id="53" class="line none">   53  * Note: the loop is unsafe and thus __sn should not be removed</div><div id="54" class="line none">   54  *</div><div id="55" class="line none">   55  * User _MUST_ add the loop statement curly braces enclosing its own code:</div><div id="56" class="line none">   56  *</div><div id="57" class="line none">   57  *     SYS_SLIST_FOR_EACH_NODE(l, n) {</div><div id="58" class="line none">   58  *         &lt;user code&gt;</div><div id="59" class="line none">   59  *     }</div><div id="60" class="line none">   60  *</div><div id="61" class="line none">   61  * This and other SYS_SLIST_*() macros are not thread safe.</div><div id="62" class="line none">   62  *</div><div id="63" class="line none">   63  * @param __sl A pointer on a sys_slist_t to iterate on</div><div id="64" class="line none">   64  * @param __sn A sys_snode_t pointer to peek each node of the list</div><div id="65" class="line none">   65  */</div><div id="66" class="line none">   66 #define <a href="slist.h.html#66">SYS_SLIST_FOR_EACH_NODE</a>(__sl, __sn)                             \</div><div id="67" class="line none">   67         Z_GENLIST_FOR_EACH_NODE(slist, __sl, __sn)</div><div id="68" class="line none">   68 </div><div id="69" class="line none">   69 /**</div><div id="70" class="line none">   70  * @brief Provide the primitive to iterate on a list, from a node in the list</div><div id="71" class="line none">   71  * Note: the loop is unsafe and thus __sn should not be removed</div><div id="72" class="line none">   72  *</div><div id="73" class="line none">   73  * User _MUST_ add the loop statement curly braces enclosing its own code:</div><div id="74" class="line none">   74  *</div><div id="75" class="line none">   75  *     SYS_SLIST_ITERATE_FROM_NODE(l, n) {</div><div id="76" class="line none">   76  *         &lt;user code&gt;</div><div id="77" class="line none">   77  *     }</div><div id="78" class="line none">   78  *</div><div id="79" class="line none">   79  * Like SYS_SLIST_FOR_EACH_NODE(), but __dn already contains a node in the list</div><div id="80" class="line none">   80  * where to start searching for the next entry from. If NULL, it starts from</div><div id="81" class="line none">   81  * the head.</div><div id="82" class="line none">   82  *</div><div id="83" class="line none">   83  * This and other SYS_SLIST_*() macros are not thread safe.</div><div id="84" class="line none">   84  *</div><div id="85" class="line none">   85  * @param __sl A pointer on a sys_slist_t to iterate on</div><div id="86" class="line none">   86  * @param __sn A sys_snode_t pointer to peek each node of the list</div><div id="87" class="line none">   87  *             it contains the starting node, or NULL to start from the head</div><div id="88" class="line none">   88  */</div><div id="89" class="line none">   89 #define <a href="slist.h.html#89">SYS_SLIST_ITERATE_FROM_NODE</a>(__sl, __sn)                         \</div><div id="90" class="line none">   90         Z_GENLIST_ITERATE_FROM_NODE(slist, __sl, __sn)</div><div id="91" class="line none">   91 </div><div id="92" class="line none">   92 /**</div><div id="93" class="line none">   93  * @brief Provide the primitive to safely iterate on a list</div><div id="94" class="line none">   94  * Note: __sn can be removed, it will not break the loop.</div><div id="95" class="line none">   95  *</div><div id="96" class="line none">   96  * User _MUST_ add the loop statement curly braces enclosing its own code:</div><div id="97" class="line none">   97  *</div><div id="98" class="line none">   98  *     SYS_SLIST_FOR_EACH_NODE_SAFE(l, n, s) {</div><div id="99" class="line none">   99  *         &lt;user code&gt;</div><div id="100" class="line none">  100  *     }</div><div id="101" class="line none">  101  *</div><div id="102" class="line none">  102  * This and other SYS_SLIST_*() macros are not thread safe.</div><div id="103" class="line none">  103  *</div><div id="104" class="line none">  104  * @param __sl A pointer on a sys_slist_t to iterate on</div><div id="105" class="line none">  105  * @param __sn A sys_snode_t pointer to peek each node of the list</div><div id="106" class="line none">  106  * @param __sns A sys_snode_t pointer for the loop to run safely</div><div id="107" class="line none">  107  */</div><div id="108" class="line none">  108 #define <a href="slist.h.html#108">SYS_SLIST_FOR_EACH_NODE_SAFE</a>(__sl, __sn, __sns)                 \</div><div id="109" class="line none">  109         Z_GENLIST_FOR_EACH_NODE_SAFE(slist, __sl, __sn, __sns)</div><div id="110" class="line none">  110 </div><div id="111" class="line none">  111 /**</div><div id="112" class="line none">  112  * @brief Provide the primitive to resolve the container of a list node</div><div id="113" class="line none">  113  * Note: it is safe to use with NULL pointer nodes</div><div id="114" class="line none">  114  *</div><div id="115" class="line none">  115  * @param __ln A pointer on a sys_node_t to get its container</div><div id="116" class="line none">  116  * @param __cn Container struct type pointer</div><div id="117" class="line none">  117  * @param __n The field name of sys_node_t within the container struct</div><div id="118" class="line none">  118  */</div><div id="119" class="line none">  119 #define <a href="slist.h.html#119">SYS_SLIST_CONTAINER</a>(__ln, __cn, __n) \</div><div id="120" class="line none">  120         Z_GENLIST_CONTAINER(__ln, __cn, __n)</div><div id="121" class="line none">  121 </div><div id="122" class="line none">  122 /**</div><div id="123" class="line none">  123  * @brief Provide the primitive to peek container of the list head</div><div id="124" class="line none">  124  *</div><div id="125" class="line none">  125  * @param __sl A pointer on a sys_slist_t to peek</div><div id="126" class="line none">  126  * @param __cn Container struct type pointer</div><div id="127" class="line none">  127  * @param __n The field name of sys_node_t within the container struct</div><div id="128" class="line none">  128  */</div><div id="129" class="line none">  129 #define <a href="slist.h.html#129">SYS_SLIST_PEEK_HEAD_CONTAINER</a>(__sl, __cn, __n) \</div><div id="130" class="line none">  130         Z_GENLIST_PEEK_HEAD_CONTAINER(slist, __sl, __cn, __n)</div><div id="131" class="line none">  131 </div><div id="132" class="line none">  132 /**</div><div id="133" class="line none">  133  * @brief Provide the primitive to peek container of the list tail</div><div id="134" class="line none">  134  *</div><div id="135" class="line none">  135  * @param __sl A pointer on a sys_slist_t to peek</div><div id="136" class="line none">  136  * @param __cn Container struct type pointer</div><div id="137" class="line none">  137  * @param __n The field name of sys_node_t within the container struct</div><div id="138" class="line none">  138  */</div><div id="139" class="line none">  139 #define <a href="slist.h.html#139">SYS_SLIST_PEEK_TAIL_CONTAINER</a>(__sl, __cn, __n) \</div><div id="140" class="line none">  140         Z_GENLIST_PEEK_TAIL_CONTAINER(slist, __sl, __cn, __n)</div><div id="141" class="line none">  141 </div><div id="142" class="line none">  142 /**</div><div id="143" class="line none">  143  * @brief Provide the primitive to peek the next container</div><div id="144" class="line none">  144  *</div><div id="145" class="line none">  145  * @param __cn Container struct type pointer</div><div id="146" class="line none">  146  * @param __n The field name of sys_node_t within the container struct</div><div id="147" class="line none">  147  */</div><div id="148" class="line none">  148 #define <a href="slist.h.html#148">SYS_SLIST_PEEK_NEXT_CONTAINER</a>(__cn, __n) \</div><div id="149" class="line none">  149         Z_GENLIST_PEEK_NEXT_CONTAINER(slist, __cn, __n)</div><div id="150" class="line none">  150 </div><div id="151" class="line none">  151 /**</div><div id="152" class="line none">  152  * @brief Provide the primitive to iterate on a list under a container</div><div id="153" class="line none">  153  * Note: the loop is unsafe and thus __cn should not be detached</div><div id="154" class="line none">  154  *</div><div id="155" class="line none">  155  * User _MUST_ add the loop statement curly braces enclosing its own code:</div><div id="156" class="line none">  156  *</div><div id="157" class="line none">  157  *     SYS_SLIST_FOR_EACH_CONTAINER(l, c, n) {</div><div id="158" class="line none">  158  *         &lt;user code&gt;</div><div id="159" class="line none">  159  *     }</div><div id="160" class="line none">  160  *</div><div id="161" class="line none">  161  * @param __sl A pointer on a sys_slist_t to iterate on</div><div id="162" class="line none">  162  * @param __cn A pointer to peek each entry of the list</div><div id="163" class="line none">  163  * @param __n The field name of sys_node_t within the container struct</div><div id="164" class="line none">  164  */</div><div id="165" class="line none">  165 #define <a href="slist.h.html#165">SYS_SLIST_FOR_EACH_CONTAINER</a>(__sl, __cn, __n)                   \</div><div id="166" class="line none">  166         Z_GENLIST_FOR_EACH_CONTAINER(slist, __sl, __cn, __n)</div><div id="167" class="line none">  167 </div><div id="168" class="line none">  168 /**</div><div id="169" class="line none">  169  * @brief Provide the primitive to safely iterate on a list under a container</div><div id="170" class="line none">  170  * Note: __cn can be detached, it will not break the loop.</div><div id="171" class="line none">  171  *</div><div id="172" class="line none">  172  * User _MUST_ add the loop statement curly braces enclosing its own code:</div><div id="173" class="line none">  173  *</div><div id="174" class="line none">  174  *     SYS_SLIST_FOR_EACH_NODE_SAFE(l, c, cn, n) {</div><div id="175" class="line none">  175  *         &lt;user code&gt;</div><div id="176" class="line none">  176  *     }</div><div id="177" class="line none">  177  *</div><div id="178" class="line none">  178  * @param __sl A pointer on a sys_slist_t to iterate on</div><div id="179" class="line none">  179  * @param __cn A pointer to peek each entry of the list</div><div id="180" class="line none">  180  * @param __cns A pointer for the loop to run safely</div><div id="181" class="line none">  181  * @param __n The field name of sys_node_t within the container struct</div><div id="182" class="line none">  182  */</div><div id="183" class="line none">  183 #define <a href="slist.h.html#183">SYS_SLIST_FOR_EACH_CONTAINER_SAFE</a>(__sl, __cn, __cns, __n)       \</div><div id="184" class="line none">  184         Z_GENLIST_FOR_EACH_CONTAINER_SAFE(slist, __sl, __cn, __cns, __n)</div><div id="185" class="line none">  185 </div><div id="186" class="line none">  186 </div><div id="187" class="line none">  187 /*</div><div id="188" class="line none">  188  * Required function definitions for the list_gen.h interface</div><div id="189" class="line none">  189  *</div><div id="190" class="line none">  190  * These are the only functions that do not treat the list/node pointers</div><div id="191" class="line none">  191  * as completely opaque types.</div><div id="192" class="line none">  192  */</div><div id="193" class="line none">  193 </div><div id="194" class="line none">  194 /**</div><div id="195" class="line none">  195  * @brief Initialize a list</div><div id="196" class="line none">  196  *</div><div id="197" class="line none">  197  * @param list A pointer on the list to initialize</div><div id="198" class="line none">  198  */</div><div id="199" class="line none">  199 static inline void <a href="slist.h.html#199">sys_slist_init</a>(<a href="slist.h.html#49">sys_slist_t</a> *list)</div><div id="200" class="line none">  200 {</div><div id="201" class="line none">  201         list-&gt;<a href="slist.h.html#43">head</a> = NULL;</div><div id="202" class="line none">  202         list-&gt;<a href="slist.h.html#44">tail</a> = NULL;</div><div id="203" class="line none">  203 }</div><div id="204" class="line none">  204 </div><div id="205" class="line none">  205 /**</div><div id="206" class="line none">  206  * @brief Statically initialize a single-linked list</div><div id="207" class="line none">  207  * @param ptr_to_list A pointer on the list to initialize</div><div id="208" class="line none">  208  */</div><div id="209" class="line none">  209 #define <a href="slist.h.html#209">SYS_SLIST_STATIC_INIT</a>(ptr_to_list) {NULL, NULL}</div><div id="210" class="line none">  210 </div><div id="211" class="line none">  211 static inline <a href="slist.h.html#39">sys_snode_t</a> *<a href="slist.h.html#211">z_snode_next_peek</a>(<a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>)</div><div id="212" class="line none">  212 {</div><div id="213" class="line none">  213         return <a href="../net/buf.h.html#1006">node</a>-&gt;<a href="slist.h.html#34">next</a>;</div><div id="214" class="line none">  214 }</div><div id="215" class="line none">  215 </div><div id="216" class="line none">  216 static inline void <a href="slist.h.html#216">z_snode_next_set</a>(<a href="slist.h.html#39">sys_snode_t</a> *parent, <a href="slist.h.html#39">sys_snode_t</a> *child)</div><div id="217" class="line none">  217 {</div><div id="218" class="line none">  218         parent-&gt;<a href="slist.h.html#34">next</a> = child;</div><div id="219" class="line none">  219 }</div><div id="220" class="line none">  220 </div><div id="221" class="line none">  221 static inline void <a href="slist.h.html#221">z_slist_head_set</a>(<a href="slist.h.html#49">sys_slist_t</a> *list, <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>)</div><div id="222" class="line none">  222 {</div><div id="223" class="line none">  223         list-&gt;<a href="slist.h.html#43">head</a> = <a href="../net/buf.h.html#1006">node</a>;</div><div id="224" class="line none">  224 }</div><div id="225" class="line none">  225 </div><div id="226" class="line none">  226 static inline void <a href="slist.h.html#226">z_slist_tail_set</a>(<a href="slist.h.html#49">sys_slist_t</a> *list, <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>)</div><div id="227" class="line none">  227 {</div><div id="228" class="line none">  228         list-&gt;<a href="slist.h.html#44">tail</a> = <a href="../net/buf.h.html#1006">node</a>;</div><div id="229" class="line none">  229 }</div><div id="230" class="line none">  230 </div><div id="231" class="line none">  231 /**</div><div id="232" class="line none">  232  * @brief Peek the first node from the list</div><div id="233" class="line none">  233  *</div><div id="234" class="line none">  234  * @param list A point on the list to peek the first node from</div><div id="235" class="line none">  235  *</div><div id="236" class="line none">  236  * @return A pointer on the first node of the list (or NULL if none)</div><div id="237" class="line none">  237  */</div><div id="238" class="line none">  238 static inline <a href="slist.h.html#39">sys_snode_t</a> *<a href="slist.h.html#238">sys_slist_peek_head</a>(<a href="slist.h.html#49">sys_slist_t</a> *list)</div><div id="239" class="line none">  239 {</div><div id="240" class="line none">  240         return list-&gt;<a href="slist.h.html#43">head</a>;</div><div id="241" class="line none">  241 }</div><div id="242" class="line none">  242 </div><div id="243" class="line none">  243 /**</div><div id="244" class="line none">  244  * @brief Peek the last node from the list</div><div id="245" class="line none">  245  *</div><div id="246" class="line none">  246  * @param list A point on the list to peek the last node from</div><div id="247" class="line none">  247  *</div><div id="248" class="line none">  248  * @return A pointer on the last node of the list (or NULL if none)</div><div id="249" class="line none">  249  */</div><div id="250" class="line none">  250 static inline <a href="slist.h.html#39">sys_snode_t</a> *<a href="slist.h.html#250">sys_slist_peek_tail</a>(<a href="slist.h.html#49">sys_slist_t</a> *list)</div><div id="251" class="line none">  251 {</div><div id="252" class="line none">  252         return list-&gt;<a href="slist.h.html#44">tail</a>;</div><div id="253" class="line none">  253 }</div><div id="254" class="line none">  254 </div><div id="255" class="line none">  255 /*</div><div id="256" class="line none">  256  * Derived, generated APIs</div><div id="257" class="line none">  257  */</div><div id="258" class="line none">  258 </div><div id="259" class="line none">  259 /**</div><div id="260" class="line none">  260  * @brief Test if the given list is empty</div><div id="261" class="line none">  261  *</div><div id="262" class="line none">  262  * @param list A pointer on the list to test</div><div id="263" class="line none">  263  *</div><div id="264" class="line none">  264  * @return a boolean, true if it's empty, false otherwise</div><div id="265" class="line none">  265  */</div><div id="266" class="line none">  266 static inline bool sys_slist_is_empty(<a href="slist.h.html#49">sys_slist_t</a> *list);</div><div id="267" class="line none">  267 </div><div id="268" class="line none">  268 Z_GENLIST_IS_EMPTY(slist)</div><div id="269" class="line none">  269 </div><div id="270" class="line none">  270 /**</div><div id="271" class="line none">  271  * @brief Peek the next node from current node, node is not NULL</div><div id="272" class="line none">  272  *</div><div id="273" class="line none">  273  * Faster then sys_slist_peek_next() if node is known not to be NULL.</div><div id="274" class="line none">  274  *</div><div id="275" class="line none">  275  * @param node A pointer on the node where to peek the next node</div><div id="276" class="line none">  276  *</div><div id="277" class="line none">  277  * @return a pointer on the next node (or NULL if none)</div><div id="278" class="line none">  278  */</div><div id="279" class="line none">  279 static inline <a href="slist.h.html#39">sys_snode_t</a> *sys_slist_peek_next_no_check(<a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="280" class="line none">  280 </div><div id="281" class="line none">  281 Z_GENLIST_PEEK_NEXT_NO_CHECK(slist, snode)</div><div id="282" class="line none">  282 </div><div id="283" class="line none">  283 /**</div><div id="284" class="line none">  284  * @brief Peek the next node from current node</div><div id="285" class="line none">  285  *</div><div id="286" class="line none">  286  * @param node A pointer on the node where to peek the next node</div><div id="287" class="line none">  287  *</div><div id="288" class="line none">  288  * @return a pointer on the next node (or NULL if none)</div><div id="289" class="line none">  289  */</div><div id="290" class="line none">  290 static inline <a href="slist.h.html#39">sys_snode_t</a> *sys_slist_peek_next(<a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="291" class="line none">  291 </div><div id="292" class="line none">  292 Z_GENLIST_PEEK_NEXT(slist, snode)</div><div id="293" class="line none">  293 </div><div id="294" class="line none">  294 /**</div><div id="295" class="line none">  295  * @brief Prepend a node to the given list</div><div id="296" class="line none">  296  *</div><div id="297" class="line none">  297  * This and other sys_slist_*() functions are not thread safe.</div><div id="298" class="line none">  298  *</div><div id="299" class="line none">  299  * @param list A pointer on the list to affect</div><div id="300" class="line none">  300  * @param node A pointer on the node to prepend</div><div id="301" class="line none">  301  */</div><div id="302" class="line none">  302 static inline void sys_slist_prepend(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="303" class="line none">  303                                      <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="304" class="line none">  304 </div><div id="305" class="line none">  305 Z_GENLIST_PREPEND(slist, snode)</div><div id="306" class="line none">  306 </div><div id="307" class="line none">  307 /**</div><div id="308" class="line none">  308  * @brief Append a node to the given list</div><div id="309" class="line none">  309  *</div><div id="310" class="line none">  310  * This and other sys_slist_*() functions are not thread safe.</div><div id="311" class="line none">  311  *</div><div id="312" class="line none">  312  * @param list A pointer on the list to affect</div><div id="313" class="line none">  313  * @param node A pointer on the node to append</div><div id="314" class="line none">  314  */</div><div id="315" class="line none">  315 static inline void sys_slist_append(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="316" class="line none">  316                                     <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="317" class="line none">  317 </div><div id="318" class="line none">  318 Z_GENLIST_APPEND(slist, snode)</div><div id="319" class="line none">  319 </div><div id="320" class="line none">  320 /**</div><div id="321" class="line none">  321  * @brief Append a list to the given list</div><div id="322" class="line none">  322  *</div><div id="323" class="line none">  323  * Append a singly-linked, NULL-terminated list consisting of nodes containing</div><div id="324" class="line none">  324  * the pointer to the next node as the first element of a node, to @a list.</div><div id="325" class="line none">  325  * This and other sys_slist_*() functions are not thread safe.</div><div id="326" class="line none">  326  *</div><div id="327" class="line none">  327  * FIXME: Why are the element parameters void *?</div><div id="328" class="line none">  328  *</div><div id="329" class="line none">  329  * @param list A pointer on the list to affect</div><div id="330" class="line none">  330  * @param head A pointer to the first element of the list to append</div><div id="331" class="line none">  331  * @param tail A pointer to the last element of the list to append</div><div id="332" class="line none">  332  */</div><div id="333" class="line none">  333 static inline void sys_slist_append_list(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="334" class="line none">  334                                          void *<a href="slist.h.html#43">head</a>, void *<a href="slist.h.html#44">tail</a>);</div><div id="335" class="line none">  335 </div><div id="336" class="line none">  336 Z_GENLIST_APPEND_LIST(slist, snode)</div><div id="337" class="line none">  337 </div><div id="338" class="line none">  338 /**</div><div id="339" class="line none">  339  * @brief merge two slists, appending the second one to the first</div><div id="340" class="line none">  340  *</div><div id="341" class="line none">  341  * When the operation is completed, the appending list is empty.</div><div id="342" class="line none">  342  * This and other sys_slist_*() functions are not thread safe.</div><div id="343" class="line none">  343  *</div><div id="344" class="line none">  344  * @param list A pointer on the list to affect</div><div id="345" class="line none">  345  * @param list_to_append A pointer to the list to append.</div><div id="346" class="line none">  346  */</div><div id="347" class="line none">  347 static inline void sys_slist_merge_slist(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="348" class="line none">  348                                          <a href="slist.h.html#49">sys_slist_t</a> *list_to_append);</div><div id="349" class="line none">  349 </div><div id="350" class="line none">  350 Z_GENLIST_MERGE_LIST(slist, snode)</div><div id="351" class="line none">  351 </div><div id="352" class="line none">  352 /**</div><div id="353" class="line none">  353  * @brief Insert a node to the given list</div><div id="354" class="line none">  354  *</div><div id="355" class="line none">  355  * This and other sys_slist_*() functions are not thread safe.</div><div id="356" class="line none">  356  *</div><div id="357" class="line none">  357  * @param list A pointer on the list to affect</div><div id="358" class="line none">  358  * @param prev A pointer on the previous node</div><div id="359" class="line none">  359  * @param node A pointer on the node to insert</div><div id="360" class="line none">  360  */</div><div id="361" class="line none">  361 static inline void sys_slist_insert(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="362" class="line none">  362                                     <a href="slist.h.html#39">sys_snode_t</a> *prev,</div><div id="363" class="line none">  363                                     <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="364" class="line none">  364 </div><div id="365" class="line none">  365 Z_GENLIST_INSERT(slist, snode)</div><div id="366" class="line none">  366 </div><div id="367" class="line none">  367 /**</div><div id="368" class="line none">  368  * @brief Fetch and remove the first node of the given list</div><div id="369" class="line none">  369  *</div><div id="370" class="line none">  370  * List must be known to be non-empty.</div><div id="371" class="line none">  371  * This and other sys_slist_*() functions are not thread safe.</div><div id="372" class="line none">  372  *</div><div id="373" class="line none">  373  * @param list A pointer on the list to affect</div><div id="374" class="line none">  374  *</div><div id="375" class="line none">  375  * @return A pointer to the first node of the list</div><div id="376" class="line none">  376  */</div><div id="377" class="line none">  377 static inline <a href="slist.h.html#39">sys_snode_t</a> *sys_slist_get_not_empty(<a href="slist.h.html#49">sys_slist_t</a> *list);</div><div id="378" class="line none">  378 </div><div id="379" class="line none">  379 Z_GENLIST_GET_NOT_EMPTY(slist, snode)</div><div id="380" class="line none">  380 </div><div id="381" class="line none">  381 /**</div><div id="382" class="line none">  382  * @brief Fetch and remove the first node of the given list</div><div id="383" class="line none">  383  *</div><div id="384" class="line none">  384  * This and other sys_slist_*() functions are not thread safe.</div><div id="385" class="line none">  385  *</div><div id="386" class="line none">  386  * @param list A pointer on the list to affect</div><div id="387" class="line none">  387  *</div><div id="388" class="line none">  388  * @return A pointer to the first node of the list (or NULL if empty)</div><div id="389" class="line none">  389  */</div><div id="390" class="line none">  390 static inline <a href="slist.h.html#39">sys_snode_t</a> *sys_slist_get(<a href="slist.h.html#49">sys_slist_t</a> *list);</div><div id="391" class="line none">  391 </div><div id="392" class="line none">  392 Z_GENLIST_GET(slist, snode)</div><div id="393" class="line none">  393 </div><div id="394" class="line none">  394 /**</div><div id="395" class="line none">  395  * @brief Remove a node</div><div id="396" class="line none">  396  *</div><div id="397" class="line none">  397  * This and other sys_slist_*() functions are not thread safe.</div><div id="398" class="line none">  398  *</div><div id="399" class="line none">  399  * @param list A pointer on the list to affect</div><div id="400" class="line none">  400  * @param prev_node A pointer on the previous node</div><div id="401" class="line none">  401  *        (can be NULL, which means the node is the list's head)</div><div id="402" class="line none">  402  * @param node A pointer on the node to remove</div><div id="403" class="line none">  403  */</div><div id="404" class="line none">  404 static inline void sys_slist_remove(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="405" class="line none">  405                                     <a href="slist.h.html#39">sys_snode_t</a> *prev_node,</div><div id="406" class="line none">  406                                     <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="407" class="line none">  407 </div><div id="408" class="line none">  408 Z_GENLIST_REMOVE(slist, snode)</div><div id="409" class="line none">  409 </div><div id="410" class="line none">  410 /**</div><div id="411" class="line none">  411  * @brief Find and remove a node from a list</div><div id="412" class="line none">  412  *</div><div id="413" class="line none">  413  * This and other sys_slist_*() functions are not thread safe.</div><div id="414" class="line none">  414  *</div><div id="415" class="line none">  415  * @param list A pointer on the list to affect</div><div id="416" class="line none">  416  * @param node A pointer on the node to remove from the list</div><div id="417" class="line none">  417  *</div><div id="418" class="line none">  418  * @return true if node was removed</div><div id="419" class="line none">  419  */</div><div id="420" class="line none">  420 static inline bool sys_slist_find_and_remove(<a href="slist.h.html#49">sys_slist_t</a> *list,</div><div id="421" class="line none">  421                                              <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>);</div><div id="422" class="line none">  422 </div><div id="423" class="line none">  423 /**</div><div id="424" class="line none">  424  * @brief Find if a node is already linked in a singly linked list</div><div id="425" class="line none">  425  *</div><div id="426" class="line none">  426  * This and other sys_slist_*() functions are not thread safe.</div><div id="427" class="line none">  427  *</div><div id="428" class="line none">  428  * @param list A pointer to the list to check</div><div id="429" class="line none">  429  * @param node A pointer to the node to search in the list</div><div id="430" class="line none">  430  * @param[out] prev A pointer to the previous node</div><div id="431" class="line none">  431  *</div><div id="432" class="line none">  432  * @return true if node was found in the list, false otherwise</div><div id="433" class="line none">  433  */</div><div id="434" class="line none">  434 static inline bool sys_slist_find(<a href="slist.h.html#49">sys_slist_t</a> *list, <a href="slist.h.html#39">sys_snode_t</a> *<a href="../net/buf.h.html#1006">node</a>,</div><div id="435" class="line none">  435                                             <a href="slist.h.html#39">sys_snode_t</a> **prev);</div><div id="436" class="line none">  436 Z_GENLIST_FIND(slist, snode)</div><div id="437" class="line none">  437 </div><div id="438" class="line none">  438 /**</div><div id="439" class="line none">  439  * @brief Compute the size of the given list in O(n) time</div><div id="440" class="line none">  440  *</div><div id="441" class="line none">  441  * @param list A pointer on the list</div><div id="442" class="line none">  442  *</div><div id="443" class="line none">  443  * @return an integer equal to the size of the list, or 0 if empty</div><div id="444" class="line none">  444  */</div><div id="445" class="line none">  445 static inline size_t sys_slist_len(<a href="slist.h.html#49">sys_slist_t</a> *list);</div><div id="446" class="line none">  446 </div><div id="447" class="line none">  447 Z_GENLIST_LEN(slist, snode)</div><div id="448" class="line none">  448 </div><div id="449" class="line none">  449 /** @} */</div><div id="450" class="line none">  450 Z_GENLIST_FIND_AND_REMOVE(slist, snode)</div><div id="451" class="line none">  451 </div><div id="452" class="line none">  452 #ifdef __cplusplus</div><div id="453" class="line none">  453 }</div><div id="454" class="line none">  454 #endif</div><div id="455" class="line none">  455 </div><div id="456" class="line none">  456 #endif /* ZEPHYR_INCLUDE_SYS_SLIST_H_ */</div>
</div>
</body>
</html>
