
<html>
<head>
<title>zephyr/include/zephyr/net/buf.h</title>
<link rel="stylesheet" type="text/css" href="../../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 /** @file</div><div id="2" class="line none">    2  *  @brief Buffer management.</div><div id="3" class="line none">    3  */</div><div id="4" class="line none">    4 </div><div id="5" class="line none">    5 /*</div><div id="6" class="line none">    6  * Copyright (c) 2015 Intel Corporation</div><div id="7" class="line none">    7  *</div><div id="8" class="line none">    8  * SPDX-License-Identifier: Apache-2.0</div><div id="9" class="line none">    9  */</div><div id="10" class="line none">   10 #ifndef <a href="buf.h.html#11">ZEPHYR_INCLUDE_NET_BUF_H_</a></div><div id="11" class="line none">   11 #define <a href="buf.h.html#11">ZEPHYR_INCLUDE_NET_BUF_H_</a></div><div id="12" class="line none">   12 </div><div id="13" class="line none">   13 #include &lt;stddef.h&gt;</div><div id="14" class="line none">   14 #include &lt;zephyr/types.h&gt;</div><div id="15" class="line none">   15 #include &lt;zephyr/sys/util.h&gt;</div><div id="16" class="line none">   16 #include &lt;zephyr/kernel.h&gt;</div><div id="17" class="line none">   17 #include &lt;zephyr/sys/iterable_sections.h&gt;</div><div id="18" class="line none">   18 </div><div id="19" class="line none">   19 #ifdef __cplusplus</div><div id="20" class="line none">   20 extern "C" {</div><div id="21" class="line none">   21 #endif</div><div id="22" class="line none">   22 </div><div id="23" class="line none">   23 /**</div><div id="24" class="line none">   24  * @brief Network buffer library</div><div id="25" class="line none">   25  * @defgroup net_buf Network Buffer Library</div><div id="26" class="line none">   26  * @ingroup networking</div><div id="27" class="line none">   27  * @{</div><div id="28" class="line none">   28  */</div><div id="29" class="line none">   29 </div><div id="30" class="line none">   30 /* Alignment needed for various parts of the buffer definition */</div><div id="31" class="line none">   31 #if CONFIG_NET_BUF_ALIGNMENT == 0</div><div id="32" class="line none">   32 #define <a href="buf.h.html#32">__net_buf_align</a> __aligned(sizeof(void *))</div><div id="33" class="line none">   33 #else</div><div id="34" class="line none">   34 #define <a href="buf.h.html#32">__net_buf_align</a> __aligned(CONFIG_NET_BUF_ALIGNMENT)</div><div id="35" class="line none">   35 #endif</div><div id="36" class="line none">   36 </div><div id="37" class="line none">   37 /**</div><div id="38" class="line none">   38  *  @brief Define a net_buf_simple stack variable.</div><div id="39" class="line none">   39  *</div><div id="40" class="line none">   40  *  This is a helper macro which is used to define a net_buf_simple object</div><div id="41" class="line none">   41  *  on the stack.</div><div id="42" class="line none">   42  *</div><div id="43" class="line none">   43  *  @param _name Name of the net_buf_simple object.</div><div id="44" class="line none">   44  *  @param _size Maximum data storage for the buffer.</div><div id="45" class="line none">   45  */</div><div id="46" class="line none">   46 #define <a href="buf.h.html#46">NET_BUF_SIMPLE_DEFINE</a>(_name, _size)     \</div><div id="47" class="line none">   47         uint8_t net_buf_data_##_name[_size];       \</div><div id="48" class="line none">   48         struct <a href="buf.h.html#87">net_buf_simple</a> _name = {         \</div><div id="49" class="line none">   49                 .<a href="buf.h.html#89">data</a>   = net_buf_data_##_name, \</div><div id="50" class="line none">   50                 .<a href="buf.h.html#96">len</a>    = 0,                    \</div><div id="51" class="line none">   51                 .<a href="buf.h.html#99">size</a>   = _size,                \</div><div id="52" class="line none">   52                 .<a href="buf.h.html#104">__buf</a>  = net_buf_data_##_name, \</div><div id="53" class="line none">   53         }</div><div id="54" class="line none">   54 </div><div id="55" class="line none">   55 /**</div><div id="56" class="line none">   56  *</div><div id="57" class="line none">   57  * @brief Define a static net_buf_simple variable.</div><div id="58" class="line none">   58  *</div><div id="59" class="line none">   59  * This is a helper macro which is used to define a static net_buf_simple</div><div id="60" class="line none">   60  * object.</div><div id="61" class="line none">   61  *</div><div id="62" class="line none">   62  * @param _name Name of the net_buf_simple object.</div><div id="63" class="line none">   63  * @param _size Maximum data storage for the buffer.</div><div id="64" class="line none">   64  */</div><div id="65" class="line none">   65 #define <a href="buf.h.html#65">NET_BUF_SIMPLE_DEFINE_STATIC</a>(_name, _size)        \</div><div id="66" class="line none">   66         static __noinit uint8_t net_buf_data_##_name[_size]; \</div><div id="67" class="line none">   67         static struct <a href="buf.h.html#87">net_buf_simple</a> _name = {            \</div><div id="68" class="line none">   68                 .<a href="buf.h.html#89">data</a>   = net_buf_data_##_name,           \</div><div id="69" class="line none">   69                 .<a href="buf.h.html#96">len</a>    = 0,                              \</div><div id="70" class="line none">   70                 .<a href="buf.h.html#99">size</a>   = _size,                          \</div><div id="71" class="line none">   71                 .<a href="buf.h.html#104">__buf</a>  = net_buf_data_##_name,           \</div><div id="72" class="line none">   72         }</div><div id="73" class="line none">   73 </div><div id="74" class="line none">   74 /**</div><div id="75" class="line none">   75  * @brief Simple network buffer representation.</div><div id="76" class="line none">   76  *</div><div id="77" class="line none">   77  * This is a simpler variant of the net_buf object (in fact net_buf uses</div><div id="78" class="line none">   78  * net_buf_simple internally). It doesn't provide any kind of reference</div><div id="79" class="line none">   79  * counting, user data, dynamic allocation, or in general the ability to</div><div id="80" class="line none">   80  * pass through kernel objects such as FIFOs.</div><div id="81" class="line none">   81  *</div><div id="82" class="line none">   82  * The main use of this is for scenarios where the meta-data of the normal</div><div id="83" class="line none">   83  * net_buf isn't needed and causes too much overhead. This could be e.g.</div><div id="84" class="line none">   84  * when the buffer only needs to be allocated on the stack or when the</div><div id="85" class="line none">   85  * access to and lifetime of the buffer is well controlled and constrained.</div><div id="86" class="line none">   86  */</div><div id="87" class="line none">   87 struct <a href="buf.h.html#87">net_buf_simple</a> {</div><div id="88" class="line none">   88         /** Pointer to the start of data in the buffer. */</div><div id="89" class="line none">   89         uint8_t *<a href="buf.h.html#89">data</a>;</div><div id="90" class="line none">   90 </div><div id="91" class="line none">   91         /**</div><div id="92" class="line none">   92          * Length of the data behind the data pointer.</div><div id="93" class="line none">   93          *</div><div id="94" class="line none">   94          * To determine the max length, use net_buf_simple_max_len(), not #size!</div><div id="95" class="line none">   95          */</div><div id="96" class="line none">   96         uint16_t <a href="buf.h.html#96">len</a>;</div><div id="97" class="line none">   97 </div><div id="98" class="line none">   98         /** Amount of data that net_buf_simple#__buf can store. */</div><div id="99" class="line none">   99         uint16_t <a href="buf.h.html#99">size</a>;</div><div id="100" class="line none">  100 </div><div id="101" class="line none">  101         /** Start of the data storage. Not to be accessed directly</div><div id="102" class="line none">  102          *  (the data pointer should be used instead).</div><div id="103" class="line none">  103          */</div><div id="104" class="line none">  104         uint8_t *<a href="buf.h.html#104">__buf</a>;</div><div id="105" class="line none">  105 };</div><div id="106" class="line none">  106 </div><div id="107" class="line none">  107 /**</div><div id="108" class="line none">  108  *</div><div id="109" class="line none">  109  * @brief Define a net_buf_simple stack variable and get a pointer to it.</div><div id="110" class="line none">  110  *</div><div id="111" class="line none">  111  * This is a helper macro which is used to define a net_buf_simple object on</div><div id="112" class="line none">  112  * the stack and the get a pointer to it as follows:</div><div id="113" class="line none">  113  *</div><div id="114" class="line none">  114  * struct net_buf_simple *my_buf = NET_BUF_SIMPLE(10);</div><div id="115" class="line none">  115  *</div><div id="116" class="line none">  116  * After creating the object it needs to be initialized by calling</div><div id="117" class="line none">  117  * net_buf_simple_init().</div><div id="118" class="line none">  118  *</div><div id="119" class="line none">  119  * @param _size Maximum data storage for the buffer.</div><div id="120" class="line none">  120  *</div><div id="121" class="line none">  121  * @return Pointer to stack-allocated net_buf_simple object.</div><div id="122" class="line none">  122  */</div><div id="123" class="line none">  123 #define <a href="buf.h.html#123">NET_BUF_SIMPLE</a>(_size)                        \</div><div id="124" class="line none">  124         ((struct <a href="buf.h.html#87">net_buf_simple</a> *)(&amp;(struct {        \</div><div id="125" class="line none">  125                 struct <a href="buf.h.html#87">net_buf_simple</a> buf;           \</div><div id="126" class="line none">  126                 uint8_t <a href="buf.h.html#89">data</a>[_size];                 \</div><div id="127" class="line none">  127         }) {                                         \</div><div id="128" class="line none">  128                 .buf.<a href="buf.h.html#99">size</a> = _size,                   \</div><div id="129" class="line none">  129         }))</div><div id="130" class="line none">  130 </div><div id="131" class="line none">  131 /**</div><div id="132" class="line none">  132  * @brief Initialize a net_buf_simple object.</div><div id="133" class="line none">  133  *</div><div id="134" class="line none">  134  * This needs to be called after creating a net_buf_simple object using</div><div id="135" class="line none">  135  * the NET_BUF_SIMPLE macro.</div><div id="136" class="line none">  136  *</div><div id="137" class="line none">  137  * @param buf Buffer to initialize.</div><div id="138" class="line none">  138  * @param reserve_head Headroom to reserve.</div><div id="139" class="line none">  139  */</div><div id="140" class="line none">  140 static inline void <a href="buf.h.html#140">net_buf_simple_init</a>(struct <a href="buf.h.html#87">net_buf_simple</a> *buf,</div><div id="141" class="line none">  141                                        size_t reserve_head)</div><div id="142" class="line none">  142 {</div><div id="143" class="line none">  143         if (!buf-&gt;<a href="buf.h.html#104">__buf</a>) {</div><div id="144" class="line none">  144                 buf-&gt;<a href="buf.h.html#104">__buf</a> = (uint8_t *)buf + sizeof(*buf);</div><div id="145" class="line none">  145         }</div><div id="146" class="line none">  146 </div><div id="147" class="line none">  147         buf-&gt;<a href="buf.h.html#89">data</a> = buf-&gt;<a href="buf.h.html#104">__buf</a> + reserve_head;</div><div id="148" class="line none">  148         buf-&gt;<a href="buf.h.html#96">len</a> = 0U;</div><div id="149" class="line none">  149 }</div><div id="150" class="line none">  150 </div><div id="151" class="line none">  151 /**</div><div id="152" class="line none">  152  * @brief Initialize a net_buf_simple object with data.</div><div id="153" class="line none">  153  *</div><div id="154" class="line none">  154  * Initialized buffer object with external data.</div><div id="155" class="line none">  155  *</div><div id="156" class="line none">  156  * @param buf Buffer to initialize.</div><div id="157" class="line none">  157  * @param data External data pointer</div><div id="158" class="line none">  158  * @param size Amount of data the pointed data buffer if able to fit.</div><div id="159" class="line none">  159  */</div><div id="160" class="line none">  160 void net_buf_simple_init_with_data(struct <a href="buf.h.html#87">net_buf_simple</a> *buf,</div><div id="161" class="line none">  161                                    void *<a href="buf.h.html#89">data</a>, size_t <a href="buf.h.html#99">size</a>);</div><div id="162" class="line none">  162 </div><div id="163" class="line none">  163 /**</div><div id="164" class="line none">  164  * @brief Reset buffer</div><div id="165" class="line none">  165  *</div><div id="166" class="line none">  166  * Reset buffer data so it can be reused for other purposes.</div><div id="167" class="line none">  167  *</div><div id="168" class="line none">  168  * @param buf Buffer to reset.</div><div id="169" class="line none">  169  */</div><div id="170" class="line none">  170 static inline void <a href="buf.h.html#170">net_buf_simple_reset</a>(struct <a href="buf.h.html#87">net_buf_simple</a> *buf)</div><div id="171" class="line none">  171 {</div><div id="172" class="line none">  172         buf-&gt;<a href="buf.h.html#96">len</a>  = 0U;</div><div id="173" class="line none">  173         buf-&gt;<a href="buf.h.html#89">data</a> = buf-&gt;<a href="buf.h.html#104">__buf</a>;</div><div id="174" class="line none">  174 }</div><div id="175" class="line none">  175 </div><div id="176" class="line none">  176 /**</div><div id="177" class="line none">  177  * Clone buffer state, using the same data buffer.</div><div id="178" class="line none">  178  *</div><div id="179" class="line none">  179  * Initializes a buffer to point to the same data as an existing buffer.</div><div id="180" class="line none">  180  * Allows operations on the same data without altering the length and</div><div id="181" class="line none">  181  * offset of the original.</div><div id="182" class="line none">  182  *</div><div id="183" class="line none">  183  * @param original Buffer to clone.</div><div id="184" class="line none">  184  * @param clone The new clone.</div><div id="185" class="line none">  185  */</div><div id="186" class="line none">  186 void net_buf_simple_clone(const struct <a href="buf.h.html#87">net_buf_simple</a> *original,</div><div id="187" class="line none">  187                           struct <a href="buf.h.html#87">net_buf_simple</a> *clone);</div><div id="188" class="line none">  188 </div><div id="189" class="line none">  189 /**</div><div id="190" class="line none">  190  * @brief Prepare data to be added at the end of the buffer</div><div id="191" class="line none">  191  *</div><div id="192" class="line none">  192  * Increments the data length of a buffer to account for more data</div><div id="193" class="line none">  193  * at the end.</div><div id="194" class="line none">  194  *</div><div id="195" class="line none">  195  * @param buf Buffer to update.</div><div id="196" class="line none">  196  * @param len Number of bytes to increment the length with.</div><div id="197" class="line none">  197  *</div><div id="198" class="line none">  198  * @return The original tail of the buffer.</div><div id="199" class="line none">  199  */</div><div id="200" class="line none">  200 void *net_buf_simple_add(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, size_t <a href="buf.h.html#96">len</a>);</div><div id="201" class="line none">  201 </div><div id="202" class="line none">  202 /**</div><div id="203" class="line none">  203  * @brief Copy given number of bytes from memory to the end of the buffer</div><div id="204" class="line none">  204  *</div><div id="205" class="line none">  205  * Increments the data length of the  buffer to account for more data at the</div><div id="206" class="line none">  206  * end.</div><div id="207" class="line none">  207  *</div><div id="208" class="line none">  208  * @param buf Buffer to update.</div><div id="209" class="line none">  209  * @param mem Location of data to be added.</div><div id="210" class="line none">  210  * @param len Length of data to be added</div><div id="211" class="line none">  211  *</div><div id="212" class="line none">  212  * @return The original tail of the buffer.</div><div id="213" class="line none">  213  */</div><div id="214" class="line none">  214 void *<a href="buf.h.html#214">net_buf_simple_add_mem</a>(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, const void *mem,</div><div id="215" class="line none">  215                              size_t <a href="buf.h.html#96">len</a>);</div><div id="216" class="line none">  216 </div><div id="217" class="line none">  217 /**</div><div id="218" class="line none">  218  * @brief Add (8-bit) byte at the end of the buffer</div><div id="219" class="line none">  219  *</div><div id="220" class="line none">  220  * Increments the data length of the  buffer to account for more data at the</div><div id="221" class="line none">  221  * end.</div><div id="222" class="line none">  222  *</div><div id="223" class="line none">  223  * @param buf Buffer to update.</div><div id="224" class="line none">  224  * @param val byte value to be added.</div><div id="225" class="line none">  225  *</div><div id="226" class="line none">  226  * @return Pointer to the value added</div><div id="227" class="line none">  227  */</div><div id="228" class="line none">  228 uint8_t *<a href="buf.h.html#228">net_buf_simple_add_u8</a>(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint8_t val);</div><div id="229" class="line none">  229 </div><div id="230" class="line none">  230 /**</div><div id="231" class="line none">  231  * @brief Add 16-bit value at the end of the buffer</div><div id="232" class="line none">  232  *</div><div id="233" class="line none">  233  * Adds 16-bit value in little endian format at the end of buffer.</div><div id="234" class="line none">  234  * Increments the data length of a buffer to account for more data</div><div id="235" class="line none">  235  * at the end.</div><div id="236" class="line none">  236  *</div><div id="237" class="line none">  237  * @param buf Buffer to update.</div><div id="238" class="line none">  238  * @param val 16-bit value to be added.</div><div id="239" class="line none">  239  */</div><div id="240" class="line none">  240 void net_buf_simple_add_le16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint16_t val);</div><div id="241" class="line none">  241 </div><div id="242" class="line none">  242 /**</div><div id="243" class="line none">  243  * @brief Add 16-bit value at the end of the buffer</div><div id="244" class="line none">  244  *</div><div id="245" class="line none">  245  * Adds 16-bit value in big endian format at the end of buffer.</div><div id="246" class="line none">  246  * Increments the data length of a buffer to account for more data</div><div id="247" class="line none">  247  * at the end.</div><div id="248" class="line none">  248  *</div><div id="249" class="line none">  249  * @param buf Buffer to update.</div><div id="250" class="line none">  250  * @param val 16-bit value to be added.</div><div id="251" class="line none">  251  */</div><div id="252" class="line none">  252 void net_buf_simple_add_be16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint16_t val);</div><div id="253" class="line none">  253 </div><div id="254" class="line none">  254 /**</div><div id="255" class="line none">  255  * @brief Add 24-bit value at the end of the buffer</div><div id="256" class="line none">  256  *</div><div id="257" class="line none">  257  * Adds 24-bit value in little endian format at the end of buffer.</div><div id="258" class="line none">  258  * Increments the data length of a buffer to account for more data</div><div id="259" class="line none">  259  * at the end.</div><div id="260" class="line none">  260  *</div><div id="261" class="line none">  261  * @param buf Buffer to update.</div><div id="262" class="line none">  262  * @param val 24-bit value to be added.</div><div id="263" class="line none">  263  */</div><div id="264" class="line none">  264 void net_buf_simple_add_le24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="265" class="line none">  265 </div><div id="266" class="line none">  266 /**</div><div id="267" class="line none">  267  * @brief Add 24-bit value at the end of the buffer</div><div id="268" class="line none">  268  *</div><div id="269" class="line none">  269  * Adds 24-bit value in big endian format at the end of buffer.</div><div id="270" class="line none">  270  * Increments the data length of a buffer to account for more data</div><div id="271" class="line none">  271  * at the end.</div><div id="272" class="line none">  272  *</div><div id="273" class="line none">  273  * @param buf Buffer to update.</div><div id="274" class="line none">  274  * @param val 24-bit value to be added.</div><div id="275" class="line none">  275  */</div><div id="276" class="line none">  276 void net_buf_simple_add_be24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="277" class="line none">  277 </div><div id="278" class="line none">  278 /**</div><div id="279" class="line none">  279  * @brief Add 32-bit value at the end of the buffer</div><div id="280" class="line none">  280  *</div><div id="281" class="line none">  281  * Adds 32-bit value in little endian format at the end of buffer.</div><div id="282" class="line none">  282  * Increments the data length of a buffer to account for more data</div><div id="283" class="line none">  283  * at the end.</div><div id="284" class="line none">  284  *</div><div id="285" class="line none">  285  * @param buf Buffer to update.</div><div id="286" class="line none">  286  * @param val 32-bit value to be added.</div><div id="287" class="line none">  287  */</div><div id="288" class="line none">  288 void net_buf_simple_add_le32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="289" class="line none">  289 </div><div id="290" class="line none">  290 /**</div><div id="291" class="line none">  291  * @brief Add 32-bit value at the end of the buffer</div><div id="292" class="line none">  292  *</div><div id="293" class="line none">  293  * Adds 32-bit value in big endian format at the end of buffer.</div><div id="294" class="line none">  294  * Increments the data length of a buffer to account for more data</div><div id="295" class="line none">  295  * at the end.</div><div id="296" class="line none">  296  *</div><div id="297" class="line none">  297  * @param buf Buffer to update.</div><div id="298" class="line none">  298  * @param val 32-bit value to be added.</div><div id="299" class="line none">  299  */</div><div id="300" class="line none">  300 void net_buf_simple_add_be32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="301" class="line none">  301 </div><div id="302" class="line none">  302 /**</div><div id="303" class="line none">  303  * @brief Add 40-bit value at the end of the buffer</div><div id="304" class="line none">  304  *</div><div id="305" class="line none">  305  * Adds 40-bit value in little endian format at the end of buffer.</div><div id="306" class="line none">  306  * Increments the data length of a buffer to account for more data</div><div id="307" class="line none">  307  * at the end.</div><div id="308" class="line none">  308  *</div><div id="309" class="line none">  309  * @param buf Buffer to update.</div><div id="310" class="line none">  310  * @param val 40-bit value to be added.</div><div id="311" class="line none">  311  */</div><div id="312" class="line none">  312 void net_buf_simple_add_le40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="313" class="line none">  313 </div><div id="314" class="line none">  314 /**</div><div id="315" class="line none">  315  * @brief Add 40-bit value at the end of the buffer</div><div id="316" class="line none">  316  *</div><div id="317" class="line none">  317  * Adds 40-bit value in big endian format at the end of buffer.</div><div id="318" class="line none">  318  * Increments the data length of a buffer to account for more data</div><div id="319" class="line none">  319  * at the end.</div><div id="320" class="line none">  320  *</div><div id="321" class="line none">  321  * @param buf Buffer to update.</div><div id="322" class="line none">  322  * @param val 40-bit value to be added.</div><div id="323" class="line none">  323  */</div><div id="324" class="line none">  324 void net_buf_simple_add_be40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="325" class="line none">  325 </div><div id="326" class="line none">  326 /**</div><div id="327" class="line none">  327  * @brief Add 48-bit value at the end of the buffer</div><div id="328" class="line none">  328  *</div><div id="329" class="line none">  329  * Adds 48-bit value in little endian format at the end of buffer.</div><div id="330" class="line none">  330  * Increments the data length of a buffer to account for more data</div><div id="331" class="line none">  331  * at the end.</div><div id="332" class="line none">  332  *</div><div id="333" class="line none">  333  * @param buf Buffer to update.</div><div id="334" class="line none">  334  * @param val 48-bit value to be added.</div><div id="335" class="line none">  335  */</div><div id="336" class="line none">  336 void net_buf_simple_add_le48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="337" class="line none">  337 </div><div id="338" class="line none">  338 /**</div><div id="339" class="line none">  339  * @brief Add 48-bit value at the end of the buffer</div><div id="340" class="line none">  340  *</div><div id="341" class="line none">  341  * Adds 48-bit value in big endian format at the end of buffer.</div><div id="342" class="line none">  342  * Increments the data length of a buffer to account for more data</div><div id="343" class="line none">  343  * at the end.</div><div id="344" class="line none">  344  *</div><div id="345" class="line none">  345  * @param buf Buffer to update.</div><div id="346" class="line none">  346  * @param val 48-bit value to be added.</div><div id="347" class="line none">  347  */</div><div id="348" class="line none">  348 void net_buf_simple_add_be48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="349" class="line none">  349 </div><div id="350" class="line none">  350 /**</div><div id="351" class="line none">  351  * @brief Add 64-bit value at the end of the buffer</div><div id="352" class="line none">  352  *</div><div id="353" class="line none">  353  * Adds 64-bit value in little endian format at the end of buffer.</div><div id="354" class="line none">  354  * Increments the data length of a buffer to account for more data</div><div id="355" class="line none">  355  * at the end.</div><div id="356" class="line none">  356  *</div><div id="357" class="line none">  357  * @param buf Buffer to update.</div><div id="358" class="line none">  358  * @param val 64-bit value to be added.</div><div id="359" class="line none">  359  */</div><div id="360" class="line none">  360 void net_buf_simple_add_le64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="361" class="line none">  361 </div><div id="362" class="line none">  362 /**</div><div id="363" class="line none">  363  * @brief Add 64-bit value at the end of the buffer</div><div id="364" class="line none">  364  *</div><div id="365" class="line none">  365  * Adds 64-bit value in big endian format at the end of buffer.</div><div id="366" class="line none">  366  * Increments the data length of a buffer to account for more data</div><div id="367" class="line none">  367  * at the end.</div><div id="368" class="line none">  368  *</div><div id="369" class="line none">  369  * @param buf Buffer to update.</div><div id="370" class="line none">  370  * @param val 64-bit value to be added.</div><div id="371" class="line none">  371  */</div><div id="372" class="line none">  372 void net_buf_simple_add_be64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="373" class="line none">  373 </div><div id="374" class="line none">  374 /**</div><div id="375" class="line none">  375  * @brief Remove data from the end of the buffer.</div><div id="376" class="line none">  376  *</div><div id="377" class="line none">  377  * Removes data from the end of the buffer by modifying the buffer length.</div><div id="378" class="line none">  378  *</div><div id="379" class="line none">  379  * @param buf Buffer to update.</div><div id="380" class="line none">  380  * @param len Number of bytes to remove.</div><div id="381" class="line none">  381  *</div><div id="382" class="line none">  382  * @return New end of the buffer data.</div><div id="383" class="line none">  383  */</div><div id="384" class="line none">  384 void *net_buf_simple_remove_mem(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, size_t <a href="buf.h.html#96">len</a>);</div><div id="385" class="line none">  385 </div><div id="386" class="line none">  386 /**</div><div id="387" class="line none">  387  * @brief Remove a 8-bit value from the end of the buffer</div><div id="388" class="line none">  388  *</div><div id="389" class="line none">  389  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="390" class="line none">  390  * on 8-bit values.</div><div id="391" class="line none">  391  *</div><div id="392" class="line none">  392  * @param buf A valid pointer on a buffer.</div><div id="393" class="line none">  393  *</div><div id="394" class="line none">  394  * @return The 8-bit removed value</div><div id="395" class="line none">  395  */</div><div id="396" class="line none">  396 uint8_t net_buf_simple_remove_u8(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="397" class="line none">  397 </div><div id="398" class="line none">  398 /**</div><div id="399" class="line none">  399  * @brief Remove and convert 16 bits from the end of the buffer.</div><div id="400" class="line none">  400  *</div><div id="401" class="line none">  401  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="402" class="line none">  402  * on 16-bit little endian data.</div><div id="403" class="line none">  403  *</div><div id="404" class="line none">  404  * @param buf A valid pointer on a buffer.</div><div id="405" class="line none">  405  *</div><div id="406" class="line none">  406  * @return 16-bit value converted from little endian to host endian.</div><div id="407" class="line none">  407  */</div><div id="408" class="line none">  408 uint16_t net_buf_simple_remove_le16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="409" class="line none">  409 </div><div id="410" class="line none">  410 /**</div><div id="411" class="line none">  411  * @brief Remove and convert 16 bits from the end of the buffer.</div><div id="412" class="line none">  412  *</div><div id="413" class="line none">  413  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="414" class="line none">  414  * on 16-bit big endian data.</div><div id="415" class="line none">  415  *</div><div id="416" class="line none">  416  * @param buf A valid pointer on a buffer.</div><div id="417" class="line none">  417  *</div><div id="418" class="line none">  418  * @return 16-bit value converted from big endian to host endian.</div><div id="419" class="line none">  419  */</div><div id="420" class="line none">  420 uint16_t net_buf_simple_remove_be16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="421" class="line none">  421 </div><div id="422" class="line none">  422 /**</div><div id="423" class="line none">  423  * @brief Remove and convert 24 bits from the end of the buffer.</div><div id="424" class="line none">  424  *</div><div id="425" class="line none">  425  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="426" class="line none">  426  * on 24-bit little endian data.</div><div id="427" class="line none">  427  *</div><div id="428" class="line none">  428  * @param buf A valid pointer on a buffer.</div><div id="429" class="line none">  429  *</div><div id="430" class="line none">  430  * @return 24-bit value converted from little endian to host endian.</div><div id="431" class="line none">  431  */</div><div id="432" class="line none">  432 uint32_t net_buf_simple_remove_le24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="433" class="line none">  433 </div><div id="434" class="line none">  434 /**</div><div id="435" class="line none">  435  * @brief Remove and convert 24 bits from the end of the buffer.</div><div id="436" class="line none">  436  *</div><div id="437" class="line none">  437  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="438" class="line none">  438  * on 24-bit big endian data.</div><div id="439" class="line none">  439  *</div><div id="440" class="line none">  440  * @param buf A valid pointer on a buffer.</div><div id="441" class="line none">  441  *</div><div id="442" class="line none">  442  * @return 24-bit value converted from big endian to host endian.</div><div id="443" class="line none">  443  */</div><div id="444" class="line none">  444 uint32_t net_buf_simple_remove_be24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="445" class="line none">  445 </div><div id="446" class="line none">  446 /**</div><div id="447" class="line none">  447  * @brief Remove and convert 32 bits from the end of the buffer.</div><div id="448" class="line none">  448  *</div><div id="449" class="line none">  449  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="450" class="line none">  450  * on 32-bit little endian data.</div><div id="451" class="line none">  451  *</div><div id="452" class="line none">  452  * @param buf A valid pointer on a buffer.</div><div id="453" class="line none">  453  *</div><div id="454" class="line none">  454  * @return 32-bit value converted from little endian to host endian.</div><div id="455" class="line none">  455  */</div><div id="456" class="line none">  456 uint32_t net_buf_simple_remove_le32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="457" class="line none">  457 </div><div id="458" class="line none">  458 /**</div><div id="459" class="line none">  459  * @brief Remove and convert 32 bits from the end of the buffer.</div><div id="460" class="line none">  460  *</div><div id="461" class="line none">  461  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="462" class="line none">  462  * on 32-bit big endian data.</div><div id="463" class="line none">  463  *</div><div id="464" class="line none">  464  * @param buf A valid pointer on a buffer.</div><div id="465" class="line none">  465  *</div><div id="466" class="line none">  466  * @return 32-bit value converted from big endian to host endian.</div><div id="467" class="line none">  467  */</div><div id="468" class="line none">  468 uint32_t net_buf_simple_remove_be32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="469" class="line none">  469 </div><div id="470" class="line none">  470 /**</div><div id="471" class="line none">  471  * @brief Remove and convert 40 bits from the end of the buffer.</div><div id="472" class="line none">  472  *</div><div id="473" class="line none">  473  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="474" class="line none">  474  * on 40-bit little endian data.</div><div id="475" class="line none">  475  *</div><div id="476" class="line none">  476  * @param buf A valid pointer on a buffer.</div><div id="477" class="line none">  477  *</div><div id="478" class="line none">  478  * @return 40-bit value converted from little endian to host endian.</div><div id="479" class="line none">  479  */</div><div id="480" class="line none">  480 uint64_t net_buf_simple_remove_le40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="481" class="line none">  481 </div><div id="482" class="line none">  482 /**</div><div id="483" class="line none">  483  * @brief Remove and convert 40 bits from the end of the buffer.</div><div id="484" class="line none">  484  *</div><div id="485" class="line none">  485  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="486" class="line none">  486  * on 40-bit big endian data.</div><div id="487" class="line none">  487  *</div><div id="488" class="line none">  488  * @param buf A valid pointer on a buffer.</div><div id="489" class="line none">  489  *</div><div id="490" class="line none">  490  * @return 40-bit value converted from big endian to host endian.</div><div id="491" class="line none">  491  */</div><div id="492" class="line none">  492 uint64_t net_buf_simple_remove_be40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="493" class="line none">  493 </div><div id="494" class="line none">  494 /**</div><div id="495" class="line none">  495  * @brief Remove and convert 48 bits from the end of the buffer.</div><div id="496" class="line none">  496  *</div><div id="497" class="line none">  497  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="498" class="line none">  498  * on 48-bit little endian data.</div><div id="499" class="line none">  499  *</div><div id="500" class="line none">  500  * @param buf A valid pointer on a buffer.</div><div id="501" class="line none">  501  *</div><div id="502" class="line none">  502  * @return 48-bit value converted from little endian to host endian.</div><div id="503" class="line none">  503  */</div><div id="504" class="line none">  504 uint64_t net_buf_simple_remove_le48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="505" class="line none">  505 </div><div id="506" class="line none">  506 /**</div><div id="507" class="line none">  507  * @brief Remove and convert 48 bits from the end of the buffer.</div><div id="508" class="line none">  508  *</div><div id="509" class="line none">  509  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="510" class="line none">  510  * on 48-bit big endian data.</div><div id="511" class="line none">  511  *</div><div id="512" class="line none">  512  * @param buf A valid pointer on a buffer.</div><div id="513" class="line none">  513  *</div><div id="514" class="line none">  514  * @return 48-bit value converted from big endian to host endian.</div><div id="515" class="line none">  515  */</div><div id="516" class="line none">  516 uint64_t net_buf_simple_remove_be48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="517" class="line none">  517 </div><div id="518" class="line none">  518 /**</div><div id="519" class="line none">  519  * @brief Remove and convert 64 bits from the end of the buffer.</div><div id="520" class="line none">  520  *</div><div id="521" class="line none">  521  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="522" class="line none">  522  * on 64-bit little endian data.</div><div id="523" class="line none">  523  *</div><div id="524" class="line none">  524  * @param buf A valid pointer on a buffer.</div><div id="525" class="line none">  525  *</div><div id="526" class="line none">  526  * @return 64-bit value converted from little endian to host endian.</div><div id="527" class="line none">  527  */</div><div id="528" class="line none">  528 uint64_t net_buf_simple_remove_le64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="529" class="line none">  529 </div><div id="530" class="line none">  530 /**</div><div id="531" class="line none">  531  * @brief Remove and convert 64 bits from the end of the buffer.</div><div id="532" class="line none">  532  *</div><div id="533" class="line none">  533  * Same idea as with net_buf_simple_remove_mem(), but a helper for operating</div><div id="534" class="line none">  534  * on 64-bit big endian data.</div><div id="535" class="line none">  535  *</div><div id="536" class="line none">  536  * @param buf A valid pointer on a buffer.</div><div id="537" class="line none">  537  *</div><div id="538" class="line none">  538  * @return 64-bit value converted from big endian to host endian.</div><div id="539" class="line none">  539  */</div><div id="540" class="line none">  540 uint64_t net_buf_simple_remove_be64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="541" class="line none">  541 </div><div id="542" class="line none">  542 /**</div><div id="543" class="line none">  543  * @brief Prepare data to be added to the start of the buffer</div><div id="544" class="line none">  544  *</div><div id="545" class="line none">  545  * Modifies the data pointer and buffer length to account for more data</div><div id="546" class="line none">  546  * in the beginning of the buffer.</div><div id="547" class="line none">  547  *</div><div id="548" class="line none">  548  * @param buf Buffer to update.</div><div id="549" class="line none">  549  * @param len Number of bytes to add to the beginning.</div><div id="550" class="line none">  550  *</div><div id="551" class="line none">  551  * @return The new beginning of the buffer data.</div><div id="552" class="line none">  552  */</div><div id="553" class="line none">  553 void *net_buf_simple_push(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, size_t <a href="buf.h.html#96">len</a>);</div><div id="554" class="line none">  554 </div><div id="555" class="line none">  555 /**</div><div id="556" class="line none">  556  * @brief Copy given number of bytes from memory to the start of the buffer.</div><div id="557" class="line none">  557  *</div><div id="558" class="line none">  558  * Modifies the data pointer and buffer length to account for more data</div><div id="559" class="line none">  559  * in the beginning of the buffer.</div><div id="560" class="line none">  560  *</div><div id="561" class="line none">  561  * @param buf Buffer to update.</div><div id="562" class="line none">  562  * @param mem Location of data to be added.</div><div id="563" class="line none">  563  * @param len Length of data to be added.</div><div id="564" class="line none">  564  *</div><div id="565" class="line none">  565  * @return The new beginning of the buffer data.</div><div id="566" class="line none">  566  */</div><div id="567" class="line none">  567 void *net_buf_simple_push_mem(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, const void *mem,</div><div id="568" class="line none">  568                               size_t <a href="buf.h.html#96">len</a>);</div><div id="569" class="line none">  569 </div><div id="570" class="line none">  570 /**</div><div id="571" class="line none">  571  * @brief Push 16-bit value to the beginning of the buffer</div><div id="572" class="line none">  572  *</div><div id="573" class="line none">  573  * Adds 16-bit value in little endian format to the beginning of the</div><div id="574" class="line none">  574  * buffer.</div><div id="575" class="line none">  575  *</div><div id="576" class="line none">  576  * @param buf Buffer to update.</div><div id="577" class="line none">  577  * @param val 16-bit value to be pushed to the buffer.</div><div id="578" class="line none">  578  */</div><div id="579" class="line none">  579 void net_buf_simple_push_le16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint16_t val);</div><div id="580" class="line none">  580 </div><div id="581" class="line none">  581 /**</div><div id="582" class="line none">  582  * @brief Push 16-bit value to the beginning of the buffer</div><div id="583" class="line none">  583  *</div><div id="584" class="line none">  584  * Adds 16-bit value in big endian format to the beginning of the</div><div id="585" class="line none">  585  * buffer.</div><div id="586" class="line none">  586  *</div><div id="587" class="line none">  587  * @param buf Buffer to update.</div><div id="588" class="line none">  588  * @param val 16-bit value to be pushed to the buffer.</div><div id="589" class="line none">  589  */</div><div id="590" class="line none">  590 void net_buf_simple_push_be16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint16_t val);</div><div id="591" class="line none">  591 </div><div id="592" class="line none">  592 /**</div><div id="593" class="line none">  593  * @brief Push 8-bit value to the beginning of the buffer</div><div id="594" class="line none">  594  *</div><div id="595" class="line none">  595  * Adds 8-bit value the beginning of the buffer.</div><div id="596" class="line none">  596  *</div><div id="597" class="line none">  597  * @param buf Buffer to update.</div><div id="598" class="line none">  598  * @param val 8-bit value to be pushed to the buffer.</div><div id="599" class="line none">  599  */</div><div id="600" class="line none">  600 void net_buf_simple_push_u8(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint8_t val);</div><div id="601" class="line none">  601 </div><div id="602" class="line none">  602 /**</div><div id="603" class="line none">  603  * @brief Push 24-bit value to the beginning of the buffer</div><div id="604" class="line none">  604  *</div><div id="605" class="line none">  605  * Adds 24-bit value in little endian format to the beginning of the</div><div id="606" class="line none">  606  * buffer.</div><div id="607" class="line none">  607  *</div><div id="608" class="line none">  608  * @param buf Buffer to update.</div><div id="609" class="line none">  609  * @param val 24-bit value to be pushed to the buffer.</div><div id="610" class="line none">  610  */</div><div id="611" class="line none">  611 void net_buf_simple_push_le24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="612" class="line none">  612 </div><div id="613" class="line none">  613 /**</div><div id="614" class="line none">  614  * @brief Push 24-bit value to the beginning of the buffer</div><div id="615" class="line none">  615  *</div><div id="616" class="line none">  616  * Adds 24-bit value in big endian format to the beginning of the</div><div id="617" class="line none">  617  * buffer.</div><div id="618" class="line none">  618  *</div><div id="619" class="line none">  619  * @param buf Buffer to update.</div><div id="620" class="line none">  620  * @param val 24-bit value to be pushed to the buffer.</div><div id="621" class="line none">  621  */</div><div id="622" class="line none">  622 void net_buf_simple_push_be24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="623" class="line none">  623 </div><div id="624" class="line none">  624 /**</div><div id="625" class="line none">  625  * @brief Push 32-bit value to the beginning of the buffer</div><div id="626" class="line none">  626  *</div><div id="627" class="line none">  627  * Adds 32-bit value in little endian format to the beginning of the</div><div id="628" class="line none">  628  * buffer.</div><div id="629" class="line none">  629  *</div><div id="630" class="line none">  630  * @param buf Buffer to update.</div><div id="631" class="line none">  631  * @param val 32-bit value to be pushed to the buffer.</div><div id="632" class="line none">  632  */</div><div id="633" class="line none">  633 void net_buf_simple_push_le32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="634" class="line none">  634 </div><div id="635" class="line none">  635 /**</div><div id="636" class="line none">  636  * @brief Push 32-bit value to the beginning of the buffer</div><div id="637" class="line none">  637  *</div><div id="638" class="line none">  638  * Adds 32-bit value in big endian format to the beginning of the</div><div id="639" class="line none">  639  * buffer.</div><div id="640" class="line none">  640  *</div><div id="641" class="line none">  641  * @param buf Buffer to update.</div><div id="642" class="line none">  642  * @param val 32-bit value to be pushed to the buffer.</div><div id="643" class="line none">  643  */</div><div id="644" class="line none">  644 void net_buf_simple_push_be32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint32_t val);</div><div id="645" class="line none">  645 </div><div id="646" class="line none">  646 /**</div><div id="647" class="line none">  647  * @brief Push 40-bit value to the beginning of the buffer</div><div id="648" class="line none">  648  *</div><div id="649" class="line none">  649  * Adds 40-bit value in little endian format to the beginning of the</div><div id="650" class="line none">  650  * buffer.</div><div id="651" class="line none">  651  *</div><div id="652" class="line none">  652  * @param buf Buffer to update.</div><div id="653" class="line none">  653  * @param val 40-bit value to be pushed to the buffer.</div><div id="654" class="line none">  654  */</div><div id="655" class="line none">  655 void net_buf_simple_push_le40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="656" class="line none">  656 </div><div id="657" class="line none">  657 /**</div><div id="658" class="line none">  658  * @brief Push 40-bit value to the beginning of the buffer</div><div id="659" class="line none">  659  *</div><div id="660" class="line none">  660  * Adds 40-bit value in big endian format to the beginning of the</div><div id="661" class="line none">  661  * buffer.</div><div id="662" class="line none">  662  *</div><div id="663" class="line none">  663  * @param buf Buffer to update.</div><div id="664" class="line none">  664  * @param val 40-bit value to be pushed to the buffer.</div><div id="665" class="line none">  665  */</div><div id="666" class="line none">  666 void net_buf_simple_push_be40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="667" class="line none">  667 </div><div id="668" class="line none">  668 /**</div><div id="669" class="line none">  669  * @brief Push 48-bit value to the beginning of the buffer</div><div id="670" class="line none">  670  *</div><div id="671" class="line none">  671  * Adds 48-bit value in little endian format to the beginning of the</div><div id="672" class="line none">  672  * buffer.</div><div id="673" class="line none">  673  *</div><div id="674" class="line none">  674  * @param buf Buffer to update.</div><div id="675" class="line none">  675  * @param val 48-bit value to be pushed to the buffer.</div><div id="676" class="line none">  676  */</div><div id="677" class="line none">  677 void net_buf_simple_push_le48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="678" class="line none">  678 </div><div id="679" class="line none">  679 /**</div><div id="680" class="line none">  680  * @brief Push 48-bit value to the beginning of the buffer</div><div id="681" class="line none">  681  *</div><div id="682" class="line none">  682  * Adds 48-bit value in big endian format to the beginning of the</div><div id="683" class="line none">  683  * buffer.</div><div id="684" class="line none">  684  *</div><div id="685" class="line none">  685  * @param buf Buffer to update.</div><div id="686" class="line none">  686  * @param val 48-bit value to be pushed to the buffer.</div><div id="687" class="line none">  687  */</div><div id="688" class="line none">  688 void net_buf_simple_push_be48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="689" class="line none">  689 </div><div id="690" class="line none">  690 /**</div><div id="691" class="line none">  691  * @brief Push 64-bit value to the beginning of the buffer</div><div id="692" class="line none">  692  *</div><div id="693" class="line none">  693  * Adds 64-bit value in little endian format to the beginning of the</div><div id="694" class="line none">  694  * buffer.</div><div id="695" class="line none">  695  *</div><div id="696" class="line none">  696  * @param buf Buffer to update.</div><div id="697" class="line none">  697  * @param val 64-bit value to be pushed to the buffer.</div><div id="698" class="line none">  698  */</div><div id="699" class="line none">  699 void net_buf_simple_push_le64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="700" class="line none">  700 </div><div id="701" class="line none">  701 /**</div><div id="702" class="line none">  702  * @brief Push 64-bit value to the beginning of the buffer</div><div id="703" class="line none">  703  *</div><div id="704" class="line none">  704  * Adds 64-bit value in big endian format to the beginning of the</div><div id="705" class="line none">  705  * buffer.</div><div id="706" class="line none">  706  *</div><div id="707" class="line none">  707  * @param buf Buffer to update.</div><div id="708" class="line none">  708  * @param val 64-bit value to be pushed to the buffer.</div><div id="709" class="line none">  709  */</div><div id="710" class="line none">  710 void net_buf_simple_push_be64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, uint64_t val);</div><div id="711" class="line none">  711 </div><div id="712" class="line none">  712 /**</div><div id="713" class="line none">  713  * @brief Remove data from the beginning of the buffer.</div><div id="714" class="line none">  714  *</div><div id="715" class="line none">  715  * Removes data from the beginning of the buffer by modifying the data</div><div id="716" class="line none">  716  * pointer and buffer length.</div><div id="717" class="line none">  717  *</div><div id="718" class="line none">  718  * @param buf Buffer to update.</div><div id="719" class="line none">  719  * @param len Number of bytes to remove.</div><div id="720" class="line none">  720  *</div><div id="721" class="line none">  721  * @return New beginning of the buffer data.</div><div id="722" class="line none">  722  */</div><div id="723" class="line none">  723 void *net_buf_simple_pull(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, size_t <a href="buf.h.html#96">len</a>);</div><div id="724" class="line none">  724 </div><div id="725" class="line none">  725 /**</div><div id="726" class="line none">  726  * @brief Remove data from the beginning of the buffer.</div><div id="727" class="line none">  727  *</div><div id="728" class="line none">  728  * Removes data from the beginning of the buffer by modifying the data</div><div id="729" class="line none">  729  * pointer and buffer length.</div><div id="730" class="line none">  730  *</div><div id="731" class="line none">  731  * @param buf Buffer to update.</div><div id="732" class="line none">  732  * @param len Number of bytes to remove.</div><div id="733" class="line none">  733  *</div><div id="734" class="line none">  734  * @return Pointer to the old location of the buffer data.</div><div id="735" class="line none">  735  */</div><div id="736" class="line none">  736 void *net_buf_simple_pull_mem(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, size_t <a href="buf.h.html#96">len</a>);</div><div id="737" class="line none">  737 </div><div id="738" class="line none">  738 /**</div><div id="739" class="line none">  739  * @brief Remove a 8-bit value from the beginning of the buffer</div><div id="740" class="line none">  740  *</div><div id="741" class="line none">  741  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="742" class="line none">  742  * on 8-bit values.</div><div id="743" class="line none">  743  *</div><div id="744" class="line none">  744  * @param buf A valid pointer on a buffer.</div><div id="745" class="line none">  745  *</div><div id="746" class="line none">  746  * @return The 8-bit removed value</div><div id="747" class="line none">  747  */</div><div id="748" class="line none">  748 uint8_t net_buf_simple_pull_u8(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="749" class="line none">  749 </div><div id="750" class="line none">  750 /**</div><div id="751" class="line none">  751  * @brief Remove and convert 16 bits from the beginning of the buffer.</div><div id="752" class="line none">  752  *</div><div id="753" class="line none">  753  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="754" class="line none">  754  * on 16-bit little endian data.</div><div id="755" class="line none">  755  *</div><div id="756" class="line none">  756  * @param buf A valid pointer on a buffer.</div><div id="757" class="line none">  757  *</div><div id="758" class="line none">  758  * @return 16-bit value converted from little endian to host endian.</div><div id="759" class="line none">  759  */</div><div id="760" class="line none">  760 uint16_t net_buf_simple_pull_le16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="761" class="line none">  761 </div><div id="762" class="line none">  762 /**</div><div id="763" class="line none">  763  * @brief Remove and convert 16 bits from the beginning of the buffer.</div><div id="764" class="line none">  764  *</div><div id="765" class="line none">  765  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="766" class="line none">  766  * on 16-bit big endian data.</div><div id="767" class="line none">  767  *</div><div id="768" class="line none">  768  * @param buf A valid pointer on a buffer.</div><div id="769" class="line none">  769  *</div><div id="770" class="line none">  770  * @return 16-bit value converted from big endian to host endian.</div><div id="771" class="line none">  771  */</div><div id="772" class="line none">  772 uint16_t net_buf_simple_pull_be16(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="773" class="line none">  773 </div><div id="774" class="line none">  774 /**</div><div id="775" class="line none">  775  * @brief Remove and convert 24 bits from the beginning of the buffer.</div><div id="776" class="line none">  776  *</div><div id="777" class="line none">  777  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="778" class="line none">  778  * on 24-bit little endian data.</div><div id="779" class="line none">  779  *</div><div id="780" class="line none">  780  * @param buf A valid pointer on a buffer.</div><div id="781" class="line none">  781  *</div><div id="782" class="line none">  782  * @return 24-bit value converted from little endian to host endian.</div><div id="783" class="line none">  783  */</div><div id="784" class="line none">  784 uint32_t net_buf_simple_pull_le24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="785" class="line none">  785 </div><div id="786" class="line none">  786 /**</div><div id="787" class="line none">  787  * @brief Remove and convert 24 bits from the beginning of the buffer.</div><div id="788" class="line none">  788  *</div><div id="789" class="line none">  789  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="790" class="line none">  790  * on 24-bit big endian data.</div><div id="791" class="line none">  791  *</div><div id="792" class="line none">  792  * @param buf A valid pointer on a buffer.</div><div id="793" class="line none">  793  *</div><div id="794" class="line none">  794  * @return 24-bit value converted from big endian to host endian.</div><div id="795" class="line none">  795  */</div><div id="796" class="line none">  796 uint32_t net_buf_simple_pull_be24(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="797" class="line none">  797 </div><div id="798" class="line none">  798 /**</div><div id="799" class="line none">  799  * @brief Remove and convert 32 bits from the beginning of the buffer.</div><div id="800" class="line none">  800  *</div><div id="801" class="line none">  801  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="802" class="line none">  802  * on 32-bit little endian data.</div><div id="803" class="line none">  803  *</div><div id="804" class="line none">  804  * @param buf A valid pointer on a buffer.</div><div id="805" class="line none">  805  *</div><div id="806" class="line none">  806  * @return 32-bit value converted from little endian to host endian.</div><div id="807" class="line none">  807  */</div><div id="808" class="line none">  808 uint32_t net_buf_simple_pull_le32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="809" class="line none">  809 </div><div id="810" class="line none">  810 /**</div><div id="811" class="line none">  811  * @brief Remove and convert 32 bits from the beginning of the buffer.</div><div id="812" class="line none">  812  *</div><div id="813" class="line none">  813  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="814" class="line none">  814  * on 32-bit big endian data.</div><div id="815" class="line none">  815  *</div><div id="816" class="line none">  816  * @param buf A valid pointer on a buffer.</div><div id="817" class="line none">  817  *</div><div id="818" class="line none">  818  * @return 32-bit value converted from big endian to host endian.</div><div id="819" class="line none">  819  */</div><div id="820" class="line none">  820 uint32_t net_buf_simple_pull_be32(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="821" class="line none">  821 </div><div id="822" class="line none">  822 /**</div><div id="823" class="line none">  823  * @brief Remove and convert 40 bits from the beginning of the buffer.</div><div id="824" class="line none">  824  *</div><div id="825" class="line none">  825  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="826" class="line none">  826  * on 40-bit little endian data.</div><div id="827" class="line none">  827  *</div><div id="828" class="line none">  828  * @param buf A valid pointer on a buffer.</div><div id="829" class="line none">  829  *</div><div id="830" class="line none">  830  * @return 40-bit value converted from little endian to host endian.</div><div id="831" class="line none">  831  */</div><div id="832" class="line none">  832 uint64_t net_buf_simple_pull_le40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="833" class="line none">  833 </div><div id="834" class="line none">  834 /**</div><div id="835" class="line none">  835  * @brief Remove and convert 40 bits from the beginning of the buffer.</div><div id="836" class="line none">  836  *</div><div id="837" class="line none">  837  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="838" class="line none">  838  * on 40-bit big endian data.</div><div id="839" class="line none">  839  *</div><div id="840" class="line none">  840  * @param buf A valid pointer on a buffer.</div><div id="841" class="line none">  841  *</div><div id="842" class="line none">  842  * @return 40-bit value converted from big endian to host endian.</div><div id="843" class="line none">  843  */</div><div id="844" class="line none">  844 uint64_t net_buf_simple_pull_be40(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="845" class="line none">  845 </div><div id="846" class="line none">  846 /**</div><div id="847" class="line none">  847  * @brief Remove and convert 48 bits from the beginning of the buffer.</div><div id="848" class="line none">  848  *</div><div id="849" class="line none">  849  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="850" class="line none">  850  * on 48-bit little endian data.</div><div id="851" class="line none">  851  *</div><div id="852" class="line none">  852  * @param buf A valid pointer on a buffer.</div><div id="853" class="line none">  853  *</div><div id="854" class="line none">  854  * @return 48-bit value converted from little endian to host endian.</div><div id="855" class="line none">  855  */</div><div id="856" class="line none">  856 uint64_t net_buf_simple_pull_le48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="857" class="line none">  857 </div><div id="858" class="line none">  858 /**</div><div id="859" class="line none">  859  * @brief Remove and convert 48 bits from the beginning of the buffer.</div><div id="860" class="line none">  860  *</div><div id="861" class="line none">  861  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="862" class="line none">  862  * on 48-bit big endian data.</div><div id="863" class="line none">  863  *</div><div id="864" class="line none">  864  * @param buf A valid pointer on a buffer.</div><div id="865" class="line none">  865  *</div><div id="866" class="line none">  866  * @return 48-bit value converted from big endian to host endian.</div><div id="867" class="line none">  867  */</div><div id="868" class="line none">  868 uint64_t net_buf_simple_pull_be48(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="869" class="line none">  869 </div><div id="870" class="line none">  870 /**</div><div id="871" class="line none">  871  * @brief Remove and convert 64 bits from the beginning of the buffer.</div><div id="872" class="line none">  872  *</div><div id="873" class="line none">  873  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="874" class="line none">  874  * on 64-bit little endian data.</div><div id="875" class="line none">  875  *</div><div id="876" class="line none">  876  * @param buf A valid pointer on a buffer.</div><div id="877" class="line none">  877  *</div><div id="878" class="line none">  878  * @return 64-bit value converted from little endian to host endian.</div><div id="879" class="line none">  879  */</div><div id="880" class="line none">  880 uint64_t net_buf_simple_pull_le64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="881" class="line none">  881 </div><div id="882" class="line none">  882 /**</div><div id="883" class="line none">  883  * @brief Remove and convert 64 bits from the beginning of the buffer.</div><div id="884" class="line none">  884  *</div><div id="885" class="line none">  885  * Same idea as with net_buf_simple_pull(), but a helper for operating</div><div id="886" class="line none">  886  * on 64-bit big endian data.</div><div id="887" class="line none">  887  *</div><div id="888" class="line none">  888  * @param buf A valid pointer on a buffer.</div><div id="889" class="line none">  889  *</div><div id="890" class="line none">  890  * @return 64-bit value converted from big endian to host endian.</div><div id="891" class="line none">  891  */</div><div id="892" class="line none">  892 uint64_t net_buf_simple_pull_be64(struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="893" class="line none">  893 </div><div id="894" class="line none">  894 /**</div><div id="895" class="line none">  895  * @brief Get the tail pointer for a buffer.</div><div id="896" class="line none">  896  *</div><div id="897" class="line none">  897  * Get a pointer to the end of the data in a buffer.</div><div id="898" class="line none">  898  *</div><div id="899" class="line none">  899  * @param buf Buffer.</div><div id="900" class="line none">  900  *</div><div id="901" class="line none">  901  * @return Tail pointer for the buffer.</div><div id="902" class="line none">  902  */</div><div id="903" class="line none">  903 static inline uint8_t *<a href="buf.h.html#903">net_buf_simple_tail</a>(const struct <a href="buf.h.html#87">net_buf_simple</a> *buf)</div><div id="904" class="line none">  904 {</div><div id="905" class="line none">  905         return buf-&gt;<a href="buf.h.html#89">data</a> + buf-&gt;<a href="buf.h.html#96">len</a>;</div><div id="906" class="line none">  906 }</div><div id="907" class="line none">  907 </div><div id="908" class="line none">  908 /**</div><div id="909" class="line none">  909  * @brief Check buffer headroom.</div><div id="910" class="line none">  910  *</div><div id="911" class="line none">  911  * Check how much free space there is in the beginning of the buffer.</div><div id="912" class="line none">  912  *</div><div id="913" class="line none">  913  * buf A valid pointer on a buffer</div><div id="914" class="line none">  914  *</div><div id="915" class="line none">  915  * @return Number of bytes available in the beginning of the buffer.</div><div id="916" class="line none">  916  */</div><div id="917" class="line none">  917 size_t net_buf_simple_headroom(const struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="918" class="line none">  918 </div><div id="919" class="line none">  919 /**</div><div id="920" class="line none">  920  * @brief Check buffer tailroom.</div><div id="921" class="line none">  921  *</div><div id="922" class="line none">  922  * Check how much free space there is at the end of the buffer.</div><div id="923" class="line none">  923  *</div><div id="924" class="line none">  924  * @param buf A valid pointer on a buffer</div><div id="925" class="line none">  925  *</div><div id="926" class="line none">  926  * @return Number of bytes available at the end of the buffer.</div><div id="927" class="line none">  927  */</div><div id="928" class="line none">  928 size_t <a href="buf.h.html#928">net_buf_simple_tailroom</a>(const struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="929" class="line none">  929 </div><div id="930" class="line none">  930 /**</div><div id="931" class="line none">  931  * @brief Check maximum net_buf_simple::len value.</div><div id="932" class="line none">  932  *</div><div id="933" class="line none">  933  * This value is depending on the number of bytes being reserved as headroom.</div><div id="934" class="line none">  934  *</div><div id="935" class="line none">  935  * @param buf A valid pointer on a buffer</div><div id="936" class="line none">  936  *</div><div id="937" class="line none">  937  * @return Number of bytes usable behind the net_buf_simple::data pointer.</div><div id="938" class="line none">  938  */</div><div id="939" class="line none">  939 uint16_t net_buf_simple_max_len(const struct <a href="buf.h.html#87">net_buf_simple</a> *buf);</div><div id="940" class="line none">  940 </div><div id="941" class="line none">  941 /**</div><div id="942" class="line none">  942  * @brief Parsing state of a buffer.</div><div id="943" class="line none">  943  *</div><div id="944" class="line none">  944  * This is used for temporarily storing the parsing state of a buffer</div><div id="945" class="line none">  945  * while giving control of the parsing to a routine which we don't</div><div id="946" class="line none">  946  * control.</div><div id="947" class="line none">  947  */</div><div id="948" class="line none">  948 struct <a href="buf.h.html#948">net_buf_simple_state</a> {</div><div id="949" class="line none">  949         /** Offset of the data pointer from the beginning of the storage */</div><div id="950" class="line none">  950         uint16_t <a href="buf.h.html#950">offset</a>;</div><div id="951" class="line none">  951         /** Length of data */</div><div id="952" class="line none">  952         uint16_t <a href="buf.h.html#96">len</a>;</div><div id="953" class="line none">  953 };</div><div id="954" class="line none">  954 </div><div id="955" class="line none">  955 /**</div><div id="956" class="line none">  956  * @brief Save the parsing state of a buffer.</div><div id="957" class="line none">  957  *</div><div id="958" class="line none">  958  * Saves the parsing state of a buffer so it can be restored later.</div><div id="959" class="line none">  959  *</div><div id="960" class="line none">  960  * @param buf Buffer from which the state should be saved.</div><div id="961" class="line none">  961  * @param state Storage for the state.</div><div id="962" class="line none">  962  */</div><div id="963" class="line none">  963 static inline void <a href="buf.h.html#963">net_buf_simple_save</a>(const struct <a href="buf.h.html#87">net_buf_simple</a> *buf,</div><div id="964" class="line none">  964                                        struct <a href="buf.h.html#948">net_buf_simple_state</a> *state)</div><div id="965" class="line none">  965 {</div><div id="966" class="line none">  966         state-&gt;<a href="buf.h.html#950">offset</a> = (uint16_t)net_buf_simple_headroom(buf);</div><div id="967" class="line none">  967         state-&gt;<a href="buf.h.html#96">len</a> = buf-&gt;<a href="buf.h.html#96">len</a>;</div><div id="968" class="line none">  968 }</div><div id="969" class="line none">  969 </div><div id="970" class="line none">  970 /**</div><div id="971" class="line none">  971  * @brief Restore the parsing state of a buffer.</div><div id="972" class="line none">  972  *</div><div id="973" class="line none">  973  * Restores the parsing state of a buffer from a state previously stored</div><div id="974" class="line none">  974  * by net_buf_simple_save().</div><div id="975" class="line none">  975  *</div><div id="976" class="line none">  976  * @param buf Buffer to which the state should be restored.</div><div id="977" class="line none">  977  * @param state Stored state.</div><div id="978" class="line none">  978  */</div><div id="979" class="line none">  979 static inline void <a href="buf.h.html#979">net_buf_simple_restore</a>(struct <a href="buf.h.html#87">net_buf_simple</a> *buf,</div><div id="980" class="line none">  980                                           struct <a href="buf.h.html#948">net_buf_simple_state</a> *state)</div><div id="981" class="line none">  981 {</div><div id="982" class="line none">  982         buf-&gt;<a href="buf.h.html#89">data</a> = buf-&gt;<a href="buf.h.html#104">__buf</a> + state-&gt;<a href="buf.h.html#950">offset</a>;</div><div id="983" class="line none">  983         buf-&gt;<a href="buf.h.html#96">len</a> = state-&gt;<a href="buf.h.html#96">len</a>;</div><div id="984" class="line none">  984 }</div><div id="985" class="line none">  985 </div><div id="986" class="line none">  986 /**</div><div id="987" class="line none">  987  * Flag indicating that the buffer's associated data pointer, points to</div><div id="988" class="line none">  988  * externally allocated memory. Therefore once ref goes down to zero, the</div><div id="989" class="line none">  989  * pointed data will not need to be deallocated. This never needs to be</div><div id="990" class="line none">  990  * explicitly set or unset by the net_buf API user. Such net_buf is</div><div id="991" class="line none">  991  * exclusively instantiated via net_buf_alloc_with_data() function.</div><div id="992" class="line none">  992  * Reference count mechanism however will behave the same way, and ref</div><div id="993" class="line none">  993  * count going to 0 will free the net_buf but no the data pointer in it.</div><div id="994" class="line none">  994  */</div><div id="995" class="line none">  995 #define <a href="buf.h.html#995">NET_BUF_EXTERNAL_DATA</a>  BIT(0)</div><div id="996" class="line none">  996 </div><div id="997" class="line none">  997 /**</div><div id="998" class="line none">  998  * @brief Network buffer representation.</div><div id="999" class="line none">  999  *</div><div id="1000" class="line none"> 1000  * This struct is used to represent network buffers. Such buffers are</div><div id="1001" class="line none"> 1001  * normally defined through the NET_BUF_POOL_*_DEFINE() APIs and allocated</div><div id="1002" class="line none"> 1002  * using the net_buf_alloc() API.</div><div id="1003" class="line none"> 1003  */</div><div id="1004" class="line none"> 1004 struct <a href="buf.h.html#1004">net_buf</a> {</div><div id="1005" class="line none"> 1005         /** Allow placing the buffer into sys_slist_t */</div><div id="1006" class="line none"> 1006         <a href="../sys/slist.h.html#39">sys_snode_t</a> <a href="buf.h.html#1006">node</a>;</div><div id="1007" class="line none"> 1007 </div><div id="1008" class="line none"> 1008         /** Fragments associated with this buffer. */</div><div id="1009" class="line none"> 1009         struct <a href="buf.h.html#1004">net_buf</a> *<a href="buf.h.html#1009">frags</a>;</div><div id="1010" class="line none"> 1010 </div><div id="1011" class="line none"> 1011         /** Reference count. */</div><div id="1012" class="line none"> 1012         uint8_t <a href="buf.h.html#1012">ref</a>;</div><div id="1013" class="line none"> 1013 </div><div id="1014" class="line none"> 1014         /** Bit-field of buffer flags. */</div><div id="1015" class="line none"> 1015         uint8_t <a href="buf.h.html#1015">flags</a>;</div><div id="1016" class="line none"> 1016 </div><div id="1017" class="line none"> 1017         /** Where the buffer should go when freed up. */</div><div id="1018" class="line none"> 1018         uint8_t <a href="buf.h.html#1018">pool_id</a>;</div><div id="1019" class="line none"> 1019 </div><div id="1020" class="line none"> 1020         /** Size of user data on this buffer */</div><div id="1021" class="line none"> 1021         uint8_t <a href="buf.h.html#1021">user_data_size</a>;</div><div id="1022" class="line none"> 1022 </div><div id="1023" class="line none"> 1023         /** Union for convenience access to the net_buf_simple members, also</div><div id="1024" class="line none"> 1024          * preserving the old API.</div><div id="1025" class="line none"> 1025          */</div><div id="1026" class="line none"> 1026         union {</div><div id="1027" class="line none"> 1027                 /* The ABI of this struct must match net_buf_simple */</div><div id="1028" class="line none"> 1028                 struct {</div><div id="1029" class="line none"> 1029                         /** Pointer to the start of data in the buffer. */</div><div id="1030" class="line none"> 1030                         uint8_t *<a href="buf.h.html#89">data</a>;</div><div id="1031" class="line none"> 1031 </div><div id="1032" class="line none"> 1032                         /** Length of the data behind the data pointer. */</div><div id="1033" class="line none"> 1033                         uint16_t <a href="buf.h.html#96">len</a>;</div><div id="1034" class="line none"> 1034 </div><div id="1035" class="line none"> 1035                         /** Amount of data that this buffer can store. */</div><div id="1036" class="line none"> 1036                         uint16_t <a href="buf.h.html#99">size</a>;</div><div id="1037" class="line none"> 1037 </div><div id="1038" class="line none"> 1038                         /** Start of the data storage. Not to be accessed</div><div id="1039" class="line none"> 1039                          *  directly (the data pointer should be used</div><div id="1040" class="line none"> 1040                          *  instead).</div><div id="1041" class="line none"> 1041                          */</div><div id="1042" class="line none"> 1042                         uint8_t *<a href="buf.h.html#104">__buf</a>;</div><div id="1043" class="line none"> 1043                 };</div><div id="1044" class="line none"> 1044 </div><div id="1045" class="line none"> 1045                 /** @cond INTERNAL_HIDDEN */</div><div id="1046" class="line none"> 1046                 struct <a href="buf.h.html#87">net_buf_simple</a> <a href="buf.h.html#1046">b</a>;</div><div id="1047" class="line none"> 1047                 /** @endcond */</div><div id="1048" class="line none"> 1048         };</div><div id="1049" class="line none"> 1049 </div><div id="1050" class="line none"> 1050         /** System metadata for this buffer. */</div><div id="1051" class="line none"> 1051         uint8_t <a href="buf.h.html#1051">user_data</a>[] <a href="buf.h.html#32">__net_buf_align</a>;</div><div id="1052" class="line none"> 1052 };</div><div id="1053" class="line none"> 1053 </div><div id="1054" class="line none"> 1054 /** @cond INTERNAL_HIDDEN */</div><div id="1055" class="line none"> 1055 </div><div id="1056" class="line none"> 1056 struct <a href="buf.h.html#1056">net_buf_data_cb</a> {</div><div id="1057" class="line none"> 1057         uint8_t * __must_check (*<a href="buf.h.html#1057">alloc</a>)(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t *<a href="buf.h.html#99">size</a>,</div><div id="1058" class="line none"> 1058                            k_timeout_t timeout);</div><div id="1059" class="line none"> 1059         uint8_t * __must_check (*<a href="buf.h.html#1012">ref</a>)(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint8_t *<a href="buf.h.html#89">data</a>);</div><div id="1060" class="line none"> 1060         void   (*<a href="buf.h.html#1060">unref</a>)(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint8_t *<a href="buf.h.html#89">data</a>);</div><div id="1061" class="line none"> 1061 };</div><div id="1062" class="line none"> 1062 </div><div id="1063" class="line none"> 1063 struct <a href="buf.h.html#1063">net_buf_data_alloc</a> {</div><div id="1064" class="line none"> 1064         const struct <a href="buf.h.html#1056">net_buf_data_cb</a> *<a href="buf.h.html#1064">cb</a>;</div><div id="1065" class="line none"> 1065         void *<a href="buf.h.html#1065">alloc_data</a>;</div><div id="1066" class="line none"> 1066         size_t <a href="buf.h.html#1066">max_alloc_size</a>;</div><div id="1067" class="line none"> 1067 };</div><div id="1068" class="line none"> 1068 </div><div id="1069" class="line none"> 1069 /** @endcond */</div><div id="1070" class="line none"> 1070 </div><div id="1071" class="line none"> 1071 /**</div><div id="1072" class="line none"> 1072  * @brief Network buffer pool representation.</div><div id="1073" class="line none"> 1073  *</div><div id="1074" class="line none"> 1074  * This struct is used to represent a pool of network buffers.</div><div id="1075" class="line none"> 1075  */</div><div id="1076" class="line none"> 1076 struct <a href="buf.h.html#1076">net_buf_pool</a> {</div><div id="1077" class="line none"> 1077         /** LIFO to place the buffer into when free */</div><div id="1078" class="line none"> 1078         struct k_lifo <a href="buf.h.html#1078">free</a>;</div><div id="1079" class="line none"> 1079 </div><div id="1080" class="line none"> 1080         /** To prevent concurrent access/modifications */</div><div id="1081" class="line none"> 1081         struct k_spinlock <a href="buf.h.html#1081">lock</a>;</div><div id="1082" class="line none"> 1082 </div><div id="1083" class="line none"> 1083         /** Number of buffers in pool */</div><div id="1084" class="line none"> 1084         const uint16_t <a href="buf.h.html#1084">buf_count</a>;</div><div id="1085" class="line none"> 1085 </div><div id="1086" class="line none"> 1086         /** Number of uninitialized buffers */</div><div id="1087" class="line none"> 1087         uint16_t <a href="buf.h.html#1087">uninit_count</a>;</div><div id="1088" class="line none"> 1088 </div><div id="1089" class="line none"> 1089         /** Size of user data allocated to this pool */</div><div id="1090" class="line none"> 1090         uint8_t <a href="buf.h.html#1021">user_data_size</a>;</div><div id="1091" class="line none"> 1091 </div><div id="1092" class="line none"> 1092 #if defined(CONFIG_NET_BUF_POOL_USAGE)</div><div id="1093" class="line none"> 1093         /** Amount of available buffers in the pool. */</div><div id="1094" class="line none"> 1094         <a href="../sys/atomic_types.h.html#15">atomic_t</a> <a href="buf.h.html#1094">avail_count</a>;</div><div id="1095" class="line none"> 1095 </div><div id="1096" class="line none"> 1096         /** Total size of the pool. */</div><div id="1097" class="line none"> 1097         const uint16_t <a href="buf.h.html#1097">pool_size</a>;</div><div id="1098" class="line none"> 1098 </div><div id="1099" class="line none"> 1099         /** Name of the pool. Used when printing pool information. */</div><div id="1100" class="line none"> 1100         const char *<a href="buf.h.html#1100">name</a>;</div><div id="1101" class="line none"> 1101 #endif /* CONFIG_NET_BUF_POOL_USAGE */</div><div id="1102" class="line none"> 1102 </div><div id="1103" class="line none"> 1103         /** Optional destroy callback when buffer is freed. */</div><div id="1104" class="line none"> 1104         void (*const <a href="buf.h.html#1104">destroy</a>)(struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1105" class="line none"> 1105 </div><div id="1106" class="line none"> 1106         /** Data allocation handlers. */</div><div id="1107" class="line none"> 1107         const struct <a href="buf.h.html#1063">net_buf_data_alloc</a> *<a href="buf.h.html#1057">alloc</a>;</div><div id="1108" class="line none"> 1108 </div><div id="1109" class="line none"> 1109         /** Start of buffer storage array */</div><div id="1110" class="line none"> 1110         struct <a href="buf.h.html#1004">net_buf</a> * const <a href="buf.h.html#1110">__bufs</a>;</div><div id="1111" class="line none"> 1111 };</div><div id="1112" class="line none"> 1112 </div><div id="1113" class="line none"> 1113 /** @cond INTERNAL_HIDDEN */</div><div id="1114" class="line none"> 1114 #define <a href="buf.h.html#1114">NET_BUF_POOL_USAGE_INIT</a>(_pool, _count) \</div><div id="1115" class="line none"> 1115         IF_ENABLED(CONFIG_NET_BUF_POOL_USAGE, (.<a href="buf.h.html#1094">avail_count</a> = ATOMIC_INIT(_count),)) \</div><div id="1116" class="line none"> 1116         IF_ENABLED(CONFIG_NET_BUF_POOL_USAGE, (.<a href="buf.h.html#1100">name</a> = STRINGIFY(_pool),))</div><div id="1117" class="line none"> 1117 </div><div id="1118" class="line none"> 1118 #define <a href="buf.h.html#1118">NET_BUF_POOL_INITIALIZER</a>(_pool, _alloc, _bufs, _count, _ud_size, _destroy) \</div><div id="1119" class="line none"> 1119         {                                                                          \</div><div id="1120" class="line none"> 1120                 .<a href="buf.h.html#1078">free</a> = Z_LIFO_INITIALIZER(_pool.<a href="buf.h.html#1078">free</a>),                            \</div><div id="1121" class="line none"> 1121                 .<a href="buf.h.html#1081">lock</a> = { },                                                       \</div><div id="1122" class="line none"> 1122                 .<a href="buf.h.html#1084">buf_count</a> = _count,                                               \</div><div id="1123" class="line none"> 1123                 .<a href="buf.h.html#1087">uninit_count</a> = _count,                                            \</div><div id="1124" class="line none"> 1124                 .<a href="buf.h.html#1021">user_data_size</a> = _ud_size,                                        \</div><div id="1125" class="line none"> 1125                 <a href="buf.h.html#1114">NET_BUF_POOL_USAGE_INIT</a>(_pool, _count)                             \</div><div id="1126" class="line none"> 1126                 .<a href="buf.h.html#1104">destroy</a> = _destroy,                                               \</div><div id="1127" class="line none"> 1127                 .<a href="buf.h.html#1057">alloc</a> = _alloc,                                                   \</div><div id="1128" class="line none"> 1128                 .<a href="buf.h.html#1110">__bufs</a> = (struct <a href="buf.h.html#1004">net_buf</a> *)_bufs,                                 \</div><div id="1129" class="line none"> 1129         }</div><div id="1130" class="line none"> 1130 </div><div id="1131" class="line none"> 1131 #define <a href="buf.h.html#1131">_NET_BUF_ARRAY_DEFINE</a>(_name, _count, _ud_size)                                         \</div><div id="1132" class="line none"> 1132         struct _net_buf_##_name { uint8_t <a href="buf.h.html#1046">b</a>[sizeof(struct <a href="buf.h.html#1004">net_buf</a>)];                           \</div><div id="1133" class="line none"> 1133                                   uint8_t ud[_ud_size]; } <a href="buf.h.html#32">__net_buf_align</a>;                     \</div><div id="1134" class="line none"> 1134         BUILD_ASSERT(_ud_size &lt;= UINT8_MAX);                                                   \</div><div id="1135" class="line none"> 1135         BUILD_ASSERT(offsetof(struct <a href="buf.h.html#1004">net_buf</a>, <a href="buf.h.html#1051">user_data</a>) ==                                    \</div><div id="1136" class="line none"> 1136                      offsetof(struct _net_buf_##_name, ud), "Invalid offset");                 \</div><div id="1137" class="line none"> 1137         BUILD_ASSERT(__alignof__(struct <a href="buf.h.html#1004">net_buf</a>) ==                                            \</div><div id="1138" class="line none"> 1138                      __alignof__(struct _net_buf_##_name), "Invalid alignment");               \</div><div id="1139" class="line none"> 1139         BUILD_ASSERT(sizeof(struct _net_buf_##_name) ==                                        \</div><div id="1140" class="line none"> 1140                      ROUND_UP(sizeof(struct <a href="buf.h.html#1004">net_buf</a>) + _ud_size, __alignof__(struct <a href="buf.h.html#1004">net_buf</a>)), \</div><div id="1141" class="line none"> 1141                      "Size cannot be determined");                                             \</div><div id="1142" class="line none"> 1142         static struct _net_buf_##_name _net_buf_##_name[_count] __noinit</div><div id="1143" class="line none"> 1143 </div><div id="1144" class="line none"> 1144 extern const struct <a href="buf.h.html#1063">net_buf_data_alloc</a> net_buf_heap_alloc;</div><div id="1145" class="line none"> 1145 /** @endcond */</div><div id="1146" class="line none"> 1146 </div><div id="1147" class="line none"> 1147 /**</div><div id="1148" class="line none"> 1148  *</div><div id="1149" class="line none"> 1149  * @brief Define a new pool for buffers using the heap for the data.</div><div id="1150" class="line none"> 1150  *</div><div id="1151" class="line none"> 1151  * Defines a net_buf_pool struct and the necessary memory storage (array of</div><div id="1152" class="line none"> 1152  * structs) for the needed amount of buffers. After this, the buffers can be</div><div id="1153" class="line none"> 1153  * accessed from the pool through net_buf_alloc. The pool is defined as a</div><div id="1154" class="line none"> 1154  * static variable, so if it needs to be exported outside the current module</div><div id="1155" class="line none"> 1155  * this needs to happen with the help of a separate pointer rather than an</div><div id="1156" class="line none"> 1156  * extern declaration.</div><div id="1157" class="line none"> 1157  *</div><div id="1158" class="line none"> 1158  * The data payload of the buffers will be allocated from the heap using</div><div id="1159" class="line none"> 1159  * k_malloc, so CONFIG_HEAP_MEM_POOL_SIZE must be set to a positive value.</div><div id="1160" class="line none"> 1160  * This kind of pool does not support blocking on the data allocation, so</div><div id="1161" class="line none"> 1161  * the timeout passed to net_buf_alloc will be always treated as K_NO_WAIT</div><div id="1162" class="line none"> 1162  * when trying to allocate the data. This means that allocation failures,</div><div id="1163" class="line none"> 1163  * i.e. NULL returns, must always be handled cleanly.</div><div id="1164" class="line none"> 1164  *</div><div id="1165" class="line none"> 1165  * If provided with a custom destroy callback, this callback is</div><div id="1166" class="line none"> 1166  * responsible for eventually calling net_buf_destroy() to complete the</div><div id="1167" class="line none"> 1167  * process of returning the buffer to the pool.</div><div id="1168" class="line none"> 1168  *</div><div id="1169" class="line none"> 1169  * @param _name      Name of the pool variable.</div><div id="1170" class="line none"> 1170  * @param _count     Number of buffers in the pool.</div><div id="1171" class="line none"> 1171  * @param _ud_size   User data space to reserve per buffer.</div><div id="1172" class="line none"> 1172  * @param _destroy   Optional destroy callback when buffer is freed.</div><div id="1173" class="line none"> 1173  */</div><div id="1174" class="line none"> 1174 #define <a href="buf.h.html#1174">NET_BUF_POOL_HEAP_DEFINE</a>(_name, _count, _ud_size, _destroy)          \</div><div id="1175" class="line none"> 1175         <a href="buf.h.html#1131">_NET_BUF_ARRAY_DEFINE</a>(_name, _count, _ud_size);                      \</div><div id="1176" class="line none"> 1176         static STRUCT_SECTION_ITERABLE(<a href="buf.h.html#1076">net_buf_pool</a>, _name) =                \</div><div id="1177" class="line none"> 1177                 <a href="buf.h.html#1118">NET_BUF_POOL_INITIALIZER</a>(_name, &amp;net_buf_heap_alloc,         \</div><div id="1178" class="line none"> 1178                                          _net_buf_##_name, _count, _ud_size, \</div><div id="1179" class="line none"> 1179                                          _destroy)</div><div id="1180" class="line none"> 1180 </div><div id="1181" class="line none"> 1181 /** @cond INTERNAL_HIDDEN */</div><div id="1182" class="line none"> 1182 </div><div id="1183" class="line none"> 1183 struct <a href="buf.h.html#1183">net_buf_pool_fixed</a> {</div><div id="1184" class="line none"> 1184         uint8_t *<a href="buf.h.html#1184">data_pool</a>;</div><div id="1185" class="line none"> 1185 };</div><div id="1186" class="line none"> 1186 </div><div id="1187" class="line none"> 1187 extern const struct <a href="buf.h.html#1056">net_buf_data_cb</a> net_buf_fixed_cb;</div><div id="1188" class="line none"> 1188 </div><div id="1189" class="line none"> 1189 /** @endcond */</div><div id="1190" class="line none"> 1190 </div><div id="1191" class="line none"> 1191 /**</div><div id="1192" class="line none"> 1192  *</div><div id="1193" class="line none"> 1193  * @brief Define a new pool for buffers based on fixed-size data</div><div id="1194" class="line none"> 1194  *</div><div id="1195" class="line none"> 1195  * Defines a net_buf_pool struct and the necessary memory storage (array of</div><div id="1196" class="line none"> 1196  * structs) for the needed amount of buffers. After this, the buffers can be</div><div id="1197" class="line none"> 1197  * accessed from the pool through net_buf_alloc. The pool is defined as a</div><div id="1198" class="line none"> 1198  * static variable, so if it needs to be exported outside the current module</div><div id="1199" class="line none"> 1199  * this needs to happen with the help of a separate pointer rather than an</div><div id="1200" class="line none"> 1200  * extern declaration.</div><div id="1201" class="line none"> 1201  *</div><div id="1202" class="line none"> 1202  * The data payload of the buffers will be allocated from a byte array</div><div id="1203" class="line none"> 1203  * of fixed sized chunks. This kind of pool does not support blocking on</div><div id="1204" class="line none"> 1204  * the data allocation, so the timeout passed to net_buf_alloc will be</div><div id="1205" class="line none"> 1205  * always treated as K_NO_WAIT when trying to allocate the data. This means</div><div id="1206" class="line none"> 1206  * that allocation failures, i.e. NULL returns, must always be handled</div><div id="1207" class="line none"> 1207  * cleanly.</div><div id="1208" class="line none"> 1208  *</div><div id="1209" class="line none"> 1209  * If provided with a custom destroy callback, this callback is</div><div id="1210" class="line none"> 1210  * responsible for eventually calling net_buf_destroy() to complete the</div><div id="1211" class="line none"> 1211  * process of returning the buffer to the pool.</div><div id="1212" class="line none"> 1212  *</div><div id="1213" class="line none"> 1213  * @param _name      Name of the pool variable.</div><div id="1214" class="line none"> 1214  * @param _count     Number of buffers in the pool.</div><div id="1215" class="line none"> 1215  * @param _data_size Maximum data payload per buffer.</div><div id="1216" class="line none"> 1216  * @param _ud_size   User data space to reserve per buffer.</div><div id="1217" class="line none"> 1217  * @param _destroy   Optional destroy callback when buffer is freed.</div><div id="1218" class="line none"> 1218  */</div><div id="1219" class="line none"> 1219 #define <a href="buf.h.html#1219">NET_BUF_POOL_FIXED_DEFINE</a>(_name, _count, _data_size, _ud_size, _destroy) \</div><div id="1220" class="line none"> 1220         <a href="buf.h.html#1131">_NET_BUF_ARRAY_DEFINE</a>(_name, _count, _ud_size);                        \</div><div id="1221" class="line none"> 1221         static uint8_t __noinit net_buf_data_##_name[_count][_data_size] <a href="buf.h.html#32">__net_buf_align</a>; \</div><div id="1222" class="line none"> 1222         static const struct <a href="buf.h.html#1183">net_buf_pool_fixed</a> net_buf_fixed_##_name = {       \</div><div id="1223" class="line none"> 1223                 .<a href="buf.h.html#1184">data_pool</a> = (uint8_t *)net_buf_data_##_name,                  \</div><div id="1224" class="line none"> 1224         };                                                                     \</div><div id="1225" class="line none"> 1225         static const struct <a href="buf.h.html#1063">net_buf_data_alloc</a> net_buf_fixed_alloc_##_name = { \</div><div id="1226" class="line none"> 1226                 .<a href="buf.h.html#1064">cb</a> = &amp;net_buf_fixed_cb,                                       \</div><div id="1227" class="line none"> 1227                 .<a href="buf.h.html#1065">alloc_data</a> = (void *)&amp;net_buf_fixed_##_name,                  \</div><div id="1228" class="line none"> 1228                 .<a href="buf.h.html#1066">max_alloc_size</a> = _data_size,                                  \</div><div id="1229" class="line none"> 1229         };                                                                     \</div><div id="1230" class="line none"> 1230         static STRUCT_SECTION_ITERABLE(<a href="buf.h.html#1076">net_buf_pool</a>, _name) =                  \</div><div id="1231" class="line none"> 1231                 <a href="buf.h.html#1118">NET_BUF_POOL_INITIALIZER</a>(_name, &amp;net_buf_fixed_alloc_##_name,  \</div><div id="1232" class="line none"> 1232                                          _net_buf_##_name, _count, _ud_size,   \</div><div id="1233" class="line none"> 1233                                          _destroy)</div><div id="1234" class="line none"> 1234 </div><div id="1235" class="line none"> 1235 /** @cond INTERNAL_HIDDEN */</div><div id="1236" class="line none"> 1236 extern const struct <a href="buf.h.html#1056">net_buf_data_cb</a> net_buf_var_cb;</div><div id="1237" class="line none"> 1237 /** @endcond */</div><div id="1238" class="line none"> 1238 </div><div id="1239" class="line none"> 1239 /**</div><div id="1240" class="line none"> 1240  *</div><div id="1241" class="line none"> 1241  * @brief Define a new pool for buffers with variable size payloads</div><div id="1242" class="line none"> 1242  *</div><div id="1243" class="line none"> 1243  * Defines a net_buf_pool struct and the necessary memory storage (array of</div><div id="1244" class="line none"> 1244  * structs) for the needed amount of buffers. After this, the buffers can be</div><div id="1245" class="line none"> 1245  * accessed from the pool through net_buf_alloc. The pool is defined as a</div><div id="1246" class="line none"> 1246  * static variable, so if it needs to be exported outside the current module</div><div id="1247" class="line none"> 1247  * this needs to happen with the help of a separate pointer rather than an</div><div id="1248" class="line none"> 1248  * extern declaration.</div><div id="1249" class="line none"> 1249  *</div><div id="1250" class="line none"> 1250  * The data payload of the buffers will be based on a memory pool from which</div><div id="1251" class="line none"> 1251  * variable size payloads may be allocated.</div><div id="1252" class="line none"> 1252  *</div><div id="1253" class="line none"> 1253  * If provided with a custom destroy callback, this callback is</div><div id="1254" class="line none"> 1254  * responsible for eventually calling net_buf_destroy() to complete the</div><div id="1255" class="line none"> 1255  * process of returning the buffer to the pool.</div><div id="1256" class="line none"> 1256  *</div><div id="1257" class="line none"> 1257  * @param _name      Name of the pool variable.</div><div id="1258" class="line none"> 1258  * @param _count     Number of buffers in the pool.</div><div id="1259" class="line none"> 1259  * @param _data_size Total amount of memory available for data payloads.</div><div id="1260" class="line none"> 1260  * @param _ud_size   User data space to reserve per buffer.</div><div id="1261" class="line none"> 1261  * @param _destroy   Optional destroy callback when buffer is freed.</div><div id="1262" class="line none"> 1262  */</div><div id="1263" class="line none"> 1263 #define <a href="buf.h.html#1263">NET_BUF_POOL_VAR_DEFINE</a>(_name, _count, _data_size, _ud_size, _destroy) \</div><div id="1264" class="line none"> 1264         <a href="buf.h.html#1131">_NET_BUF_ARRAY_DEFINE</a>(_name, _count, _ud_size);                        \</div><div id="1265" class="line none"> 1265         K_HEAP_DEFINE(net_buf_mem_pool_##_name, _data_size);                   \</div><div id="1266" class="line none"> 1266         static const struct <a href="buf.h.html#1063">net_buf_data_alloc</a> net_buf_data_alloc_##_name = {  \</div><div id="1267" class="line none"> 1267                 .<a href="buf.h.html#1064">cb</a> = &amp;net_buf_var_cb,                                         \</div><div id="1268" class="line none"> 1268                 .<a href="buf.h.html#1065">alloc_data</a> = &amp;net_buf_mem_pool_##_name,                       \</div><div id="1269" class="line none"> 1269                 .<a href="buf.h.html#1066">max_alloc_size</a> = 0,                                           \</div><div id="1270" class="line none"> 1270         };                                                                     \</div><div id="1271" class="line none"> 1271         static STRUCT_SECTION_ITERABLE(<a href="buf.h.html#1076">net_buf_pool</a>, _name) =                  \</div><div id="1272" class="line none"> 1272                 <a href="buf.h.html#1118">NET_BUF_POOL_INITIALIZER</a>(_name, &amp;net_buf_data_alloc_##_name,   \</div><div id="1273" class="line none"> 1273                                          _net_buf_##_name, _count, _ud_size,   \</div><div id="1274" class="line none"> 1274                                          _destroy)</div><div id="1275" class="line none"> 1275 </div><div id="1276" class="line none"> 1276 /**</div><div id="1277" class="line none"> 1277  *</div><div id="1278" class="line none"> 1278  * @brief Define a new pool for buffers</div><div id="1279" class="line none"> 1279  *</div><div id="1280" class="line none"> 1280  * Defines a net_buf_pool struct and the necessary memory storage (array of</div><div id="1281" class="line none"> 1281  * structs) for the needed amount of buffers. After this,the buffers can be</div><div id="1282" class="line none"> 1282  * accessed from the pool through net_buf_alloc. The pool is defined as a</div><div id="1283" class="line none"> 1283  * static variable, so if it needs to be exported outside the current module</div><div id="1284" class="line none"> 1284  * this needs to happen with the help of a separate pointer rather than an</div><div id="1285" class="line none"> 1285  * extern declaration.</div><div id="1286" class="line none"> 1286  *</div><div id="1287" class="line none"> 1287  * If provided with a custom destroy callback this callback is</div><div id="1288" class="line none"> 1288  * responsible for eventually calling net_buf_destroy() to complete the</div><div id="1289" class="line none"> 1289  * process of returning the buffer to the pool.</div><div id="1290" class="line none"> 1290  *</div><div id="1291" class="line none"> 1291  * @param _name     Name of the pool variable.</div><div id="1292" class="line none"> 1292  * @param _count    Number of buffers in the pool.</div><div id="1293" class="line none"> 1293  * @param _size     Maximum data size for each buffer.</div><div id="1294" class="line none"> 1294  * @param _ud_size  Amount of user data space to reserve.</div><div id="1295" class="line none"> 1295  * @param _destroy  Optional destroy callback when buffer is freed.</div><div id="1296" class="line none"> 1296  */</div><div id="1297" class="line none"> 1297 #define <a href="buf.h.html#1297">NET_BUF_POOL_DEFINE</a>(_name, _count, _size, _ud_size, _destroy)        \</div><div id="1298" class="line none"> 1298         <a href="buf.h.html#1219">NET_BUF_POOL_FIXED_DEFINE</a>(_name, _count, _size, _ud_size, _destroy)</div><div id="1299" class="line none"> 1299 </div><div id="1300" class="line none"> 1300 /**</div><div id="1301" class="line none"> 1301  * @brief Looks up a pool based on its ID.</div><div id="1302" class="line none"> 1302  *</div><div id="1303" class="line none"> 1303  * @param id Pool ID (e.g. from buf-&gt;pool_id).</div><div id="1304" class="line none"> 1304  *</div><div id="1305" class="line none"> 1305  * @return Pointer to pool.</div><div id="1306" class="line none"> 1306  */</div><div id="1307" class="line none"> 1307 struct <a href="buf.h.html#1076">net_buf_pool</a> *net_buf_pool_get(int <a href="net_ip.h.html#538">id</a>);</div><div id="1308" class="line none"> 1308 </div><div id="1309" class="line none"> 1309 /**</div><div id="1310" class="line none"> 1310  * @brief Get a zero-based index for a buffer.</div><div id="1311" class="line none"> 1311  *</div><div id="1312" class="line none"> 1312  * This function will translate a buffer into a zero-based index,</div><div id="1313" class="line none"> 1313  * based on its placement in its buffer pool. This can be useful if you</div><div id="1314" class="line none"> 1314  * want to associate an external array of meta-data contexts with the</div><div id="1315" class="line none"> 1315  * buffers of a pool.</div><div id="1316" class="line none"> 1316  *</div><div id="1317" class="line none"> 1317  * @param buf  Network buffer.</div><div id="1318" class="line none"> 1318  *</div><div id="1319" class="line none"> 1319  * @return Zero-based index for the buffer.</div><div id="1320" class="line none"> 1320  */</div><div id="1321" class="line none"> 1321 int net_buf_id(const struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1322" class="line none"> 1322 </div><div id="1323" class="line none"> 1323 /**</div><div id="1324" class="line none"> 1324  * @brief Allocate a new fixed buffer from a pool.</div><div id="1325" class="line none"> 1325  *</div><div id="1326" class="line none"> 1326  * @note Some types of data allocators do not support</div><div id="1327" class="line none"> 1327  *       blocking (such as the HEAP type). In this case it's still possible</div><div id="1328" class="line none"> 1328  *       for net_buf_alloc() to fail (return NULL) even if it was given</div><div id="1329" class="line none"> 1329  *       K_FOREVER.</div><div id="1330" class="line none"> 1330  *</div><div id="1331" class="line none"> 1331  * @note The timeout value will be overridden to K_NO_WAIT if called from the</div><div id="1332" class="line none"> 1332  *       system workqueue.</div><div id="1333" class="line none"> 1333  *</div><div id="1334" class="line none"> 1334  * @param pool Which pool to allocate the buffer from.</div><div id="1335" class="line none"> 1335  * @param timeout Affects the action taken should the pool be empty.</div><div id="1336" class="line none"> 1336  *        If K_NO_WAIT, then return immediately. If K_FOREVER, then</div><div id="1337" class="line none"> 1337  *        wait as long as necessary. Otherwise, wait until the specified</div><div id="1338" class="line none"> 1338  *        timeout.</div><div id="1339" class="line none"> 1339  *</div><div id="1340" class="line none"> 1340  * @return New buffer or NULL if out of buffers.</div><div id="1341" class="line none"> 1341  */</div><div id="1342" class="line none"> 1342 #if defined(CONFIG_NET_BUF_LOG)</div><div id="1343" class="line none"> 1343 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_alloc_fixed_debug(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1344" class="line none"> 1344                                                         k_timeout_t timeout,</div><div id="1345" class="line none"> 1345                                                         const char *func,</div><div id="1346" class="line none"> 1346                                                         int line);</div><div id="1347" class="line none"> 1347 #define <a href="buf.h.html#1347">net_buf_alloc_fixed</a>(_pool, _timeout) \</div><div id="1348" class="line none"> 1348         net_buf_alloc_fixed_debug(_pool, _timeout, __func__, __LINE__)</div><div id="1349" class="line none"> 1349 #else</div><div id="1350" class="line none"> 1350 struct <a href="buf.h.html#1004">net_buf</a> * __must_check <a href="buf.h.html#1347">net_buf_alloc_fixed</a>(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1351" class="line none"> 1351                                                   k_timeout_t timeout);</div><div id="1352" class="line none"> 1352 #endif</div><div id="1353" class="line none"> 1353 </div><div id="1354" class="line none"> 1354 /**</div><div id="1355" class="line none"> 1355  * @copydetails net_buf_alloc_fixed</div><div id="1356" class="line none"> 1356  */</div><div id="1357" class="line none"> 1357 static inline struct <a href="buf.h.html#1004">net_buf</a> * __must_check <a href="buf.h.html#1357">net_buf_alloc</a>(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1358" class="line none"> 1358                                                           k_timeout_t timeout)</div><div id="1359" class="line none"> 1359 {</div><div id="1360" class="line none"> 1360         return <a href="buf.h.html#1347">net_buf_alloc_fixed</a>(pool, timeout);</div><div id="1361" class="line none"> 1361 }</div><div id="1362" class="line none"> 1362 </div><div id="1363" class="line none"> 1363 /**</div><div id="1364" class="line none"> 1364  * @brief Allocate a new variable length buffer from a pool.</div><div id="1365" class="line none"> 1365  *</div><div id="1366" class="line none"> 1366  * @note Some types of data allocators do not support</div><div id="1367" class="line none"> 1367  *       blocking (such as the HEAP type). In this case it's still possible</div><div id="1368" class="line none"> 1368  *       for net_buf_alloc() to fail (return NULL) even if it was given</div><div id="1369" class="line none"> 1369  *       K_FOREVER.</div><div id="1370" class="line none"> 1370  *</div><div id="1371" class="line none"> 1371  * @note The timeout value will be overridden to K_NO_WAIT if called from the</div><div id="1372" class="line none"> 1372  *       system workqueue.</div><div id="1373" class="line none"> 1373  *</div><div id="1374" class="line none"> 1374  * @param pool Which pool to allocate the buffer from.</div><div id="1375" class="line none"> 1375  * @param size Amount of data the buffer must be able to fit.</div><div id="1376" class="line none"> 1376  * @param timeout Affects the action taken should the pool be empty.</div><div id="1377" class="line none"> 1377  *        If K_NO_WAIT, then return immediately. If K_FOREVER, then</div><div id="1378" class="line none"> 1378  *        wait as long as necessary. Otherwise, wait until the specified</div><div id="1379" class="line none"> 1379  *        timeout.</div><div id="1380" class="line none"> 1380  *</div><div id="1381" class="line none"> 1381  * @return New buffer or NULL if out of buffers.</div><div id="1382" class="line none"> 1382  */</div><div id="1383" class="line none"> 1383 #if defined(CONFIG_NET_BUF_LOG)</div><div id="1384" class="line none"> 1384 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_alloc_len_debug(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1385" class="line none"> 1385                                                       size_t <a href="buf.h.html#99">size</a>,</div><div id="1386" class="line none"> 1386                                                       k_timeout_t timeout,</div><div id="1387" class="line none"> 1387                                                       const char *func,</div><div id="1388" class="line none"> 1388                                                       int line);</div><div id="1389" class="line none"> 1389 #define <a href="buf.h.html#1389">net_buf_alloc_len</a>(_pool, _size, _timeout) \</div><div id="1390" class="line none"> 1390         net_buf_alloc_len_debug(_pool, _size, _timeout, __func__, __LINE__)</div><div id="1391" class="line none"> 1391 #else</div><div id="1392" class="line none"> 1392 struct <a href="buf.h.html#1004">net_buf</a> * __must_check <a href="buf.h.html#1389">net_buf_alloc_len</a>(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1393" class="line none"> 1393                                                 size_t <a href="buf.h.html#99">size</a>,</div><div id="1394" class="line none"> 1394                                                 k_timeout_t timeout);</div><div id="1395" class="line none"> 1395 #endif</div><div id="1396" class="line none"> 1396 </div><div id="1397" class="line none"> 1397 /**</div><div id="1398" class="line none"> 1398  * @brief Allocate a new buffer from a pool but with external data pointer.</div><div id="1399" class="line none"> 1399  *</div><div id="1400" class="line none"> 1400  * Allocate a new buffer from a pool, where the data pointer comes from the</div><div id="1401" class="line none"> 1401  * user and not from the pool.</div><div id="1402" class="line none"> 1402  *</div><div id="1403" class="line none"> 1403  * @note Some types of data allocators do not support</div><div id="1404" class="line none"> 1404  *       blocking (such as the HEAP type). In this case it's still possible</div><div id="1405" class="line none"> 1405  *       for net_buf_alloc() to fail (return NULL) even if it was given</div><div id="1406" class="line none"> 1406  *       K_FOREVER.</div><div id="1407" class="line none"> 1407  *</div><div id="1408" class="line none"> 1408  * @note The timeout value will be overridden to K_NO_WAIT if called from the</div><div id="1409" class="line none"> 1409  *       system workqueue.</div><div id="1410" class="line none"> 1410  *</div><div id="1411" class="line none"> 1411  * @param pool Which pool to allocate the buffer from.</div><div id="1412" class="line none"> 1412  * @param data External data pointer</div><div id="1413" class="line none"> 1413  * @param size Amount of data the pointed data buffer if able to fit.</div><div id="1414" class="line none"> 1414  * @param timeout Affects the action taken should the pool be empty.</div><div id="1415" class="line none"> 1415  *        If K_NO_WAIT, then return immediately. If K_FOREVER, then</div><div id="1416" class="line none"> 1416  *        wait as long as necessary. Otherwise, wait until the specified</div><div id="1417" class="line none"> 1417  *        timeout.</div><div id="1418" class="line none"> 1418  *</div><div id="1419" class="line none"> 1419  * @return New buffer or NULL if out of buffers.</div><div id="1420" class="line none"> 1420  */</div><div id="1421" class="line none"> 1421 #if defined(CONFIG_NET_BUF_LOG)</div><div id="1422" class="line none"> 1422 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_alloc_with_data_debug(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1423" class="line none"> 1423                                                             void *<a href="buf.h.html#89">data</a>, size_t <a href="buf.h.html#99">size</a>,</div><div id="1424" class="line none"> 1424                                                             k_timeout_t timeout,</div><div id="1425" class="line none"> 1425                                                             const char *func, int line);</div><div id="1426" class="line none"> 1426 #define <a href="buf.h.html#1426">net_buf_alloc_with_data</a>(_pool, _data_, _size, _timeout)         \</div><div id="1427" class="line none"> 1427         net_buf_alloc_with_data_debug(_pool, _data_, _size, _timeout,   \</div><div id="1428" class="line none"> 1428                                       __func__, __LINE__)</div><div id="1429" class="line none"> 1429 #else</div><div id="1430" class="line none"> 1430 struct <a href="buf.h.html#1004">net_buf</a> * __must_check <a href="buf.h.html#1426">net_buf_alloc_with_data</a>(struct <a href="buf.h.html#1076">net_buf_pool</a> *pool,</div><div id="1431" class="line none"> 1431                                                       void *<a href="buf.h.html#89">data</a>, size_t <a href="buf.h.html#99">size</a>,</div><div id="1432" class="line none"> 1432                                                       k_timeout_t timeout);</div><div id="1433" class="line none"> 1433 #endif</div><div id="1434" class="line none"> 1434 </div><div id="1435" class="line none"> 1435 /**</div><div id="1436" class="line none"> 1436  * @brief Get a buffer from a FIFO.</div><div id="1437" class="line none"> 1437  *</div><div id="1438" class="line none"> 1438  * This function is NOT thread-safe if the buffers in the FIFO contain</div><div id="1439" class="line none"> 1439  * fragments.</div><div id="1440" class="line none"> 1440  *</div><div id="1441" class="line none"> 1441  * @param fifo Which FIFO to take the buffer from.</div><div id="1442" class="line none"> 1442  * @param timeout Affects the action taken should the FIFO be empty.</div><div id="1443" class="line none"> 1443  *        If K_NO_WAIT, then return immediately. If K_FOREVER, then wait as</div><div id="1444" class="line none"> 1444  *        long as necessary. Otherwise, wait until the specified timeout.</div><div id="1445" class="line none"> 1445  *</div><div id="1446" class="line none"> 1446  * @return New buffer or NULL if the FIFO is empty.</div><div id="1447" class="line none"> 1447  */</div><div id="1448" class="line none"> 1448 #if defined(CONFIG_NET_BUF_LOG)</div><div id="1449" class="line none"> 1449 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_get_debug(struct k_fifo *fifo,</div><div id="1450" class="line none"> 1450                                                 k_timeout_t timeout,</div><div id="1451" class="line none"> 1451                                                 const char *func, int line);</div><div id="1452" class="line none"> 1452 #define <a href="buf.h.html#1452">net_buf_get</a>(_fifo, _timeout) \</div><div id="1453" class="line none"> 1453         net_buf_get_debug(_fifo, _timeout, __func__, __LINE__)</div><div id="1454" class="line none"> 1454 #else</div><div id="1455" class="line none"> 1455 struct <a href="buf.h.html#1004">net_buf</a> * __must_check <a href="buf.h.html#1452">net_buf_get</a>(struct k_fifo *fifo,</div><div id="1456" class="line none"> 1456                                           k_timeout_t timeout);</div><div id="1457" class="line none"> 1457 #endif</div><div id="1458" class="line none"> 1458 </div><div id="1459" class="line none"> 1459 /**</div><div id="1460" class="line none"> 1460  * @brief Destroy buffer from custom destroy callback</div><div id="1461" class="line none"> 1461  *</div><div id="1462" class="line none"> 1462  * This helper is only intended to be used from custom destroy callbacks.</div><div id="1463" class="line none"> 1463  * If no custom destroy callback is given to NET_BUF_POOL_*_DEFINE() then</div><div id="1464" class="line none"> 1464  * there is no need to use this API.</div><div id="1465" class="line none"> 1465  *</div><div id="1466" class="line none"> 1466  * @param buf Buffer to destroy.</div><div id="1467" class="line none"> 1467  */</div><div id="1468" class="line none"> 1468 static inline void <a href="buf.h.html#1468">net_buf_destroy</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1469" class="line none"> 1469 {</div><div id="1470" class="line none"> 1470         struct <a href="buf.h.html#1076">net_buf_pool</a> *pool = net_buf_pool_get(buf-&gt;<a href="buf.h.html#1018">pool_id</a>);</div><div id="1471" class="line none"> 1471 </div><div id="1472" class="line none"> 1472         if (buf-&gt;<a href="buf.h.html#104">__buf</a>) {</div><div id="1473" class="line none"> 1473                 if (!(buf-&gt;<a href="buf.h.html#1015">flags</a> &amp; <a href="buf.h.html#995">NET_BUF_EXTERNAL_DATA</a>)) {</div><div id="1474" class="line none"> 1474                         pool-&gt;<a href="buf.h.html#1057">alloc</a>-&gt;<a href="buf.h.html#1064">cb</a>-&gt;<a href="buf.h.html#1060">unref</a>(buf, buf-&gt;<a href="buf.h.html#104">__buf</a>);</div><div id="1475" class="line none"> 1475                 }</div><div id="1476" class="line none"> 1476                 buf-&gt;<a href="buf.h.html#104">__buf</a> = NULL;</div><div id="1477" class="line none"> 1477         }</div><div id="1478" class="line none"> 1478 </div><div id="1479" class="line none"> 1479         k_lifo_put(&amp;pool-&gt;<a href="buf.h.html#1078">free</a>, buf);</div><div id="1480" class="line none"> 1480 }</div><div id="1481" class="line none"> 1481 </div><div id="1482" class="line none"> 1482 /**</div><div id="1483" class="line none"> 1483  * @brief Reset buffer</div><div id="1484" class="line none"> 1484  *</div><div id="1485" class="line none"> 1485  * Reset buffer data and flags so it can be reused for other purposes.</div><div id="1486" class="line none"> 1486  *</div><div id="1487" class="line none"> 1487  * @param buf Buffer to reset.</div><div id="1488" class="line none"> 1488  */</div><div id="1489" class="line none"> 1489 void net_buf_reset(struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1490" class="line none"> 1490 </div><div id="1491" class="line none"> 1491 /**</div><div id="1492" class="line none"> 1492  * @brief Initialize buffer with the given headroom.</div><div id="1493" class="line none"> 1493  *</div><div id="1494" class="line none"> 1494  * The buffer is not expected to contain any data when this API is called.</div><div id="1495" class="line none"> 1495  *</div><div id="1496" class="line none"> 1496  * @param buf Buffer to initialize.</div><div id="1497" class="line none"> 1497  * @param reserve How much headroom to reserve.</div><div id="1498" class="line none"> 1498  */</div><div id="1499" class="line none"> 1499 void net_buf_simple_reserve(struct <a href="buf.h.html#87">net_buf_simple</a> *buf, size_t reserve);</div><div id="1500" class="line none"> 1500 </div><div id="1501" class="line none"> 1501 /**</div><div id="1502" class="line none"> 1502  * @brief Put a buffer into a list</div><div id="1503" class="line none"> 1503  *</div><div id="1504" class="line none"> 1504  * If the buffer contains follow-up fragments this function will take care of</div><div id="1505" class="line none"> 1505  * inserting them as well into the list.</div><div id="1506" class="line none"> 1506  *</div><div id="1507" class="line none"> 1507  * @param list Which list to append the buffer to.</div><div id="1508" class="line none"> 1508  * @param buf Buffer.</div><div id="1509" class="line none"> 1509  */</div><div id="1510" class="line none"> 1510 void net_buf_slist_put(<a href="../sys/slist.h.html#49">sys_slist_t</a> *list, struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1511" class="line none"> 1511 </div><div id="1512" class="line none"> 1512 /**</div><div id="1513" class="line none"> 1513  * @brief Get a buffer from a list.</div><div id="1514" class="line none"> 1514  *</div><div id="1515" class="line none"> 1515  * If the buffer had any fragments, these will automatically be recovered from</div><div id="1516" class="line none"> 1516  * the list as well and be placed to the buffer's fragment list.</div><div id="1517" class="line none"> 1517  *</div><div id="1518" class="line none"> 1518  * @param list Which list to take the buffer from.</div><div id="1519" class="line none"> 1519  *</div><div id="1520" class="line none"> 1520  * @return New buffer or NULL if the FIFO is empty.</div><div id="1521" class="line none"> 1521  */</div><div id="1522" class="line none"> 1522 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_slist_get(<a href="../sys/slist.h.html#49">sys_slist_t</a> *list);</div><div id="1523" class="line none"> 1523 </div><div id="1524" class="line none"> 1524 /**</div><div id="1525" class="line none"> 1525  * @brief Put a buffer to the end of a FIFO.</div><div id="1526" class="line none"> 1526  *</div><div id="1527" class="line none"> 1527  * If the buffer contains follow-up fragments this function will take care of</div><div id="1528" class="line none"> 1528  * inserting them as well into the FIFO.</div><div id="1529" class="line none"> 1529  *</div><div id="1530" class="line none"> 1530  * @param fifo Which FIFO to put the buffer to.</div><div id="1531" class="line none"> 1531  * @param buf Buffer.</div><div id="1532" class="line none"> 1532  */</div><div id="1533" class="line none"> 1533 void net_buf_put(struct k_fifo *fifo, struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1534" class="line none"> 1534 </div><div id="1535" class="line none"> 1535 /**</div><div id="1536" class="line none"> 1536  * @brief Decrements the reference count of a buffer.</div><div id="1537" class="line none"> 1537  *</div><div id="1538" class="line none"> 1538  * The buffer is put back into the pool if the reference count reaches zero.</div><div id="1539" class="line none"> 1539  *</div><div id="1540" class="line none"> 1540  * @param buf A valid pointer on a buffer</div><div id="1541" class="line none"> 1541  */</div><div id="1542" class="line none"> 1542 #if defined(CONFIG_NET_BUF_LOG)</div><div id="1543" class="line none"> 1543 void net_buf_unref_debug(struct <a href="buf.h.html#1004">net_buf</a> *buf, const char *func, int line);</div><div id="1544" class="line none"> 1544 #define <a href="buf.h.html#1544">net_buf_unref</a>(_buf) \</div><div id="1545" class="line none"> 1545         net_buf_unref_debug(_buf, __func__, __LINE__)</div><div id="1546" class="line none"> 1546 #else</div><div id="1547" class="line none"> 1547 void <a href="buf.h.html#1544">net_buf_unref</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1548" class="line none"> 1548 #endif</div><div id="1549" class="line none"> 1549 </div><div id="1550" class="line none"> 1550 /**</div><div id="1551" class="line none"> 1551  * @brief Increment the reference count of a buffer.</div><div id="1552" class="line none"> 1552  *</div><div id="1553" class="line none"> 1553  * @param buf A valid pointer on a buffer</div><div id="1554" class="line none"> 1554  *</div><div id="1555" class="line none"> 1555  * @return the buffer newly referenced</div><div id="1556" class="line none"> 1556  */</div><div id="1557" class="line none"> 1557 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_ref(struct <a href="buf.h.html#1004">net_buf</a> *buf);</div><div id="1558" class="line none"> 1558 </div><div id="1559" class="line none"> 1559 /**</div><div id="1560" class="line none"> 1560  * @brief Clone buffer</div><div id="1561" class="line none"> 1561  *</div><div id="1562" class="line none"> 1562  * Duplicate given buffer including any (user) data and headers currently stored.</div><div id="1563" class="line none"> 1563  *</div><div id="1564" class="line none"> 1564  * @param buf A valid pointer on a buffer</div><div id="1565" class="line none"> 1565  * @param timeout Affects the action taken should the pool be empty.</div><div id="1566" class="line none"> 1566  *        If K_NO_WAIT, then return immediately. If K_FOREVER, then</div><div id="1567" class="line none"> 1567  *        wait as long as necessary. Otherwise, wait until the specified</div><div id="1568" class="line none"> 1568  *        timeout.</div><div id="1569" class="line none"> 1569  *</div><div id="1570" class="line none"> 1570  * @return Cloned buffer or NULL if out of buffers.</div><div id="1571" class="line none"> 1571  */</div><div id="1572" class="line none"> 1572 struct <a href="buf.h.html#1004">net_buf</a> * __must_check net_buf_clone(struct <a href="buf.h.html#1004">net_buf</a> *buf,</div><div id="1573" class="line none"> 1573                                             k_timeout_t timeout);</div><div id="1574" class="line none"> 1574 </div><div id="1575" class="line none"> 1575 /**</div><div id="1576" class="line none"> 1576  * @brief Get a pointer to the user data of a buffer.</div><div id="1577" class="line none"> 1577  *</div><div id="1578" class="line none"> 1578  * @param buf A valid pointer on a buffer</div><div id="1579" class="line none"> 1579  *</div><div id="1580" class="line none"> 1580  * @return Pointer to the user data of the buffer.</div><div id="1581" class="line none"> 1581  */</div><div id="1582" class="line none"> 1582 static inline void * __must_check <a href="buf.h.html#1582">net_buf_user_data</a>(const struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1583" class="line none"> 1583 {</div><div id="1584" class="line none"> 1584         return (void *)buf-&gt;<a href="buf.h.html#1051">user_data</a>;</div><div id="1585" class="line none"> 1585 }</div><div id="1586" class="line none"> 1586 </div><div id="1587" class="line none"> 1587 /**</div><div id="1588" class="line none"> 1588  * @brief Copy user data from one to another buffer.</div><div id="1589" class="line none"> 1589  *</div><div id="1590" class="line none"> 1590  * @param dst A valid pointer to a buffer gettings its user data overwritten.</div><div id="1591" class="line none"> 1591  * @param src A valid pointer to a buffer gettings its user data copied. User data size must be</div><div id="1592" class="line none"> 1592  *            equal to or exceed @a dst.</div><div id="1593" class="line none"> 1593  *</div><div id="1594" class="line none"> 1594  * @return 0 on success or negative error number on failure.</div><div id="1595" class="line none"> 1595  */</div><div id="1596" class="line none"> 1596 int net_buf_user_data_copy(struct <a href="buf.h.html#1004">net_buf</a> *<a href="net_ip.h.html#531">dst</a>, const struct <a href="buf.h.html#1004">net_buf</a> *<a href="net_ip.h.html#530">src</a>);</div><div id="1597" class="line none"> 1597 </div><div id="1598" class="line none"> 1598 /**</div><div id="1599" class="line none"> 1599  * @brief Initialize buffer with the given headroom.</div><div id="1600" class="line none"> 1600  *</div><div id="1601" class="line none"> 1601  * The buffer is not expected to contain any data when this API is called.</div><div id="1602" class="line none"> 1602  *</div><div id="1603" class="line none"> 1603  * @param buf Buffer to initialize.</div><div id="1604" class="line none"> 1604  * @param reserve How much headroom to reserve.</div><div id="1605" class="line none"> 1605  */</div><div id="1606" class="line none"> 1606 static inline void <a href="buf.h.html#1606">net_buf_reserve</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t reserve)</div><div id="1607" class="line none"> 1607 {</div><div id="1608" class="line none"> 1608         net_buf_simple_reserve(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, reserve);</div><div id="1609" class="line none"> 1609 }</div><div id="1610" class="line none"> 1610 </div><div id="1611" class="line none"> 1611 /**</div><div id="1612" class="line none"> 1612  * @brief Prepare data to be added at the end of the buffer</div><div id="1613" class="line none"> 1613  *</div><div id="1614" class="line none"> 1614  * Increments the data length of a buffer to account for more data</div><div id="1615" class="line none"> 1615  * at the end.</div><div id="1616" class="line none"> 1616  *</div><div id="1617" class="line none"> 1617  * @param buf Buffer to update.</div><div id="1618" class="line none"> 1618  * @param len Number of bytes to increment the length with.</div><div id="1619" class="line none"> 1619  *</div><div id="1620" class="line none"> 1620  * @return The original tail of the buffer.</div><div id="1621" class="line none"> 1621  */</div><div id="1622" class="line none"> 1622 static inline void *<a href="buf.h.html#1622">net_buf_add</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>)</div><div id="1623" class="line none"> 1623 {</div><div id="1624" class="line none"> 1624         return net_buf_simple_add(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, <a href="buf.h.html#96">len</a>);</div><div id="1625" class="line none"> 1625 }</div><div id="1626" class="line none"> 1626 </div><div id="1627" class="line none"> 1627 /**</div><div id="1628" class="line none"> 1628  * @brief Copies the given number of bytes to the end of the buffer</div><div id="1629" class="line none"> 1629  *</div><div id="1630" class="line none"> 1630  * Increments the data length of the  buffer to account for more data at</div><div id="1631" class="line none"> 1631  * the end.</div><div id="1632" class="line none"> 1632  *</div><div id="1633" class="line none"> 1633  * @param buf Buffer to update.</div><div id="1634" class="line none"> 1634  * @param mem Location of data to be added.</div><div id="1635" class="line none"> 1635  * @param len Length of data to be added</div><div id="1636" class="line none"> 1636  *</div><div id="1637" class="line none"> 1637  * @return The original tail of the buffer.</div><div id="1638" class="line none"> 1638  */</div><div id="1639" class="line none"> 1639 static inline void *<a href="buf.h.html#1639">net_buf_add_mem</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, const void *mem,</div><div id="1640" class="line none"> 1640                                     size_t <a href="buf.h.html#96">len</a>)</div><div id="1641" class="line none"> 1641 {</div><div id="1642" class="line none"> 1642         return <a href="buf.h.html#214">net_buf_simple_add_mem</a>(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, mem, <a href="buf.h.html#96">len</a>);</div><div id="1643" class="line none"> 1643 }</div><div id="1644" class="line none"> 1644 </div><div id="1645" class="line none"> 1645 /**</div><div id="1646" class="line none"> 1646  * @brief Add (8-bit) byte at the end of the buffer</div><div id="1647" class="line none"> 1647  *</div><div id="1648" class="line none"> 1648  * Increments the data length of the  buffer to account for more data at</div><div id="1649" class="line none"> 1649  * the end.</div><div id="1650" class="line none"> 1650  *</div><div id="1651" class="line none"> 1651  * @param buf Buffer to update.</div><div id="1652" class="line none"> 1652  * @param val byte value to be added.</div><div id="1653" class="line none"> 1653  *</div><div id="1654" class="line none"> 1654  * @return Pointer to the value added</div><div id="1655" class="line none"> 1655  */</div><div id="1656" class="line none"> 1656 static inline uint8_t *<a href="buf.h.html#1656">net_buf_add_u8</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint8_t val)</div><div id="1657" class="line none"> 1657 {</div><div id="1658" class="line none"> 1658         return <a href="buf.h.html#228">net_buf_simple_add_u8</a>(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1659" class="line none"> 1659 }</div><div id="1660" class="line none"> 1660 </div><div id="1661" class="line none"> 1661 /**</div><div id="1662" class="line none"> 1662  * @brief Add 16-bit value at the end of the buffer</div><div id="1663" class="line none"> 1663  *</div><div id="1664" class="line none"> 1664  * Adds 16-bit value in little endian format at the end of buffer.</div><div id="1665" class="line none"> 1665  * Increments the data length of a buffer to account for more data</div><div id="1666" class="line none"> 1666  * at the end.</div><div id="1667" class="line none"> 1667  *</div><div id="1668" class="line none"> 1668  * @param buf Buffer to update.</div><div id="1669" class="line none"> 1669  * @param val 16-bit value to be added.</div><div id="1670" class="line none"> 1670  */</div><div id="1671" class="line none"> 1671 static inline void <a href="buf.h.html#1671">net_buf_add_le16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint16_t val)</div><div id="1672" class="line none"> 1672 {</div><div id="1673" class="line none"> 1673         net_buf_simple_add_le16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1674" class="line none"> 1674 }</div><div id="1675" class="line none"> 1675 </div><div id="1676" class="line none"> 1676 /**</div><div id="1677" class="line none"> 1677  * @brief Add 16-bit value at the end of the buffer</div><div id="1678" class="line none"> 1678  *</div><div id="1679" class="line none"> 1679  * Adds 16-bit value in big endian format at the end of buffer.</div><div id="1680" class="line none"> 1680  * Increments the data length of a buffer to account for more data</div><div id="1681" class="line none"> 1681  * at the end.</div><div id="1682" class="line none"> 1682  *</div><div id="1683" class="line none"> 1683  * @param buf Buffer to update.</div><div id="1684" class="line none"> 1684  * @param val 16-bit value to be added.</div><div id="1685" class="line none"> 1685  */</div><div id="1686" class="line none"> 1686 static inline void <a href="buf.h.html#1686">net_buf_add_be16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint16_t val)</div><div id="1687" class="line none"> 1687 {</div><div id="1688" class="line none"> 1688         net_buf_simple_add_be16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1689" class="line none"> 1689 }</div><div id="1690" class="line none"> 1690 </div><div id="1691" class="line none"> 1691 /**</div><div id="1692" class="line none"> 1692  * @brief Add 24-bit value at the end of the buffer</div><div id="1693" class="line none"> 1693  *</div><div id="1694" class="line none"> 1694  * Adds 24-bit value in little endian format at the end of buffer.</div><div id="1695" class="line none"> 1695  * Increments the data length of a buffer to account for more data</div><div id="1696" class="line none"> 1696  * at the end.</div><div id="1697" class="line none"> 1697  *</div><div id="1698" class="line none"> 1698  * @param buf Buffer to update.</div><div id="1699" class="line none"> 1699  * @param val 24-bit value to be added.</div><div id="1700" class="line none"> 1700  */</div><div id="1701" class="line none"> 1701 static inline void <a href="buf.h.html#1701">net_buf_add_le24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="1702" class="line none"> 1702 {</div><div id="1703" class="line none"> 1703         net_buf_simple_add_le24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1704" class="line none"> 1704 }</div><div id="1705" class="line none"> 1705 </div><div id="1706" class="line none"> 1706 /**</div><div id="1707" class="line none"> 1707  * @brief Add 24-bit value at the end of the buffer</div><div id="1708" class="line none"> 1708  *</div><div id="1709" class="line none"> 1709  * Adds 24-bit value in big endian format at the end of buffer.</div><div id="1710" class="line none"> 1710  * Increments the data length of a buffer to account for more data</div><div id="1711" class="line none"> 1711  * at the end.</div><div id="1712" class="line none"> 1712  *</div><div id="1713" class="line none"> 1713  * @param buf Buffer to update.</div><div id="1714" class="line none"> 1714  * @param val 24-bit value to be added.</div><div id="1715" class="line none"> 1715  */</div><div id="1716" class="line none"> 1716 static inline void <a href="buf.h.html#1716">net_buf_add_be24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="1717" class="line none"> 1717 {</div><div id="1718" class="line none"> 1718         net_buf_simple_add_be24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1719" class="line none"> 1719 }</div><div id="1720" class="line none"> 1720 </div><div id="1721" class="line none"> 1721 /**</div><div id="1722" class="line none"> 1722  * @brief Add 32-bit value at the end of the buffer</div><div id="1723" class="line none"> 1723  *</div><div id="1724" class="line none"> 1724  * Adds 32-bit value in little endian format at the end of buffer.</div><div id="1725" class="line none"> 1725  * Increments the data length of a buffer to account for more data</div><div id="1726" class="line none"> 1726  * at the end.</div><div id="1727" class="line none"> 1727  *</div><div id="1728" class="line none"> 1728  * @param buf Buffer to update.</div><div id="1729" class="line none"> 1729  * @param val 32-bit value to be added.</div><div id="1730" class="line none"> 1730  */</div><div id="1731" class="line none"> 1731 static inline void <a href="buf.h.html#1731">net_buf_add_le32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="1732" class="line none"> 1732 {</div><div id="1733" class="line none"> 1733         net_buf_simple_add_le32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1734" class="line none"> 1734 }</div><div id="1735" class="line none"> 1735 </div><div id="1736" class="line none"> 1736 /**</div><div id="1737" class="line none"> 1737  * @brief Add 32-bit value at the end of the buffer</div><div id="1738" class="line none"> 1738  *</div><div id="1739" class="line none"> 1739  * Adds 32-bit value in big endian format at the end of buffer.</div><div id="1740" class="line none"> 1740  * Increments the data length of a buffer to account for more data</div><div id="1741" class="line none"> 1741  * at the end.</div><div id="1742" class="line none"> 1742  *</div><div id="1743" class="line none"> 1743  * @param buf Buffer to update.</div><div id="1744" class="line none"> 1744  * @param val 32-bit value to be added.</div><div id="1745" class="line none"> 1745  */</div><div id="1746" class="line none"> 1746 static inline void <a href="buf.h.html#1746">net_buf_add_be32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="1747" class="line none"> 1747 {</div><div id="1748" class="line none"> 1748         net_buf_simple_add_be32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1749" class="line none"> 1749 }</div><div id="1750" class="line none"> 1750 </div><div id="1751" class="line none"> 1751 /**</div><div id="1752" class="line none"> 1752  * @brief Add 40-bit value at the end of the buffer</div><div id="1753" class="line none"> 1753  *</div><div id="1754" class="line none"> 1754  * Adds 40-bit value in little endian format at the end of buffer.</div><div id="1755" class="line none"> 1755  * Increments the data length of a buffer to account for more data</div><div id="1756" class="line none"> 1756  * at the end.</div><div id="1757" class="line none"> 1757  *</div><div id="1758" class="line none"> 1758  * @param buf Buffer to update.</div><div id="1759" class="line none"> 1759  * @param val 40-bit value to be added.</div><div id="1760" class="line none"> 1760  */</div><div id="1761" class="line none"> 1761 static inline void <a href="buf.h.html#1761">net_buf_add_le40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="1762" class="line none"> 1762 {</div><div id="1763" class="line none"> 1763         net_buf_simple_add_le40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1764" class="line none"> 1764 }</div><div id="1765" class="line none"> 1765 </div><div id="1766" class="line none"> 1766 /**</div><div id="1767" class="line none"> 1767  * @brief Add 40-bit value at the end of the buffer</div><div id="1768" class="line none"> 1768  *</div><div id="1769" class="line none"> 1769  * Adds 40-bit value in big endian format at the end of buffer.</div><div id="1770" class="line none"> 1770  * Increments the data length of a buffer to account for more data</div><div id="1771" class="line none"> 1771  * at the end.</div><div id="1772" class="line none"> 1772  *</div><div id="1773" class="line none"> 1773  * @param buf Buffer to update.</div><div id="1774" class="line none"> 1774  * @param val 40-bit value to be added.</div><div id="1775" class="line none"> 1775  */</div><div id="1776" class="line none"> 1776 static inline void <a href="buf.h.html#1776">net_buf_add_be40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="1777" class="line none"> 1777 {</div><div id="1778" class="line none"> 1778         net_buf_simple_add_be40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1779" class="line none"> 1779 }</div><div id="1780" class="line none"> 1780 </div><div id="1781" class="line none"> 1781 /**</div><div id="1782" class="line none"> 1782  * @brief Add 48-bit value at the end of the buffer</div><div id="1783" class="line none"> 1783  *</div><div id="1784" class="line none"> 1784  * Adds 48-bit value in little endian format at the end of buffer.</div><div id="1785" class="line none"> 1785  * Increments the data length of a buffer to account for more data</div><div id="1786" class="line none"> 1786  * at the end.</div><div id="1787" class="line none"> 1787  *</div><div id="1788" class="line none"> 1788  * @param buf Buffer to update.</div><div id="1789" class="line none"> 1789  * @param val 48-bit value to be added.</div><div id="1790" class="line none"> 1790  */</div><div id="1791" class="line none"> 1791 static inline void <a href="buf.h.html#1791">net_buf_add_le48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="1792" class="line none"> 1792 {</div><div id="1793" class="line none"> 1793         net_buf_simple_add_le48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1794" class="line none"> 1794 }</div><div id="1795" class="line none"> 1795 </div><div id="1796" class="line none"> 1796 /**</div><div id="1797" class="line none"> 1797  * @brief Add 48-bit value at the end of the buffer</div><div id="1798" class="line none"> 1798  *</div><div id="1799" class="line none"> 1799  * Adds 48-bit value in big endian format at the end of buffer.</div><div id="1800" class="line none"> 1800  * Increments the data length of a buffer to account for more data</div><div id="1801" class="line none"> 1801  * at the end.</div><div id="1802" class="line none"> 1802  *</div><div id="1803" class="line none"> 1803  * @param buf Buffer to update.</div><div id="1804" class="line none"> 1804  * @param val 48-bit value to be added.</div><div id="1805" class="line none"> 1805  */</div><div id="1806" class="line none"> 1806 static inline void <a href="buf.h.html#1806">net_buf_add_be48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="1807" class="line none"> 1807 {</div><div id="1808" class="line none"> 1808         net_buf_simple_add_be48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1809" class="line none"> 1809 }</div><div id="1810" class="line none"> 1810 </div><div id="1811" class="line none"> 1811 /**</div><div id="1812" class="line none"> 1812  * @brief Add 64-bit value at the end of the buffer</div><div id="1813" class="line none"> 1813  *</div><div id="1814" class="line none"> 1814  * Adds 64-bit value in little endian format at the end of buffer.</div><div id="1815" class="line none"> 1815  * Increments the data length of a buffer to account for more data</div><div id="1816" class="line none"> 1816  * at the end.</div><div id="1817" class="line none"> 1817  *</div><div id="1818" class="line none"> 1818  * @param buf Buffer to update.</div><div id="1819" class="line none"> 1819  * @param val 64-bit value to be added.</div><div id="1820" class="line none"> 1820  */</div><div id="1821" class="line none"> 1821 static inline void <a href="buf.h.html#1821">net_buf_add_le64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="1822" class="line none"> 1822 {</div><div id="1823" class="line none"> 1823         net_buf_simple_add_le64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1824" class="line none"> 1824 }</div><div id="1825" class="line none"> 1825 </div><div id="1826" class="line none"> 1826 /**</div><div id="1827" class="line none"> 1827  * @brief Add 64-bit value at the end of the buffer</div><div id="1828" class="line none"> 1828  *</div><div id="1829" class="line none"> 1829  * Adds 64-bit value in big endian format at the end of buffer.</div><div id="1830" class="line none"> 1830  * Increments the data length of a buffer to account for more data</div><div id="1831" class="line none"> 1831  * at the end.</div><div id="1832" class="line none"> 1832  *</div><div id="1833" class="line none"> 1833  * @param buf Buffer to update.</div><div id="1834" class="line none"> 1834  * @param val 64-bit value to be added.</div><div id="1835" class="line none"> 1835  */</div><div id="1836" class="line none"> 1836 static inline void <a href="buf.h.html#1836">net_buf_add_be64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="1837" class="line none"> 1837 {</div><div id="1838" class="line none"> 1838         net_buf_simple_add_be64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="1839" class="line none"> 1839 }</div><div id="1840" class="line none"> 1840 </div><div id="1841" class="line none"> 1841 /**</div><div id="1842" class="line none"> 1842  * @brief Remove data from the end of the buffer.</div><div id="1843" class="line none"> 1843  *</div><div id="1844" class="line none"> 1844  * Removes data from the end of the buffer by modifying the buffer length.</div><div id="1845" class="line none"> 1845  *</div><div id="1846" class="line none"> 1846  * @param buf Buffer to update.</div><div id="1847" class="line none"> 1847  * @param len Number of bytes to remove.</div><div id="1848" class="line none"> 1848  *</div><div id="1849" class="line none"> 1849  * @return New end of the buffer data.</div><div id="1850" class="line none"> 1850  */</div><div id="1851" class="line none"> 1851 static inline void *<a href="buf.h.html#1851">net_buf_remove_mem</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>)</div><div id="1852" class="line none"> 1852 {</div><div id="1853" class="line none"> 1853         return net_buf_simple_remove_mem(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, <a href="buf.h.html#96">len</a>);</div><div id="1854" class="line none"> 1854 }</div><div id="1855" class="line none"> 1855 </div><div id="1856" class="line none"> 1856 /**</div><div id="1857" class="line none"> 1857  * @brief Remove a 8-bit value from the end of the buffer</div><div id="1858" class="line none"> 1858  *</div><div id="1859" class="line none"> 1859  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1860" class="line none"> 1860  * 8-bit values.</div><div id="1861" class="line none"> 1861  *</div><div id="1862" class="line none"> 1862  * @param buf A valid pointer on a buffer.</div><div id="1863" class="line none"> 1863  *</div><div id="1864" class="line none"> 1864  * @return The 8-bit removed value</div><div id="1865" class="line none"> 1865  */</div><div id="1866" class="line none"> 1866 static inline uint8_t <a href="buf.h.html#1866">net_buf_remove_u8</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1867" class="line none"> 1867 {</div><div id="1868" class="line none"> 1868         return net_buf_simple_remove_u8(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1869" class="line none"> 1869 }</div><div id="1870" class="line none"> 1870 </div><div id="1871" class="line none"> 1871 /**</div><div id="1872" class="line none"> 1872  * @brief Remove and convert 16 bits from the end of the buffer.</div><div id="1873" class="line none"> 1873  *</div><div id="1874" class="line none"> 1874  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1875" class="line none"> 1875  * 16-bit little endian data.</div><div id="1876" class="line none"> 1876  *</div><div id="1877" class="line none"> 1877  * @param buf A valid pointer on a buffer.</div><div id="1878" class="line none"> 1878  *</div><div id="1879" class="line none"> 1879  * @return 16-bit value converted from little endian to host endian.</div><div id="1880" class="line none"> 1880  */</div><div id="1881" class="line none"> 1881 static inline uint16_t <a href="buf.h.html#1881">net_buf_remove_le16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1882" class="line none"> 1882 {</div><div id="1883" class="line none"> 1883         return net_buf_simple_remove_le16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1884" class="line none"> 1884 }</div><div id="1885" class="line none"> 1885 </div><div id="1886" class="line none"> 1886 /**</div><div id="1887" class="line none"> 1887  * @brief Remove and convert 16 bits from the end of the buffer.</div><div id="1888" class="line none"> 1888  *</div><div id="1889" class="line none"> 1889  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1890" class="line none"> 1890  * 16-bit big endian data.</div><div id="1891" class="line none"> 1891  *</div><div id="1892" class="line none"> 1892  * @param buf A valid pointer on a buffer.</div><div id="1893" class="line none"> 1893  *</div><div id="1894" class="line none"> 1894  * @return 16-bit value converted from big endian to host endian.</div><div id="1895" class="line none"> 1895  */</div><div id="1896" class="line none"> 1896 static inline uint16_t <a href="buf.h.html#1896">net_buf_remove_be16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1897" class="line none"> 1897 {</div><div id="1898" class="line none"> 1898         return net_buf_simple_remove_be16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1899" class="line none"> 1899 }</div><div id="1900" class="line none"> 1900 </div><div id="1901" class="line none"> 1901 /**</div><div id="1902" class="line none"> 1902  * @brief Remove and convert 24 bits from the end of the buffer.</div><div id="1903" class="line none"> 1903  *</div><div id="1904" class="line none"> 1904  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1905" class="line none"> 1905  * 24-bit big endian data.</div><div id="1906" class="line none"> 1906  *</div><div id="1907" class="line none"> 1907  * @param buf A valid pointer on a buffer.</div><div id="1908" class="line none"> 1908  *</div><div id="1909" class="line none"> 1909  * @return 24-bit value converted from big endian to host endian.</div><div id="1910" class="line none"> 1910  */</div><div id="1911" class="line none"> 1911 static inline uint32_t <a href="buf.h.html#1911">net_buf_remove_be24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1912" class="line none"> 1912 {</div><div id="1913" class="line none"> 1913         return net_buf_simple_remove_be24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1914" class="line none"> 1914 }</div><div id="1915" class="line none"> 1915 </div><div id="1916" class="line none"> 1916 /**</div><div id="1917" class="line none"> 1917  * @brief Remove and convert 24 bits from the end of the buffer.</div><div id="1918" class="line none"> 1918  *</div><div id="1919" class="line none"> 1919  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1920" class="line none"> 1920  * 24-bit little endian data.</div><div id="1921" class="line none"> 1921  *</div><div id="1922" class="line none"> 1922  * @param buf A valid pointer on a buffer.</div><div id="1923" class="line none"> 1923  *</div><div id="1924" class="line none"> 1924  * @return 24-bit value converted from little endian to host endian.</div><div id="1925" class="line none"> 1925  */</div><div id="1926" class="line none"> 1926 static inline uint32_t <a href="buf.h.html#1926">net_buf_remove_le24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1927" class="line none"> 1927 {</div><div id="1928" class="line none"> 1928         return net_buf_simple_remove_le24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1929" class="line none"> 1929 }</div><div id="1930" class="line none"> 1930 </div><div id="1931" class="line none"> 1931 /**</div><div id="1932" class="line none"> 1932  * @brief Remove and convert 32 bits from the end of the buffer.</div><div id="1933" class="line none"> 1933  *</div><div id="1934" class="line none"> 1934  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1935" class="line none"> 1935  * 32-bit little endian data.</div><div id="1936" class="line none"> 1936  *</div><div id="1937" class="line none"> 1937  * @param buf A valid pointer on a buffer.</div><div id="1938" class="line none"> 1938  *</div><div id="1939" class="line none"> 1939  * @return 32-bit value converted from little endian to host endian.</div><div id="1940" class="line none"> 1940  */</div><div id="1941" class="line none"> 1941 static inline uint32_t <a href="buf.h.html#1941">net_buf_remove_le32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1942" class="line none"> 1942 {</div><div id="1943" class="line none"> 1943         return net_buf_simple_remove_le32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1944" class="line none"> 1944 }</div><div id="1945" class="line none"> 1945 </div><div id="1946" class="line none"> 1946 /**</div><div id="1947" class="line none"> 1947  * @brief Remove and convert 32 bits from the end of the buffer.</div><div id="1948" class="line none"> 1948  *</div><div id="1949" class="line none"> 1949  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1950" class="line none"> 1950  * 32-bit big endian data.</div><div id="1951" class="line none"> 1951  *</div><div id="1952" class="line none"> 1952  * @param buf A valid pointer on a buffer</div><div id="1953" class="line none"> 1953  *</div><div id="1954" class="line none"> 1954  * @return 32-bit value converted from big endian to host endian.</div><div id="1955" class="line none"> 1955  */</div><div id="1956" class="line none"> 1956 static inline uint32_t <a href="buf.h.html#1956">net_buf_remove_be32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1957" class="line none"> 1957 {</div><div id="1958" class="line none"> 1958         return net_buf_simple_remove_be32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1959" class="line none"> 1959 }</div><div id="1960" class="line none"> 1960 </div><div id="1961" class="line none"> 1961 /**</div><div id="1962" class="line none"> 1962  * @brief Remove and convert 40 bits from the end of the buffer.</div><div id="1963" class="line none"> 1963  *</div><div id="1964" class="line none"> 1964  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1965" class="line none"> 1965  * 40-bit little endian data.</div><div id="1966" class="line none"> 1966  *</div><div id="1967" class="line none"> 1967  * @param buf A valid pointer on a buffer.</div><div id="1968" class="line none"> 1968  *</div><div id="1969" class="line none"> 1969  * @return 40-bit value converted from little endian to host endian.</div><div id="1970" class="line none"> 1970  */</div><div id="1971" class="line none"> 1971 static inline uint64_t <a href="buf.h.html#1971">net_buf_remove_le40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1972" class="line none"> 1972 {</div><div id="1973" class="line none"> 1973         return net_buf_simple_remove_le40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1974" class="line none"> 1974 }</div><div id="1975" class="line none"> 1975 </div><div id="1976" class="line none"> 1976 /**</div><div id="1977" class="line none"> 1977  * @brief Remove and convert 40 bits from the end of the buffer.</div><div id="1978" class="line none"> 1978  *</div><div id="1979" class="line none"> 1979  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1980" class="line none"> 1980  * 40-bit big endian data.</div><div id="1981" class="line none"> 1981  *</div><div id="1982" class="line none"> 1982  * @param buf A valid pointer on a buffer</div><div id="1983" class="line none"> 1983  *</div><div id="1984" class="line none"> 1984  * @return 40-bit value converted from big endian to host endian.</div><div id="1985" class="line none"> 1985  */</div><div id="1986" class="line none"> 1986 static inline uint64_t <a href="buf.h.html#1986">net_buf_remove_be40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="1987" class="line none"> 1987 {</div><div id="1988" class="line none"> 1988         return net_buf_simple_remove_be40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="1989" class="line none"> 1989 }</div><div id="1990" class="line none"> 1990 </div><div id="1991" class="line none"> 1991 /**</div><div id="1992" class="line none"> 1992  * @brief Remove and convert 48 bits from the end of the buffer.</div><div id="1993" class="line none"> 1993  *</div><div id="1994" class="line none"> 1994  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="1995" class="line none"> 1995  * 48-bit little endian data.</div><div id="1996" class="line none"> 1996  *</div><div id="1997" class="line none"> 1997  * @param buf A valid pointer on a buffer.</div><div id="1998" class="line none"> 1998  *</div><div id="1999" class="line none"> 1999  * @return 48-bit value converted from little endian to host endian.</div><div id="2000" class="line none"> 2000  */</div><div id="2001" class="line none"> 2001 static inline uint64_t <a href="buf.h.html#2001">net_buf_remove_le48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2002" class="line none"> 2002 {</div><div id="2003" class="line none"> 2003         return net_buf_simple_remove_le48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2004" class="line none"> 2004 }</div><div id="2005" class="line none"> 2005 </div><div id="2006" class="line none"> 2006 /**</div><div id="2007" class="line none"> 2007  * @brief Remove and convert 48 bits from the end of the buffer.</div><div id="2008" class="line none"> 2008  *</div><div id="2009" class="line none"> 2009  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="2010" class="line none"> 2010  * 48-bit big endian data.</div><div id="2011" class="line none"> 2011  *</div><div id="2012" class="line none"> 2012  * @param buf A valid pointer on a buffer</div><div id="2013" class="line none"> 2013  *</div><div id="2014" class="line none"> 2014  * @return 48-bit value converted from big endian to host endian.</div><div id="2015" class="line none"> 2015  */</div><div id="2016" class="line none"> 2016 static inline uint64_t <a href="buf.h.html#2016">net_buf_remove_be48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2017" class="line none"> 2017 {</div><div id="2018" class="line none"> 2018         return net_buf_simple_remove_be48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2019" class="line none"> 2019 }</div><div id="2020" class="line none"> 2020 </div><div id="2021" class="line none"> 2021 /**</div><div id="2022" class="line none"> 2022  * @brief Remove and convert 64 bits from the end of the buffer.</div><div id="2023" class="line none"> 2023  *</div><div id="2024" class="line none"> 2024  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="2025" class="line none"> 2025  * 64-bit little endian data.</div><div id="2026" class="line none"> 2026  *</div><div id="2027" class="line none"> 2027  * @param buf A valid pointer on a buffer.</div><div id="2028" class="line none"> 2028  *</div><div id="2029" class="line none"> 2029  * @return 64-bit value converted from little endian to host endian.</div><div id="2030" class="line none"> 2030  */</div><div id="2031" class="line none"> 2031 static inline uint64_t <a href="buf.h.html#2031">net_buf_remove_le64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2032" class="line none"> 2032 {</div><div id="2033" class="line none"> 2033         return net_buf_simple_remove_le64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2034" class="line none"> 2034 }</div><div id="2035" class="line none"> 2035 </div><div id="2036" class="line none"> 2036 /**</div><div id="2037" class="line none"> 2037  * @brief Remove and convert 64 bits from the end of the buffer.</div><div id="2038" class="line none"> 2038  *</div><div id="2039" class="line none"> 2039  * Same idea as with net_buf_remove_mem(), but a helper for operating on</div><div id="2040" class="line none"> 2040  * 64-bit big endian data.</div><div id="2041" class="line none"> 2041  *</div><div id="2042" class="line none"> 2042  * @param buf A valid pointer on a buffer</div><div id="2043" class="line none"> 2043  *</div><div id="2044" class="line none"> 2044  * @return 64-bit value converted from big endian to host endian.</div><div id="2045" class="line none"> 2045  */</div><div id="2046" class="line none"> 2046 static inline uint64_t <a href="buf.h.html#2046">net_buf_remove_be64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2047" class="line none"> 2047 {</div><div id="2048" class="line none"> 2048         return net_buf_simple_remove_be64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2049" class="line none"> 2049 }</div><div id="2050" class="line none"> 2050 </div><div id="2051" class="line none"> 2051 /**</div><div id="2052" class="line none"> 2052  * @brief Prepare data to be added at the start of the buffer</div><div id="2053" class="line none"> 2053  *</div><div id="2054" class="line none"> 2054  * Modifies the data pointer and buffer length to account for more data</div><div id="2055" class="line none"> 2055  * in the beginning of the buffer.</div><div id="2056" class="line none"> 2056  *</div><div id="2057" class="line none"> 2057  * @param buf Buffer to update.</div><div id="2058" class="line none"> 2058  * @param len Number of bytes to add to the beginning.</div><div id="2059" class="line none"> 2059  *</div><div id="2060" class="line none"> 2060  * @return The new beginning of the buffer data.</div><div id="2061" class="line none"> 2061  */</div><div id="2062" class="line none"> 2062 static inline void *<a href="buf.h.html#2062">net_buf_push</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>)</div><div id="2063" class="line none"> 2063 {</div><div id="2064" class="line none"> 2064         return net_buf_simple_push(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, <a href="buf.h.html#96">len</a>);</div><div id="2065" class="line none"> 2065 }</div><div id="2066" class="line none"> 2066 </div><div id="2067" class="line none"> 2067 /**</div><div id="2068" class="line none"> 2068  * @brief Copies the given number of bytes to the start of the buffer</div><div id="2069" class="line none"> 2069  *</div><div id="2070" class="line none"> 2070  * Modifies the data pointer and buffer length to account for more data</div><div id="2071" class="line none"> 2071  * in the beginning of the buffer.</div><div id="2072" class="line none"> 2072  *</div><div id="2073" class="line none"> 2073  * @param buf Buffer to update.</div><div id="2074" class="line none"> 2074  * @param mem Location of data to be added.</div><div id="2075" class="line none"> 2075  * @param len Length of data to be added.</div><div id="2076" class="line none"> 2076  *</div><div id="2077" class="line none"> 2077  * @return The new beginning of the buffer data.</div><div id="2078" class="line none"> 2078  */</div><div id="2079" class="line none"> 2079 static inline void *<a href="buf.h.html#2079">net_buf_push_mem</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, const void *mem,</div><div id="2080" class="line none"> 2080                                      size_t <a href="buf.h.html#96">len</a>)</div><div id="2081" class="line none"> 2081 {</div><div id="2082" class="line none"> 2082         return net_buf_simple_push_mem(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, mem, <a href="buf.h.html#96">len</a>);</div><div id="2083" class="line none"> 2083 }</div><div id="2084" class="line none"> 2084 </div><div id="2085" class="line none"> 2085 /**</div><div id="2086" class="line none"> 2086  * @brief Push 8-bit value to the beginning of the buffer</div><div id="2087" class="line none"> 2087  *</div><div id="2088" class="line none"> 2088  * Adds 8-bit value the beginning of the buffer.</div><div id="2089" class="line none"> 2089  *</div><div id="2090" class="line none"> 2090  * @param buf Buffer to update.</div><div id="2091" class="line none"> 2091  * @param val 8-bit value to be pushed to the buffer.</div><div id="2092" class="line none"> 2092  */</div><div id="2093" class="line none"> 2093 static inline void <a href="buf.h.html#2093">net_buf_push_u8</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint8_t val)</div><div id="2094" class="line none"> 2094 {</div><div id="2095" class="line none"> 2095         net_buf_simple_push_u8(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2096" class="line none"> 2096 }</div><div id="2097" class="line none"> 2097 </div><div id="2098" class="line none"> 2098 /**</div><div id="2099" class="line none"> 2099  * @brief Push 16-bit value to the beginning of the buffer</div><div id="2100" class="line none"> 2100  *</div><div id="2101" class="line none"> 2101  * Adds 16-bit value in little endian format to the beginning of the</div><div id="2102" class="line none"> 2102  * buffer.</div><div id="2103" class="line none"> 2103  *</div><div id="2104" class="line none"> 2104  * @param buf Buffer to update.</div><div id="2105" class="line none"> 2105  * @param val 16-bit value to be pushed to the buffer.</div><div id="2106" class="line none"> 2106  */</div><div id="2107" class="line none"> 2107 static inline void <a href="buf.h.html#2107">net_buf_push_le16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint16_t val)</div><div id="2108" class="line none"> 2108 {</div><div id="2109" class="line none"> 2109         net_buf_simple_push_le16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2110" class="line none"> 2110 }</div><div id="2111" class="line none"> 2111 </div><div id="2112" class="line none"> 2112 /**</div><div id="2113" class="line none"> 2113  * @brief Push 16-bit value to the beginning of the buffer</div><div id="2114" class="line none"> 2114  *</div><div id="2115" class="line none"> 2115  * Adds 16-bit value in big endian format to the beginning of the</div><div id="2116" class="line none"> 2116  * buffer.</div><div id="2117" class="line none"> 2117  *</div><div id="2118" class="line none"> 2118  * @param buf Buffer to update.</div><div id="2119" class="line none"> 2119  * @param val 16-bit value to be pushed to the buffer.</div><div id="2120" class="line none"> 2120  */</div><div id="2121" class="line none"> 2121 static inline void <a href="buf.h.html#2121">net_buf_push_be16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint16_t val)</div><div id="2122" class="line none"> 2122 {</div><div id="2123" class="line none"> 2123         net_buf_simple_push_be16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2124" class="line none"> 2124 }</div><div id="2125" class="line none"> 2125 </div><div id="2126" class="line none"> 2126 /**</div><div id="2127" class="line none"> 2127  * @brief Push 24-bit value to the beginning of the buffer</div><div id="2128" class="line none"> 2128  *</div><div id="2129" class="line none"> 2129  * Adds 24-bit value in little endian format to the beginning of the</div><div id="2130" class="line none"> 2130  * buffer.</div><div id="2131" class="line none"> 2131  *</div><div id="2132" class="line none"> 2132  * @param buf Buffer to update.</div><div id="2133" class="line none"> 2133  * @param val 24-bit value to be pushed to the buffer.</div><div id="2134" class="line none"> 2134  */</div><div id="2135" class="line none"> 2135 static inline void <a href="buf.h.html#2135">net_buf_push_le24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="2136" class="line none"> 2136 {</div><div id="2137" class="line none"> 2137         net_buf_simple_push_le24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2138" class="line none"> 2138 }</div><div id="2139" class="line none"> 2139 </div><div id="2140" class="line none"> 2140 /**</div><div id="2141" class="line none"> 2141  * @brief Push 24-bit value to the beginning of the buffer</div><div id="2142" class="line none"> 2142  *</div><div id="2143" class="line none"> 2143  * Adds 24-bit value in big endian format to the beginning of the</div><div id="2144" class="line none"> 2144  * buffer.</div><div id="2145" class="line none"> 2145  *</div><div id="2146" class="line none"> 2146  * @param buf Buffer to update.</div><div id="2147" class="line none"> 2147  * @param val 24-bit value to be pushed to the buffer.</div><div id="2148" class="line none"> 2148  */</div><div id="2149" class="line none"> 2149 static inline void <a href="buf.h.html#2149">net_buf_push_be24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="2150" class="line none"> 2150 {</div><div id="2151" class="line none"> 2151         net_buf_simple_push_be24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2152" class="line none"> 2152 }</div><div id="2153" class="line none"> 2153 </div><div id="2154" class="line none"> 2154 /**</div><div id="2155" class="line none"> 2155  * @brief Push 32-bit value to the beginning of the buffer</div><div id="2156" class="line none"> 2156  *</div><div id="2157" class="line none"> 2157  * Adds 32-bit value in little endian format to the beginning of the</div><div id="2158" class="line none"> 2158  * buffer.</div><div id="2159" class="line none"> 2159  *</div><div id="2160" class="line none"> 2160  * @param buf Buffer to update.</div><div id="2161" class="line none"> 2161  * @param val 32-bit value to be pushed to the buffer.</div><div id="2162" class="line none"> 2162  */</div><div id="2163" class="line none"> 2163 static inline void <a href="buf.h.html#2163">net_buf_push_le32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="2164" class="line none"> 2164 {</div><div id="2165" class="line none"> 2165         net_buf_simple_push_le32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2166" class="line none"> 2166 }</div><div id="2167" class="line none"> 2167 </div><div id="2168" class="line none"> 2168 /**</div><div id="2169" class="line none"> 2169  * @brief Push 32-bit value to the beginning of the buffer</div><div id="2170" class="line none"> 2170  *</div><div id="2171" class="line none"> 2171  * Adds 32-bit value in big endian format to the beginning of the</div><div id="2172" class="line none"> 2172  * buffer.</div><div id="2173" class="line none"> 2173  *</div><div id="2174" class="line none"> 2174  * @param buf Buffer to update.</div><div id="2175" class="line none"> 2175  * @param val 32-bit value to be pushed to the buffer.</div><div id="2176" class="line none"> 2176  */</div><div id="2177" class="line none"> 2177 static inline void <a href="buf.h.html#2177">net_buf_push_be32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint32_t val)</div><div id="2178" class="line none"> 2178 {</div><div id="2179" class="line none"> 2179         net_buf_simple_push_be32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2180" class="line none"> 2180 }</div><div id="2181" class="line none"> 2181 </div><div id="2182" class="line none"> 2182 /**</div><div id="2183" class="line none"> 2183  * @brief Push 40-bit value to the beginning of the buffer</div><div id="2184" class="line none"> 2184  *</div><div id="2185" class="line none"> 2185  * Adds 40-bit value in little endian format to the beginning of the</div><div id="2186" class="line none"> 2186  * buffer.</div><div id="2187" class="line none"> 2187  *</div><div id="2188" class="line none"> 2188  * @param buf Buffer to update.</div><div id="2189" class="line none"> 2189  * @param val 40-bit value to be pushed to the buffer.</div><div id="2190" class="line none"> 2190  */</div><div id="2191" class="line none"> 2191 static inline void <a href="buf.h.html#2191">net_buf_push_le40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="2192" class="line none"> 2192 {</div><div id="2193" class="line none"> 2193         net_buf_simple_push_le40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2194" class="line none"> 2194 }</div><div id="2195" class="line none"> 2195 </div><div id="2196" class="line none"> 2196 /**</div><div id="2197" class="line none"> 2197  * @brief Push 40-bit value to the beginning of the buffer</div><div id="2198" class="line none"> 2198  *</div><div id="2199" class="line none"> 2199  * Adds 40-bit value in big endian format to the beginning of the</div><div id="2200" class="line none"> 2200  * buffer.</div><div id="2201" class="line none"> 2201  *</div><div id="2202" class="line none"> 2202  * @param buf Buffer to update.</div><div id="2203" class="line none"> 2203  * @param val 40-bit value to be pushed to the buffer.</div><div id="2204" class="line none"> 2204  */</div><div id="2205" class="line none"> 2205 static inline void <a href="buf.h.html#2205">net_buf_push_be40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="2206" class="line none"> 2206 {</div><div id="2207" class="line none"> 2207         net_buf_simple_push_be40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2208" class="line none"> 2208 }</div><div id="2209" class="line none"> 2209 </div><div id="2210" class="line none"> 2210 /**</div><div id="2211" class="line none"> 2211  * @brief Push 48-bit value to the beginning of the buffer</div><div id="2212" class="line none"> 2212  *</div><div id="2213" class="line none"> 2213  * Adds 48-bit value in little endian format to the beginning of the</div><div id="2214" class="line none"> 2214  * buffer.</div><div id="2215" class="line none"> 2215  *</div><div id="2216" class="line none"> 2216  * @param buf Buffer to update.</div><div id="2217" class="line none"> 2217  * @param val 48-bit value to be pushed to the buffer.</div><div id="2218" class="line none"> 2218  */</div><div id="2219" class="line none"> 2219 static inline void <a href="buf.h.html#2219">net_buf_push_le48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="2220" class="line none"> 2220 {</div><div id="2221" class="line none"> 2221         net_buf_simple_push_le48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2222" class="line none"> 2222 }</div><div id="2223" class="line none"> 2223 </div><div id="2224" class="line none"> 2224 /**</div><div id="2225" class="line none"> 2225  * @brief Push 48-bit value to the beginning of the buffer</div><div id="2226" class="line none"> 2226  *</div><div id="2227" class="line none"> 2227  * Adds 48-bit value in big endian format to the beginning of the</div><div id="2228" class="line none"> 2228  * buffer.</div><div id="2229" class="line none"> 2229  *</div><div id="2230" class="line none"> 2230  * @param buf Buffer to update.</div><div id="2231" class="line none"> 2231  * @param val 48-bit value to be pushed to the buffer.</div><div id="2232" class="line none"> 2232  */</div><div id="2233" class="line none"> 2233 static inline void <a href="buf.h.html#2233">net_buf_push_be48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="2234" class="line none"> 2234 {</div><div id="2235" class="line none"> 2235         net_buf_simple_push_be48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2236" class="line none"> 2236 }</div><div id="2237" class="line none"> 2237 </div><div id="2238" class="line none"> 2238 /**</div><div id="2239" class="line none"> 2239  * @brief Push 64-bit value to the beginning of the buffer</div><div id="2240" class="line none"> 2240  *</div><div id="2241" class="line none"> 2241  * Adds 64-bit value in little endian format to the beginning of the</div><div id="2242" class="line none"> 2242  * buffer.</div><div id="2243" class="line none"> 2243  *</div><div id="2244" class="line none"> 2244  * @param buf Buffer to update.</div><div id="2245" class="line none"> 2245  * @param val 64-bit value to be pushed to the buffer.</div><div id="2246" class="line none"> 2246  */</div><div id="2247" class="line none"> 2247 static inline void <a href="buf.h.html#2247">net_buf_push_le64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="2248" class="line none"> 2248 {</div><div id="2249" class="line none"> 2249         net_buf_simple_push_le64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2250" class="line none"> 2250 }</div><div id="2251" class="line none"> 2251 </div><div id="2252" class="line none"> 2252 /**</div><div id="2253" class="line none"> 2253  * @brief Push 64-bit value to the beginning of the buffer</div><div id="2254" class="line none"> 2254  *</div><div id="2255" class="line none"> 2255  * Adds 64-bit value in big endian format to the beginning of the</div><div id="2256" class="line none"> 2256  * buffer.</div><div id="2257" class="line none"> 2257  *</div><div id="2258" class="line none"> 2258  * @param buf Buffer to update.</div><div id="2259" class="line none"> 2259  * @param val 64-bit value to be pushed to the buffer.</div><div id="2260" class="line none"> 2260  */</div><div id="2261" class="line none"> 2261 static inline void <a href="buf.h.html#2261">net_buf_push_be64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, uint64_t val)</div><div id="2262" class="line none"> 2262 {</div><div id="2263" class="line none"> 2263         net_buf_simple_push_be64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, val);</div><div id="2264" class="line none"> 2264 }</div><div id="2265" class="line none"> 2265 </div><div id="2266" class="line none"> 2266 /**</div><div id="2267" class="line none"> 2267  * @brief Remove data from the beginning of the buffer.</div><div id="2268" class="line none"> 2268  *</div><div id="2269" class="line none"> 2269  * Removes data from the beginning of the buffer by modifying the data</div><div id="2270" class="line none"> 2270  * pointer and buffer length.</div><div id="2271" class="line none"> 2271  *</div><div id="2272" class="line none"> 2272  * @param buf Buffer to update.</div><div id="2273" class="line none"> 2273  * @param len Number of bytes to remove.</div><div id="2274" class="line none"> 2274  *</div><div id="2275" class="line none"> 2275  * @return New beginning of the buffer data.</div><div id="2276" class="line none"> 2276  */</div><div id="2277" class="line none"> 2277 static inline void *<a href="buf.h.html#2277">net_buf_pull</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>)</div><div id="2278" class="line none"> 2278 {</div><div id="2279" class="line none"> 2279         return net_buf_simple_pull(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, <a href="buf.h.html#96">len</a>);</div><div id="2280" class="line none"> 2280 }</div><div id="2281" class="line none"> 2281 </div><div id="2282" class="line none"> 2282 /**</div><div id="2283" class="line none"> 2283  * @brief Remove data from the beginning of the buffer.</div><div id="2284" class="line none"> 2284  *</div><div id="2285" class="line none"> 2285  * Removes data from the beginning of the buffer by modifying the data</div><div id="2286" class="line none"> 2286  * pointer and buffer length.</div><div id="2287" class="line none"> 2287  *</div><div id="2288" class="line none"> 2288  * @param buf Buffer to update.</div><div id="2289" class="line none"> 2289  * @param len Number of bytes to remove.</div><div id="2290" class="line none"> 2290  *</div><div id="2291" class="line none"> 2291  * @return Pointer to the old beginning of the buffer data.</div><div id="2292" class="line none"> 2292  */</div><div id="2293" class="line none"> 2293 static inline void *<a href="buf.h.html#2293">net_buf_pull_mem</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>)</div><div id="2294" class="line none"> 2294 {</div><div id="2295" class="line none"> 2295         return net_buf_simple_pull_mem(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>, <a href="buf.h.html#96">len</a>);</div><div id="2296" class="line none"> 2296 }</div><div id="2297" class="line none"> 2297 </div><div id="2298" class="line none"> 2298 /**</div><div id="2299" class="line none"> 2299  * @brief Remove a 8-bit value from the beginning of the buffer</div><div id="2300" class="line none"> 2300  *</div><div id="2301" class="line none"> 2301  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2302" class="line none"> 2302  * 8-bit values.</div><div id="2303" class="line none"> 2303  *</div><div id="2304" class="line none"> 2304  * @param buf A valid pointer on a buffer.</div><div id="2305" class="line none"> 2305  *</div><div id="2306" class="line none"> 2306  * @return The 8-bit removed value</div><div id="2307" class="line none"> 2307  */</div><div id="2308" class="line none"> 2308 static inline uint8_t <a href="buf.h.html#2308">net_buf_pull_u8</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2309" class="line none"> 2309 {</div><div id="2310" class="line none"> 2310         return net_buf_simple_pull_u8(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2311" class="line none"> 2311 }</div><div id="2312" class="line none"> 2312 </div><div id="2313" class="line none"> 2313 /**</div><div id="2314" class="line none"> 2314  * @brief Remove and convert 16 bits from the beginning of the buffer.</div><div id="2315" class="line none"> 2315  *</div><div id="2316" class="line none"> 2316  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2317" class="line none"> 2317  * 16-bit little endian data.</div><div id="2318" class="line none"> 2318  *</div><div id="2319" class="line none"> 2319  * @param buf A valid pointer on a buffer.</div><div id="2320" class="line none"> 2320  *</div><div id="2321" class="line none"> 2321  * @return 16-bit value converted from little endian to host endian.</div><div id="2322" class="line none"> 2322  */</div><div id="2323" class="line none"> 2323 static inline uint16_t <a href="buf.h.html#2323">net_buf_pull_le16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2324" class="line none"> 2324 {</div><div id="2325" class="line none"> 2325         return net_buf_simple_pull_le16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2326" class="line none"> 2326 }</div><div id="2327" class="line none"> 2327 </div><div id="2328" class="line none"> 2328 /**</div><div id="2329" class="line none"> 2329  * @brief Remove and convert 16 bits from the beginning of the buffer.</div><div id="2330" class="line none"> 2330  *</div><div id="2331" class="line none"> 2331  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2332" class="line none"> 2332  * 16-bit big endian data.</div><div id="2333" class="line none"> 2333  *</div><div id="2334" class="line none"> 2334  * @param buf A valid pointer on a buffer.</div><div id="2335" class="line none"> 2335  *</div><div id="2336" class="line none"> 2336  * @return 16-bit value converted from big endian to host endian.</div><div id="2337" class="line none"> 2337  */</div><div id="2338" class="line none"> 2338 static inline uint16_t <a href="buf.h.html#2338">net_buf_pull_be16</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2339" class="line none"> 2339 {</div><div id="2340" class="line none"> 2340         return net_buf_simple_pull_be16(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2341" class="line none"> 2341 }</div><div id="2342" class="line none"> 2342 </div><div id="2343" class="line none"> 2343 /**</div><div id="2344" class="line none"> 2344  * @brief Remove and convert 24 bits from the beginning of the buffer.</div><div id="2345" class="line none"> 2345  *</div><div id="2346" class="line none"> 2346  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2347" class="line none"> 2347  * 24-bit little endian data.</div><div id="2348" class="line none"> 2348  *</div><div id="2349" class="line none"> 2349  * @param buf A valid pointer on a buffer.</div><div id="2350" class="line none"> 2350  *</div><div id="2351" class="line none"> 2351  * @return 24-bit value converted from little endian to host endian.</div><div id="2352" class="line none"> 2352  */</div><div id="2353" class="line none"> 2353 static inline uint32_t <a href="buf.h.html#2353">net_buf_pull_le24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2354" class="line none"> 2354 {</div><div id="2355" class="line none"> 2355         return net_buf_simple_pull_le24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2356" class="line none"> 2356 }</div><div id="2357" class="line none"> 2357 </div><div id="2358" class="line none"> 2358 /**</div><div id="2359" class="line none"> 2359  * @brief Remove and convert 24 bits from the beginning of the buffer.</div><div id="2360" class="line none"> 2360  *</div><div id="2361" class="line none"> 2361  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2362" class="line none"> 2362  * 24-bit big endian data.</div><div id="2363" class="line none"> 2363  *</div><div id="2364" class="line none"> 2364  * @param buf A valid pointer on a buffer.</div><div id="2365" class="line none"> 2365  *</div><div id="2366" class="line none"> 2366  * @return 24-bit value converted from big endian to host endian.</div><div id="2367" class="line none"> 2367  */</div><div id="2368" class="line none"> 2368 static inline uint32_t <a href="buf.h.html#2368">net_buf_pull_be24</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2369" class="line none"> 2369 {</div><div id="2370" class="line none"> 2370         return net_buf_simple_pull_be24(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2371" class="line none"> 2371 }</div><div id="2372" class="line none"> 2372 </div><div id="2373" class="line none"> 2373 /**</div><div id="2374" class="line none"> 2374  * @brief Remove and convert 32 bits from the beginning of the buffer.</div><div id="2375" class="line none"> 2375  *</div><div id="2376" class="line none"> 2376  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2377" class="line none"> 2377  * 32-bit little endian data.</div><div id="2378" class="line none"> 2378  *</div><div id="2379" class="line none"> 2379  * @param buf A valid pointer on a buffer.</div><div id="2380" class="line none"> 2380  *</div><div id="2381" class="line none"> 2381  * @return 32-bit value converted from little endian to host endian.</div><div id="2382" class="line none"> 2382  */</div><div id="2383" class="line none"> 2383 static inline uint32_t <a href="buf.h.html#2383">net_buf_pull_le32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2384" class="line none"> 2384 {</div><div id="2385" class="line none"> 2385         return net_buf_simple_pull_le32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2386" class="line none"> 2386 }</div><div id="2387" class="line none"> 2387 </div><div id="2388" class="line none"> 2388 /**</div><div id="2389" class="line none"> 2389  * @brief Remove and convert 32 bits from the beginning of the buffer.</div><div id="2390" class="line none"> 2390  *</div><div id="2391" class="line none"> 2391  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2392" class="line none"> 2392  * 32-bit big endian data.</div><div id="2393" class="line none"> 2393  *</div><div id="2394" class="line none"> 2394  * @param buf A valid pointer on a buffer</div><div id="2395" class="line none"> 2395  *</div><div id="2396" class="line none"> 2396  * @return 32-bit value converted from big endian to host endian.</div><div id="2397" class="line none"> 2397  */</div><div id="2398" class="line none"> 2398 static inline uint32_t <a href="buf.h.html#2398">net_buf_pull_be32</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2399" class="line none"> 2399 {</div><div id="2400" class="line none"> 2400         return net_buf_simple_pull_be32(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2401" class="line none"> 2401 }</div><div id="2402" class="line none"> 2402 </div><div id="2403" class="line none"> 2403 /**</div><div id="2404" class="line none"> 2404  * @brief Remove and convert 40 bits from the beginning of the buffer.</div><div id="2405" class="line none"> 2405  *</div><div id="2406" class="line none"> 2406  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2407" class="line none"> 2407  * 40-bit little endian data.</div><div id="2408" class="line none"> 2408  *</div><div id="2409" class="line none"> 2409  * @param buf A valid pointer on a buffer.</div><div id="2410" class="line none"> 2410  *</div><div id="2411" class="line none"> 2411  * @return 40-bit value converted from little endian to host endian.</div><div id="2412" class="line none"> 2412  */</div><div id="2413" class="line none"> 2413 static inline uint64_t <a href="buf.h.html#2413">net_buf_pull_le40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2414" class="line none"> 2414 {</div><div id="2415" class="line none"> 2415         return net_buf_simple_pull_le40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2416" class="line none"> 2416 }</div><div id="2417" class="line none"> 2417 </div><div id="2418" class="line none"> 2418 /**</div><div id="2419" class="line none"> 2419  * @brief Remove and convert 40 bits from the beginning of the buffer.</div><div id="2420" class="line none"> 2420  *</div><div id="2421" class="line none"> 2421  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2422" class="line none"> 2422  * 40-bit big endian data.</div><div id="2423" class="line none"> 2423  *</div><div id="2424" class="line none"> 2424  * @param buf A valid pointer on a buffer</div><div id="2425" class="line none"> 2425  *</div><div id="2426" class="line none"> 2426  * @return 40-bit value converted from big endian to host endian.</div><div id="2427" class="line none"> 2427  */</div><div id="2428" class="line none"> 2428 static inline uint64_t <a href="buf.h.html#2428">net_buf_pull_be40</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2429" class="line none"> 2429 {</div><div id="2430" class="line none"> 2430         return net_buf_simple_pull_be40(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2431" class="line none"> 2431 }</div><div id="2432" class="line none"> 2432 </div><div id="2433" class="line none"> 2433 /**</div><div id="2434" class="line none"> 2434  * @brief Remove and convert 48 bits from the beginning of the buffer.</div><div id="2435" class="line none"> 2435  *</div><div id="2436" class="line none"> 2436  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2437" class="line none"> 2437  * 48-bit little endian data.</div><div id="2438" class="line none"> 2438  *</div><div id="2439" class="line none"> 2439  * @param buf A valid pointer on a buffer.</div><div id="2440" class="line none"> 2440  *</div><div id="2441" class="line none"> 2441  * @return 48-bit value converted from little endian to host endian.</div><div id="2442" class="line none"> 2442  */</div><div id="2443" class="line none"> 2443 static inline uint64_t <a href="buf.h.html#2443">net_buf_pull_le48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2444" class="line none"> 2444 {</div><div id="2445" class="line none"> 2445         return net_buf_simple_pull_le48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2446" class="line none"> 2446 }</div><div id="2447" class="line none"> 2447 </div><div id="2448" class="line none"> 2448 /**</div><div id="2449" class="line none"> 2449  * @brief Remove and convert 48 bits from the beginning of the buffer.</div><div id="2450" class="line none"> 2450  *</div><div id="2451" class="line none"> 2451  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2452" class="line none"> 2452  * 48-bit big endian data.</div><div id="2453" class="line none"> 2453  *</div><div id="2454" class="line none"> 2454  * @param buf A valid pointer on a buffer</div><div id="2455" class="line none"> 2455  *</div><div id="2456" class="line none"> 2456  * @return 48-bit value converted from big endian to host endian.</div><div id="2457" class="line none"> 2457  */</div><div id="2458" class="line none"> 2458 static inline uint64_t <a href="buf.h.html#2458">net_buf_pull_be48</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2459" class="line none"> 2459 {</div><div id="2460" class="line none"> 2460         return net_buf_simple_pull_be48(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2461" class="line none"> 2461 }</div><div id="2462" class="line none"> 2462 </div><div id="2463" class="line none"> 2463 /**</div><div id="2464" class="line none"> 2464  * @brief Remove and convert 64 bits from the beginning of the buffer.</div><div id="2465" class="line none"> 2465  *</div><div id="2466" class="line none"> 2466  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2467" class="line none"> 2467  * 64-bit little endian data.</div><div id="2468" class="line none"> 2468  *</div><div id="2469" class="line none"> 2469  * @param buf A valid pointer on a buffer.</div><div id="2470" class="line none"> 2470  *</div><div id="2471" class="line none"> 2471  * @return 64-bit value converted from little endian to host endian.</div><div id="2472" class="line none"> 2472  */</div><div id="2473" class="line none"> 2473 static inline uint64_t <a href="buf.h.html#2473">net_buf_pull_le64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2474" class="line none"> 2474 {</div><div id="2475" class="line none"> 2475         return net_buf_simple_pull_le64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2476" class="line none"> 2476 }</div><div id="2477" class="line none"> 2477 </div><div id="2478" class="line none"> 2478 /**</div><div id="2479" class="line none"> 2479  * @brief Remove and convert 64 bits from the beginning of the buffer.</div><div id="2480" class="line none"> 2480  *</div><div id="2481" class="line none"> 2481  * Same idea as with net_buf_pull(), but a helper for operating on</div><div id="2482" class="line none"> 2482  * 64-bit big endian data.</div><div id="2483" class="line none"> 2483  *</div><div id="2484" class="line none"> 2484  * @param buf A valid pointer on a buffer</div><div id="2485" class="line none"> 2485  *</div><div id="2486" class="line none"> 2486  * @return 64-bit value converted from big endian to host endian.</div><div id="2487" class="line none"> 2487  */</div><div id="2488" class="line none"> 2488 static inline uint64_t <a href="buf.h.html#2488">net_buf_pull_be64</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2489" class="line none"> 2489 {</div><div id="2490" class="line none"> 2490         return net_buf_simple_pull_be64(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2491" class="line none"> 2491 }</div><div id="2492" class="line none"> 2492 </div><div id="2493" class="line none"> 2493 /**</div><div id="2494" class="line none"> 2494  * @brief Check buffer tailroom.</div><div id="2495" class="line none"> 2495  *</div><div id="2496" class="line none"> 2496  * Check how much free space there is at the end of the buffer.</div><div id="2497" class="line none"> 2497  *</div><div id="2498" class="line none"> 2498  * @param buf A valid pointer on a buffer</div><div id="2499" class="line none"> 2499  *</div><div id="2500" class="line none"> 2500  * @return Number of bytes available at the end of the buffer.</div><div id="2501" class="line none"> 2501  */</div><div id="2502" class="line none"> 2502 static inline size_t <a href="buf.h.html#2502">net_buf_tailroom</a>(const struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2503" class="line none"> 2503 {</div><div id="2504" class="line none"> 2504         return <a href="buf.h.html#928">net_buf_simple_tailroom</a>(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2505" class="line none"> 2505 }</div><div id="2506" class="line none"> 2506 </div><div id="2507" class="line none"> 2507 /**</div><div id="2508" class="line none"> 2508  * @brief Check buffer headroom.</div><div id="2509" class="line none"> 2509  *</div><div id="2510" class="line none"> 2510  * Check how much free space there is in the beginning of the buffer.</div><div id="2511" class="line none"> 2511  *</div><div id="2512" class="line none"> 2512  * buf A valid pointer on a buffer</div><div id="2513" class="line none"> 2513  *</div><div id="2514" class="line none"> 2514  * @return Number of bytes available in the beginning of the buffer.</div><div id="2515" class="line none"> 2515  */</div><div id="2516" class="line none"> 2516 static inline size_t <a href="buf.h.html#2516">net_buf_headroom</a>(const struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2517" class="line none"> 2517 {</div><div id="2518" class="line none"> 2518         return net_buf_simple_headroom(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2519" class="line none"> 2519 }</div><div id="2520" class="line none"> 2520 </div><div id="2521" class="line none"> 2521 /**</div><div id="2522" class="line none"> 2522  * @brief Check maximum net_buf::len value.</div><div id="2523" class="line none"> 2523  *</div><div id="2524" class="line none"> 2524  * This value is depending on the number of bytes being reserved as headroom.</div><div id="2525" class="line none"> 2525  *</div><div id="2526" class="line none"> 2526  * @param buf A valid pointer on a buffer</div><div id="2527" class="line none"> 2527  *</div><div id="2528" class="line none"> 2528  * @return Number of bytes usable behind the net_buf::data pointer.</div><div id="2529" class="line none"> 2529  */</div><div id="2530" class="line none"> 2530 static inline uint16_t <a href="buf.h.html#2530">net_buf_max_len</a>(const struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2531" class="line none"> 2531 {</div><div id="2532" class="line none"> 2532         return net_buf_simple_max_len(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2533" class="line none"> 2533 }</div><div id="2534" class="line none"> 2534 </div><div id="2535" class="line none"> 2535 /**</div><div id="2536" class="line none"> 2536  * @brief Get the tail pointer for a buffer.</div><div id="2537" class="line none"> 2537  *</div><div id="2538" class="line none"> 2538  * Get a pointer to the end of the data in a buffer.</div><div id="2539" class="line none"> 2539  *</div><div id="2540" class="line none"> 2540  * @param buf Buffer.</div><div id="2541" class="line none"> 2541  *</div><div id="2542" class="line none"> 2542  * @return Tail pointer for the buffer.</div><div id="2543" class="line none"> 2543  */</div><div id="2544" class="line none"> 2544 static inline uint8_t *<a href="buf.h.html#2544">net_buf_tail</a>(const struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2545" class="line none"> 2545 {</div><div id="2546" class="line none"> 2546         return <a href="buf.h.html#903">net_buf_simple_tail</a>(&amp;buf-&gt;<a href="buf.h.html#1046">b</a>);</div><div id="2547" class="line none"> 2547 }</div><div id="2548" class="line none"> 2548 </div><div id="2549" class="line none"> 2549 /**</div><div id="2550" class="line none"> 2550  * @brief Find the last fragment in the fragment list.</div><div id="2551" class="line none"> 2551  *</div><div id="2552" class="line none"> 2552  * @return Pointer to last fragment in the list.</div><div id="2553" class="line none"> 2553  */</div><div id="2554" class="line none"> 2554 struct <a href="buf.h.html#1004">net_buf</a> *net_buf_frag_last(struct <a href="buf.h.html#1004">net_buf</a> *<a href="buf.h.html#1009">frags</a>);</div><div id="2555" class="line none"> 2555 </div><div id="2556" class="line none"> 2556 /**</div><div id="2557" class="line none"> 2557  * @brief Insert a new fragment to a chain of bufs.</div><div id="2558" class="line none"> 2558  *</div><div id="2559" class="line none"> 2559  * Insert a new fragment into the buffer fragments list after the parent.</div><div id="2560" class="line none"> 2560  *</div><div id="2561" class="line none"> 2561  * Note: This function takes ownership of the fragment reference so the</div><div id="2562" class="line none"> 2562  * caller is not required to unref.</div><div id="2563" class="line none"> 2563  *</div><div id="2564" class="line none"> 2564  * @param parent Parent buffer/fragment.</div><div id="2565" class="line none"> 2565  * @param frag Fragment to insert.</div><div id="2566" class="line none"> 2566  */</div><div id="2567" class="line none"> 2567 void net_buf_frag_insert(struct <a href="buf.h.html#1004">net_buf</a> *parent, struct <a href="buf.h.html#1004">net_buf</a> *frag);</div><div id="2568" class="line none"> 2568 </div><div id="2569" class="line none"> 2569 /**</div><div id="2570" class="line none"> 2570  * @brief Add a new fragment to the end of a chain of bufs.</div><div id="2571" class="line none"> 2571  *</div><div id="2572" class="line none"> 2572  * Append a new fragment into the buffer fragments list.</div><div id="2573" class="line none"> 2573  *</div><div id="2574" class="line none"> 2574  * Note: This function takes ownership of the fragment reference so the</div><div id="2575" class="line none"> 2575  * caller is not required to unref.</div><div id="2576" class="line none"> 2576  *</div><div id="2577" class="line none"> 2577  * @param head Head of the fragment chain.</div><div id="2578" class="line none"> 2578  * @param frag Fragment to add.</div><div id="2579" class="line none"> 2579  *</div><div id="2580" class="line none"> 2580  * @return New head of the fragment chain. Either head (if head</div><div id="2581" class="line none"> 2581  *         was non-NULL) or frag (if head was NULL).</div><div id="2582" class="line none"> 2582  */</div><div id="2583" class="line none"> 2583 struct <a href="buf.h.html#1004">net_buf</a> *net_buf_frag_add(struct <a href="buf.h.html#1004">net_buf</a> *<a href="../sys/slist.h.html#43">head</a>, struct <a href="buf.h.html#1004">net_buf</a> *frag);</div><div id="2584" class="line none"> 2584 </div><div id="2585" class="line none"> 2585 /**</div><div id="2586" class="line none"> 2586  * @brief Delete existing fragment from a chain of bufs.</div><div id="2587" class="line none"> 2587  *</div><div id="2588" class="line none"> 2588  * @param parent Parent buffer/fragment, or NULL if there is no parent.</div><div id="2589" class="line none"> 2589  * @param frag Fragment to delete.</div><div id="2590" class="line none"> 2590  *</div><div id="2591" class="line none"> 2591  * @return Pointer to the buffer following the fragment, or NULL if it</div><div id="2592" class="line none"> 2592  *         had no further fragments.</div><div id="2593" class="line none"> 2593  */</div><div id="2594" class="line none"> 2594 #if defined(CONFIG_NET_BUF_LOG)</div><div id="2595" class="line none"> 2595 struct <a href="buf.h.html#1004">net_buf</a> *net_buf_frag_del_debug(struct <a href="buf.h.html#1004">net_buf</a> *parent,</div><div id="2596" class="line none"> 2596                                        struct <a href="buf.h.html#1004">net_buf</a> *frag,</div><div id="2597" class="line none"> 2597                                        const char *func, int line);</div><div id="2598" class="line none"> 2598 #define <a href="buf.h.html#2598">net_buf_frag_del</a>(_parent, _frag) \</div><div id="2599" class="line none"> 2599         net_buf_frag_del_debug(_parent, _frag, __func__, __LINE__)</div><div id="2600" class="line none"> 2600 #else</div><div id="2601" class="line none"> 2601 struct <a href="buf.h.html#1004">net_buf</a> *<a href="buf.h.html#2598">net_buf_frag_del</a>(struct <a href="buf.h.html#1004">net_buf</a> *parent, struct <a href="buf.h.html#1004">net_buf</a> *frag);</div><div id="2602" class="line none"> 2602 #endif</div><div id="2603" class="line none"> 2603 </div><div id="2604" class="line none"> 2604 /**</div><div id="2605" class="line none"> 2605  * @brief Copy bytes from net_buf chain starting at offset to linear buffer</div><div id="2606" class="line none"> 2606  *</div><div id="2607" class="line none"> 2607  * Copy (extract) @a len bytes from @a src net_buf chain, starting from @a</div><div id="2608" class="line none"> 2608  * offset in it, to a linear buffer @a dst. Return number of bytes actually</div><div id="2609" class="line none"> 2609  * copied, which may be less than requested, if net_buf chain doesn't have</div><div id="2610" class="line none"> 2610  * enough data, or destination buffer is too small.</div><div id="2611" class="line none"> 2611  *</div><div id="2612" class="line none"> 2612  * @param dst Destination buffer</div><div id="2613" class="line none"> 2613  * @param dst_len Destination buffer length</div><div id="2614" class="line none"> 2614  * @param src Source net_buf chain</div><div id="2615" class="line none"> 2615  * @param offset Starting offset to copy from</div><div id="2616" class="line none"> 2616  * @param len Number of bytes to copy</div><div id="2617" class="line none"> 2617  * @return number of bytes actually copied</div><div id="2618" class="line none"> 2618  */</div><div id="2619" class="line none"> 2619 size_t net_buf_linearize(void *<a href="net_ip.h.html#531">dst</a>, size_t dst_len,</div><div id="2620" class="line none"> 2620                          const struct <a href="buf.h.html#1004">net_buf</a> *<a href="net_ip.h.html#530">src</a>, size_t <a href="buf.h.html#950">offset</a>, size_t <a href="buf.h.html#96">len</a>);</div><div id="2621" class="line none"> 2621 </div><div id="2622" class="line none"> 2622 /**</div><div id="2623" class="line none"> 2623  * @typedef net_buf_allocator_cb</div><div id="2624" class="line none"> 2624  * @brief Network buffer allocator callback.</div><div id="2625" class="line none"> 2625  *</div><div id="2626" class="line none"> 2626  * @details The allocator callback is called when net_buf_append_bytes</div><div id="2627" class="line none"> 2627  * needs to allocate a new net_buf.</div><div id="2628" class="line none"> 2628  *</div><div id="2629" class="line none"> 2629  * @param timeout Affects the action taken should the net buf pool be empty.</div><div id="2630" class="line none"> 2630  *        If K_NO_WAIT, then return immediately. If K_FOREVER, then</div><div id="2631" class="line none"> 2631  *        wait as long as necessary. Otherwise, wait until the specified</div><div id="2632" class="line none"> 2632  *        timeout.</div><div id="2633" class="line none"> 2633  * @param user_data The user data given in net_buf_append_bytes call.</div><div id="2634" class="line none"> 2634  * @return pointer to allocated net_buf or NULL on error.</div><div id="2635" class="line none"> 2635  */</div><div id="2636" class="line none"> 2636 typedef struct <a href="buf.h.html#1004">net_buf</a> * __must_check (*<a href="buf.h.html#2636">net_buf_allocator_cb</a>)(k_timeout_t timeout,</div><div id="2637" class="line none"> 2637                                                               void *<a href="buf.h.html#1051">user_data</a>);</div><div id="2638" class="line none"> 2638 </div><div id="2639" class="line none"> 2639 /**</div><div id="2640" class="line none"> 2640  * @brief Append data to a list of net_buf</div><div id="2641" class="line none"> 2641  *</div><div id="2642" class="line none"> 2642  * @details Append data to a net_buf. If there is not enough space in the</div><div id="2643" class="line none"> 2643  * net_buf then more net_buf will be added, unless there are no free net_buf</div><div id="2644" class="line none"> 2644  * and timeout occurs. If not allocator is provided it attempts to allocate from</div><div id="2645" class="line none"> 2645  * the same pool as the original buffer.</div><div id="2646" class="line none"> 2646  *</div><div id="2647" class="line none"> 2647  * @param buf Network buffer.</div><div id="2648" class="line none"> 2648  * @param len Total length of input data</div><div id="2649" class="line none"> 2649  * @param value Data to be added</div><div id="2650" class="line none"> 2650  * @param timeout Timeout is passed to the net_buf allocator callback.</div><div id="2651" class="line none"> 2651  * @param allocate_cb When a new net_buf is required, use this callback.</div><div id="2652" class="line none"> 2652  * @param user_data A user data pointer to be supplied to the allocate_cb.</div><div id="2653" class="line none"> 2653  *        This pointer is can be anything from a mem_pool or a net_pkt, the</div><div id="2654" class="line none"> 2654  *        logic is left up to the allocate_cb function.</div><div id="2655" class="line none"> 2655  *</div><div id="2656" class="line none"> 2656  * @return Length of data actually added. This may be less than input</div><div id="2657" class="line none"> 2657  *         length if other timeout than K_FOREVER was used, and there</div><div id="2658" class="line none"> 2658  *         were no free fragments in a pool to accommodate all data.</div><div id="2659" class="line none"> 2659  */</div><div id="2660" class="line none"> 2660 size_t net_buf_append_bytes(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>,</div><div id="2661" class="line none"> 2661                             const void *value, k_timeout_t timeout,</div><div id="2662" class="line none"> 2662                             <a href="buf.h.html#2636">net_buf_allocator_cb</a> allocate_cb, void *<a href="buf.h.html#1051">user_data</a>);</div><div id="2663" class="line none"> 2663 </div><div id="2664" class="line none"> 2664 /**</div><div id="2665" class="line none"> 2665  * @brief Match data with a net_buf's content</div><div id="2666" class="line none"> 2666  *</div><div id="2667" class="line none"> 2667  * @details Compare data with a content of a net_buf. Provide information about</div><div id="2668" class="line none"> 2668  * the number of bytes matching between both. If needed, traverse</div><div id="2669" class="line none"> 2669  * through multiple buffer fragments.</div><div id="2670" class="line none"> 2670  *</div><div id="2671" class="line none"> 2671  * @param buf Network buffer</div><div id="2672" class="line none"> 2672  * @param offset Starting offset to compare from</div><div id="2673" class="line none"> 2673  * @param data Data buffer for comparison</div><div id="2674" class="line none"> 2674  * @param len Number of bytes to compare</div><div id="2675" class="line none"> 2675  *</div><div id="2676" class="line none"> 2676  * @return The number of bytes compared before the first difference.</div><div id="2677" class="line none"> 2677  */</div><div id="2678" class="line none"> 2678 size_t net_buf_data_match(const struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#950">offset</a>, const void *<a href="buf.h.html#89">data</a>, size_t <a href="buf.h.html#96">len</a>);</div><div id="2679" class="line none"> 2679 </div><div id="2680" class="line none"> 2680 /**</div><div id="2681" class="line none"> 2681  * @brief Skip N number of bytes in a net_buf</div><div id="2682" class="line none"> 2682  *</div><div id="2683" class="line none"> 2683  * @details Skip N number of bytes starting from fragment's offset. If the total</div><div id="2684" class="line none"> 2684  * length of data is placed in multiple fragments, this function will skip from</div><div id="2685" class="line none"> 2685  * all fragments until it reaches N number of bytes.  Any fully skipped buffers</div><div id="2686" class="line none"> 2686  * are removed from the net_buf list.</div><div id="2687" class="line none"> 2687  *</div><div id="2688" class="line none"> 2688  * @param buf Network buffer.</div><div id="2689" class="line none"> 2689  * @param len Total length of data to be skipped.</div><div id="2690" class="line none"> 2690  *</div><div id="2691" class="line none"> 2691  * @return Pointer to the fragment or</div><div id="2692" class="line none"> 2692  *         NULL and pos is 0 after successful skip,</div><div id="2693" class="line none"> 2693  *         NULL and pos is 0xffff otherwise.</div><div id="2694" class="line none"> 2694  */</div><div id="2695" class="line none"> 2695 static inline struct <a href="buf.h.html#1004">net_buf</a> *<a href="buf.h.html#2695">net_buf_skip</a>(struct <a href="buf.h.html#1004">net_buf</a> *buf, size_t <a href="buf.h.html#96">len</a>)</div><div id="2696" class="line none"> 2696 {</div><div id="2697" class="line none"> 2697         while (buf &amp;&amp; <a href="buf.h.html#96">len</a>--) {</div><div id="2698" class="line none"> 2698                 <a href="buf.h.html#2308">net_buf_pull_u8</a>(buf);</div><div id="2699" class="line none"> 2699                 if (!buf-&gt;<a href="buf.h.html#96">len</a>) {</div><div id="2700" class="line none"> 2700                         buf = <a href="buf.h.html#2598">net_buf_frag_del</a>(NULL, buf);</div><div id="2701" class="line none"> 2701                 }</div><div id="2702" class="line none"> 2702         }</div><div id="2703" class="line none"> 2703 </div><div id="2704" class="line none"> 2704         return buf;</div><div id="2705" class="line none"> 2705 }</div><div id="2706" class="line none"> 2706 </div><div id="2707" class="line none"> 2707 /**</div><div id="2708" class="line none"> 2708  * @brief Calculate amount of bytes stored in fragments.</div><div id="2709" class="line none"> 2709  *</div><div id="2710" class="line none"> 2710  * Calculates the total amount of data stored in the given buffer and the</div><div id="2711" class="line none"> 2711  * fragments linked to it.</div><div id="2712" class="line none"> 2712  *</div><div id="2713" class="line none"> 2713  * @param buf Buffer to start off with.</div><div id="2714" class="line none"> 2714  *</div><div id="2715" class="line none"> 2715  * @return Number of bytes in the buffer and its fragments.</div><div id="2716" class="line none"> 2716  */</div><div id="2717" class="line none"> 2717 static inline size_t <a href="buf.h.html#2717">net_buf_frags_len</a>(const struct <a href="buf.h.html#1004">net_buf</a> *buf)</div><div id="2718" class="line none"> 2718 {</div><div id="2719" class="line none"> 2719         size_t bytes = 0;</div><div id="2720" class="line none"> 2720 </div><div id="2721" class="line none"> 2721         while (buf) {</div><div id="2722" class="line none"> 2722                 bytes += buf-&gt;<a href="buf.h.html#96">len</a>;</div><div id="2723" class="line none"> 2723                 buf = buf-&gt;<a href="buf.h.html#1009">frags</a>;</div><div id="2724" class="line none"> 2724         }</div><div id="2725" class="line none"> 2725 </div><div id="2726" class="line none"> 2726         return bytes;</div><div id="2727" class="line none"> 2727 }</div><div id="2728" class="line none"> 2728 </div><div id="2729" class="line none"> 2729 /**</div><div id="2730" class="line none"> 2730  * @}</div><div id="2731" class="line none"> 2731  */</div><div id="2732" class="line none"> 2732 </div><div id="2733" class="line none"> 2733 #ifdef __cplusplus</div><div id="2734" class="line none"> 2734 }</div><div id="2735" class="line none"> 2735 #endif</div><div id="2736" class="line none"> 2736 </div><div id="2737" class="line none"> 2737 #endif /* ZEPHYR_INCLUDE_NET_BUF_H_ */</div>
</div>
</body>
</html>
